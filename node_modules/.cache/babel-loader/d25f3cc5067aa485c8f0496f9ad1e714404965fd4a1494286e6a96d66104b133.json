{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '@/assets/PersonalPage/PersonalBackground.jpg';\nimport _imports_1 from '@/assets/VerifiedUser.svg';\nimport _imports_2 from '@/assets/PersonalPage/UserinfoFold.svg';\nimport _imports_3 from '@/assets/PersonalPage/UserinfoUnfold.svg';\nconst _withScopeId = n => (_pushScopeId(\"data-v-8b9ca82e\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"my_box\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"personal_bgc\",\n  src: _imports_0,\n  alt: \"\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"avatar-box\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  class: \"text\"\n};\nconst _hoisted_6 = {\n  class: \"text\"\n};\nconst _hoisted_7 = {\n  class: \"user\"\n};\nconst _hoisted_8 = {\n  class: \"usershow\"\n};\nconst _hoisted_9 = {\n  style: {\n    \"display\": \"flex\",\n    \"align-items\": \"center\",\n    \"gap\": \"3px\"\n  }\n};\nconst _hoisted_10 = {\n  class: \"name\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  src: _imports_1,\n  style: {\n    \"width\": \"16px\",\n    \"height\": \"16px\"\n  },\n  alt: \"\"\n};\nconst _hoisted_12 = {\n  class: \"show\"\n};\nconst _hoisted_13 = {\n  class: \"skill\"\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"name2\"\n}, \"教育经历:\", -1 /* HOISTED */));\nconst _hoisted_15 = {\n  class: \"utext\"\n};\nconst _hoisted_16 = {\n  class: \"utext\"\n};\nconst _hoisted_17 = {\n  class: \"skill\"\n};\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"name2\"\n}, \"个性签名:\", -1 /* HOISTED */));\nconst _hoisted_19 = {\n  class: \"utext\"\n};\nconst _hoisted_20 = {\n  key: 0\n};\nconst _hoisted_21 = {\n  class: \"skill\"\n};\nconst _hoisted_22 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"name2\"\n}, \"个人成就:\", -1 /* HOISTED */));\nconst _hoisted_23 = {\n  class: \"utext\"\n};\nconst _hoisted_24 = {\n  class: \"skill\"\n};\nconst _hoisted_25 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"name2\"\n}, \"个人简历:\", -1 /* HOISTED */));\nconst _hoisted_26 = {\n  class: \"utext\"\n};\nconst _hoisted_27 = {\n  class: \"button\"\n};\nconst _hoisted_28 = {\n  key: 0,\n  src: _imports_2,\n  alt: \"\"\n};\nconst _hoisted_29 = {\n  key: 1,\n  src: _imports_3,\n  alt: \"\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n    src: $setup.user.newAvatar,\n    alt: \"User Avatar\",\n    class: \"pic\"\n  }, null, 8 /* PROPS */, _hoisted_4), _createElementVNode(\"div\", {\n    class: \"user_like\",\n    onClick: $setup.navigateToHelover\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.userStatsArray, stat => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"container first_two\",\n      key: stat.label\n    }, [_createElementVNode(\"span\", _hoisted_5, _toDisplayString(stat.label), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_6, _toDisplayString(stat.value), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"span\", _hoisted_10, _toDisplayString($setup.user.username), 1 /* TEXT */), $setup.user.verified === 1 ? (_openBlock(), _createElementBlock(\"img\", _hoisted_11)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _createElementVNode(\"span\", _hoisted_15, _toDisplayString($setup.user.school), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_16, _toDisplayString($setup.user.major), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _createElementVNode(\"span\", _hoisted_19, _toDisplayString($setup.user.signature), 1 /* TEXT */)]), $setup.showDetails ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_hoisted_22, _createElementVNode(\"span\", _hoisted_23, _toDisplayString($setup.user.achievement), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_24, [_hoisted_25, _createElementVNode(\"span\", _hoisted_26, _toDisplayString($setup.user.description), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"span\", {\n    class: \"htext\",\n    onClick: $setup.toggleDetails\n  }, [$setup.showDetails ? (_openBlock(), _createElementBlock(\"img\", _hoisted_28)) : (_openBlock(), _createElementBlock(\"img\", _hoisted_29)), _createTextVNode(\" \" + _toDisplayString($setup.buttonText), 1 /* TEXT */)])])])])])]);\n}","map":{"version":3,"names":["_imports_0","_imports_1","_imports_2","_imports_3","class","_createElementVNode","src","alt","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","$setup","user","newAvatar","onClick","navigateToHelover","_Fragment","_renderList","userStatsArray","stat","key","label","_hoisted_5","_toDisplayString","_hoisted_6","value","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","username","verified","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","school","_hoisted_16","major","_hoisted_17","_hoisted_18","_hoisted_19","signature","showDetails","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","achievement","_hoisted_24","_hoisted_25","_hoisted_26","description","_hoisted_27","toggleDetails","_hoisted_28","_hoisted_29","buttonText"],"sources":["D:\\有渔\\前端源码\\YouyuBBS-Q - 副本\\youyu-lyn-qtnew-vision-new-2024.1.14\\src\\page\\Personalpage\\componentes\\UserInformatin.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"my_box\">\r\n      <img class=\"personal_bgc\" src=\"@/assets/PersonalPage/PersonalBackground.jpg\" alt=\"\">\r\n      <div class=\"avatar-box\">\r\n        <img :src=\"user.newAvatar\" alt=\"User Avatar\" class=\"pic\" />\r\n        <div class=\"user_like\" @click=\"navigateToHelover\">\r\n          <div v-for=\"(stat) in userStatsArray\" \r\n              class=\"container first_two\" \r\n              :key=\"stat.label\">\r\n              <span class=\"text\">{{ stat.label }}</span>\r\n              <span class=\"text\">{{ stat.value }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"user\">\r\n      <div class=\"usershow\">\r\n        <div style=\"display: flex;align-items: center;gap: 3px;\">\r\n            <span class=\"name\">{{ user.username }}</span>\r\n            <img v-if=\"user.verified === 1\" src=\"@/assets/VerifiedUser.svg\" style=\"width: 16px;height: 16px;\" alt=\"\">\r\n        </div>\r\n        <div class=\"show\">\r\n          <div class=\"skill\">\r\n            <span class=\"name2\">教育经历:</span>\r\n            <span class=\"utext\">{{ user.school }}</span>\r\n            <span class=\"utext\">{{ user.major }}</span>\r\n          </div>\r\n          <div class=\"skill\">\r\n            <span class=\"name2\">个性签名:</span>\r\n            <span class=\"utext\">{{ user.signature }}</span>\r\n          </div>\r\n          <div v-if=\"showDetails\">\r\n            <div class=\"skill\">\r\n              <span class=\"name2\">个人成就:</span>\r\n              <span class=\"utext\">{{ user.achievement }}</span>\r\n            </div>\r\n            <div class=\"skill\">\r\n              <span class=\"name2\">个人简历:</span>\r\n              <span class=\"utext\">{{ user.description }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"button\">\r\n            <span class=\"htext\" @click=\"toggleDetails\">\r\n                <img src=\"@/assets/PersonalPage/UserinfoFold.svg\" alt=\"\" v-if=\"showDetails\">\r\n                <img src=\"@/assets/PersonalPage/UserinfoUnfold.svg\" alt=\"\" v-else>\r\n                {{ buttonText }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n  import { ref, onMounted,computed,watch} from \"vue\";\r\n  import axios from \"@/utils/request\";\r\n  import { useRouter } from \"vue-router\";\r\n  import { getUsersAvatarFromCOS } from '@/utils/cosService';\r\n  import { ElMessage } from 'element-plus';\r\n  import { PageTitle } from '@/utils/fileService.js'\r\n\r\n  const setPageTitle = PageTitle('正在加载...');\r\n  const userId = localStorage.getItem(\"userId\");\r\n  const router = useRouter();\r\n  const user = ref({});\r\n  const showDetails = ref(false);\r\n  const buttonText = ref(\"查看详细资料\");\r\n  const userStatsArray = computed(() => [\r\n  { label: '关注数', value: user.value.subscribeCount },\r\n  { label: '粉丝数', value: user.value.fanCount },\r\n]);\r\n\r\n  const toggleDetails = () => {\r\n      showDetails.value = !showDetails.value;\r\n      buttonText.value = showDetails.value ? \"收起详细资料\" : \"查看详细资料\";\r\n    };\r\n\r\n\r\n  const navigateToHelover = () => {\r\n    router.push(`/PersonalPage/helover`);\r\n  };\r\n\r\n\r\n  onMounted(async () => {\r\n    try {\r\n      const response = await axios.get(`/users/${userId}`);\r\n      user.value = response.data.data;\r\n      setPageTitle(`${ user.value.username} 的个人主页 - 云联知渔`); \r\n      user.value.newAvatar = await getUsersAvatarFromCOS(user.value.id);\r\n      console.log(user);\r\n    } catch (error) {\r\n      console.error(\"Error fetching user data:\", error);\r\n      ElMessage.error('获取用户信息失败');\r\n    }\r\n  });\r\n  // 监听路由变化以设置标签页标题\r\n  watch(() => router.currentRoute.value, (newRoute) => {\r\n    if (newRoute.path === '/PersonalPage') {\r\n      setPageTitle(`${ user.value.username} 的个人主页 - 云联知渔`);\r\n    }\r\n  });\r\n\r\n</script>\r\n\r\n<style scoped>\r\n  .my_box {\r\n    width: 93%;\r\n    height: 225px;\r\n    position: relative;\r\n    margin: 41px auto 0 auto;\r\n    background-size: cover; /* 使背景图片完全覆盖该盒子 */\r\n    background-position: center; /* 使背景图片居中 */\r\n    background-repeat: no-repeat; /* 防止背景图片重复 */\r\n  }\r\n  .personal_bgc{\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .avatar-box{\r\n    position: absolute;\r\n    left: 45px;\r\n    top: 90px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 15px;\r\n  }\r\n  .pic {\r\n    width: 160px;\r\n    height: 160px;\r\n    border-radius: 8px;\r\n    border: 4px solid #fff;\r\n    background-size: cover; \r\n    background-position: center; \r\n    background-repeat: no-repeat;\r\n    z-index: 1000; \r\n  }\r\n  .user {\r\n    width: 745px;\r\n    height: 170px;\r\n    position: relative;\r\n    margin: 30px auto 0 auto;\r\n  }\r\n  .user_like {\r\n    display: flex;\r\n    justify-content: space-evenly;\r\n    width: 100%;\r\n  }\r\n  .first_two:hover{\r\n    cursor: pointer;\r\n  }\r\n  .first_two:hover .text{\r\n    color: #67ABFF;\r\n  }\r\n  .user_like .container:last-child {\r\n    margin-right: 0; /* 使最后一个.container没有右边间隔 */\r\n  }\r\n  .container.first_two {\r\n    display: flex;\r\n    gap: 3px;\r\n  }\r\n  .text {\r\n    color: #aaa;\r\n    text-align: center;\r\n    font-size: 12px;\r\n    line-height: 1.6; \r\n  }\r\n  .usershow {\r\n    position: absolute;\r\n    display: flex;\r\n    top: 0px;\r\n    left: 60px;\r\n    width: 95%;\r\n    align-items: flex-start;\r\n  }\r\n  .name {\r\n    color: #000;\r\n    text-align: center;\r\n    font-family: Microsoft YaHei;\r\n    font-size: 22px;\r\n    font-style: normal;\r\n    white-space: nowrap;\r\n    font-weight: 700;\r\n    line-height: 120%; /* 28.8px */\r\n  }\r\n  .show {\r\n    margin-top: 15px;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n    \r\n  .button {\r\n    display: flex;\r\n    margin-bottom: 12px;\r\n  }\r\n  .suc{\r\n    height: 29px;\r\n    align-items: flex-end;\r\n  }\r\n  .skill{\r\n    margin: 2px 30px;\r\n    line-height: 25px;\r\n  }\r\n  .show .button:last-child {\r\n    margin-bottom: 0; /* 确保最后一个子元素没有额外的底部边距 */\r\n  }\r\n  .button_container {\r\n    gap: 20px;\r\n    margin-top: 30px;\r\n    position: absolute;\r\n    right: 30px;\r\n  }\r\n  .name2 {\r\n    color: #000;\r\n    text-align: center;\r\n    font-family: Microsoft YaHei;\r\n    font-size: 14px;\r\n    font-style: normal;\r\n    font-weight: 700;\r\n    line-height: 120%; /* 16.8px */\r\n  }\r\n  .utext {\r\n    max-width: 327px;\r\n    margin-left: 15px;\r\n    color: #000;\r\n    text-align: center;\r\n    font-family: Microsoft YaHei;\r\n    font-size: 14px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: 120%; /* 16.8px */\r\n    white-space: pre-line; /* 实现换行后依然顶格显示 */\r\n    text-align: left; /* 设置文本右对齐 */\r\n    direction: ltr; /* 从右到左显示文本，每一行都靠右对齐 */\r\n  }\r\n  .hover {\r\n    /* margin-right: 10px; */\r\n    padding: 6px 17px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 10px;\r\n    border-radius: 4px;\r\n    background: #9fa9ca;\r\n    border: 1px solid #ccd0d7;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .followed {\r\n    padding: 6px 17px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 10px;\r\n    border-radius: 4px;\r\n    background: #b5bfd0;\r\n    cursor: pointer;\r\n  }\r\n  .button1 {\r\n    margin-left: 10px;\r\n    padding: 6px 17px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 10px;\r\n    border-radius: 4px;\r\n    border: 1px solid #ccd0d7;\r\n    background: #fff;\r\n    cursor: pointer;\r\n  }\r\n  .button1:hover {\r\n    background: #edeff2; /* 这是一个稍微深一点的颜色，您可以根据需要调整 */\r\n  }\r\n  .htext {\r\n    color: #797979;\r\n    text-align: center;\r\n    font-family: Microsoft YaHei;\r\n    font-size: 12px;\r\n    margin: 10px 0px 10px 27px;\r\n    line-height: 120%; \r\n    cursor: pointer;\r\n  }\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}