{"ast":null,"code":"import TitleSection from \"@/page/TheSettings/components/TitleSection.vue\";\nimport TheTable from './TheTable.vue';\nimport { ref, onMounted } from \"vue\";\nimport { ElMessage } from 'element-plus';\nimport axios from '@/utils/request';\nconst msg = '我的余额';\nexport default {\n  __name: 'BalanceSection',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const userId = ref();\n    const userCurrencyData = ref('');\n    const content = ref([{\n      title: '鱼饵数',\n      msg: '去兑换',\n      count: ''\n    }, {\n      title: '渔币数',\n      msg: '去充值',\n      count: ''\n    }, {\n      title: '能量值',\n      msg: '去提现',\n      count: ''\n    }]);\n    const selectedOption = ref('all');\n    const selectdType = ref('0');\n    const handleMenuSelect = index => {\n      switch (index) {\n        case 'bait':\n          selectdType.value = '0';\n          break;\n        case 'coins':\n          selectdType.value = '1';\n          break;\n        case 'energy':\n          selectdType.value = '2';\n          break;\n      }\n    };\n\n    // 处理选择框变化事件\n    const handleSelectChange = value => {\n      console.log('选择框的值：', value);\n    };\n\n    //获取用户货币数据列表\n    async function getUserCurrency() {\n      try {\n        const response = await axios.get(`/currency`);\n        if (response.data.code === 1) {\n          userCurrencyData.value = response.data.data;\n          content.value[0].count = userCurrencyData.value.point;\n          content.value[1].count = userCurrencyData.value.coin;\n          content.value[2].count = userCurrencyData.value.energy;\n          // ElMessage.success('获取用户货币数据成功');\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          console.error(\"获取用户货币数据失败\");\n          ElMessage.error('获取用户货币数据失败');\n        }\n      } catch (error) {\n        console.error(\"获取用户货币数据失败\", error);\n        ElMessage.error('获取用户货币数据失败');\n      }\n    }\n    onMounted(() => {\n      userId.value = localStorage.getItem(\"userId\"); // 获取用户ID\n      getUserCurrency();\n    });\n    const __returned__ = {\n      msg,\n      userId,\n      userCurrencyData,\n      content,\n      selectedOption,\n      selectdType,\n      handleMenuSelect,\n      handleSelectChange,\n      getUserCurrency,\n      TitleSection,\n      TheTable,\n      ref,\n      onMounted,\n      get ElMessage() {\n        return ElMessage;\n      },\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["TitleSection","TheTable","ref","onMounted","ElMessage","axios","msg","userId","userCurrencyData","content","title","count","selectedOption","selectdType","handleMenuSelect","index","value","handleSelectChange","console","log","getUserCurrency","response","get","data","code","point","coin","energy","error","toString","localStorage","getItem"],"sources":["D:/有渔/前端源码/YouyuBBS-Q - 副本/youyu-lyn-qtnew-vision-new-2024.1.14/src/page/TheSettings/Mypurse/BalanceSection.vue"],"sourcesContent":["<template>\r\n  <div class=\"T_M\" style=\"display: flex;flex-direction: column;\">\r\n    <TitleSection :message=msg :show-btn=false />\r\n    <div class=\"page3\" >\r\n      <div class=\"balance\">\r\n        <div class=\"title-b\">余额总览</div>\r\n        <div class=\"outside\">\r\n          <div class=\"item-box\" v-for=\"(item,index) in content\" :key=\"index\">\r\n            <div class=\"title-line\">\r\n              <div class=\"item-title\">{{item.title}}</div>\r\n            </div>\r\n            <div class=\"count-line\">{{item.count}}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"bottom-table\">\r\n        <div class=\"title-b\">交易记录</div>\r\n        <el-menu mode=\"horizontal\" @select=\"handleMenuSelect\" class=\"menu\">\r\n          <div style=\"display: flex;\">\r\n            <el-menu-item index=\"bait\">鱼饵</el-menu-item>\r\n            <el-menu-item index=\"coins\">渔币</el-menu-item>\r\n            <el-menu-item index=\"energy\">能量</el-menu-item>\r\n          </div>\r\n\r\n          <el-select v-model=\"selectedOption\" placeholder=\"全部\" @change=\"handleSelectChange\">\r\n            <el-option label=\"全部\" value=\"all\"></el-option>\r\n            <el-option label=\"消费记录\" value=\"consumption\"></el-option>\r\n            <el-option label=\"充值记录\" value=\"recharge\"></el-option>\r\n          </el-select>\r\n        </el-menu>\r\n        <TheTable :selectdType=selectdType></TheTable>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n  \r\n</template>\r\n\r\n<script setup>\r\n\r\nimport TitleSection from \"@/page/TheSettings/components/TitleSection.vue\";\r\nimport TheTable from './TheTable.vue'\r\nimport {ref,onMounted} from \"vue\";\r\nimport { ElMessage } from 'element-plus';\r\nimport axios from '@/utils/request';\r\n\r\n\r\nconst msg = '我的余额'\r\nconst userId = ref()\r\nconst userCurrencyData = ref('')\r\nconst content = ref([\r\n  { title: '鱼饵数', msg: '去兑换', count:''},\r\n  { title: '渔币数', msg: '去充值', count:'' },\r\n  { title: '能量值', msg: '去提现', count:'' },\r\n]);\r\n\r\nconst selectedOption = ref('all');\r\nconst selectdType = ref('0');\r\n\r\nconst handleMenuSelect = (index) => {\r\n  switch (index) {\r\n    case 'bait':\r\n      selectdType.value = '0';\r\n      break;\r\n    case 'coins':\r\n      selectdType.value = '1';\r\n      break;\r\n    case 'energy':\r\n      selectdType.value = '2';\r\n      break;\r\n  }\r\n};\r\n\r\n// 处理选择框变化事件\r\nconst handleSelectChange = (value) => {\r\n  console.log('选择框的值：', value);\r\n};\r\n\r\n\r\n\r\n//获取用户货币数据列表\r\nasync function getUserCurrency() {\r\n  try{\r\n    const response = await axios.get(`/currency`);\r\n    if(response.data.code === 1){\r\n        userCurrencyData.value = response.data.data;\r\n        content.value[0].count = userCurrencyData.value.point;\r\n        content.value[1].count = userCurrencyData.value.coin;\r\n        content.value[2].count = userCurrencyData.value.energy;\r\n        // ElMessage.success('获取用户货币数据成功');\r\n    }else if(response.data.code === 0 && response.data.msg){\r\n        ElMessage.error(response.data.msg.toString());\r\n    }else{\r\n        console.error(\"获取用户货币数据失败\");\r\n        ElMessage.error('获取用户货币数据失败');\r\n    }\r\n  } catch (error) {\r\n    console.error(\"获取用户货币数据失败\", error); \r\n    ElMessage.error('获取用户货币数据失败');\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n    userId.value = localStorage.getItem(\"userId\"); // 获取用户ID\r\n    getUserCurrency();\r\n})\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.page3{\r\n  padding: 15px 30px 30px;\r\n  background-color: #FAFAFA;\r\n  overflow: auto;\r\n  min-height: 82%;\r\n}\r\n\r\n.balance{\r\n  width: 88%;\r\n  margin: 0px auto 15px;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 15px 30px;\r\n}\r\n\r\n.outside{\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.title-b{\r\n  padding-bottom: 1rem;\r\n  font-weight: 700;\r\n  margin-left: -15px;\r\n}\r\n\r\n.title-line{\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding-bottom: 8px;\r\n}\r\n\r\n.item-box{\r\n  padding: 16px;\r\n  width: 175px;\r\n  height: 65px;\r\n  background-color: #F5F7FF;\r\n}\r\n\r\n.item-title{\r\n  color:#ACACAC;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n}\r\n.count-line{\r\n  color: #606FA0;\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n}\r\n.bottom-table{\r\n  width: 88%;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  padding: 15px 30px;\r\n  margin: 0px auto;\r\n  min-height: 61%;\r\n}\r\n.menu{\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n::v-deep .el-menu-item{\r\n  color: #7D7D7D;\r\n  font-weight: 700;\r\n  border-radius: 6px;\r\n  height: 32px;\r\n}\r\n\r\n::v-deep .el-menu{\r\n  border: none;\r\n  text-decoration: none;\r\n}\r\n\r\n/* ::v-deep .el-menu-item:hover{\r\n  color: #7D7D7D !important;\r\n  background-color: #fff;\r\n\r\n} */\r\n/* ::v-deep .el-menu-item:hover  i {\r\n    color: #757575;\r\n  } */\r\n/* ::v-deep .el-menu-item.is-active {\r\n  color: #606FA0;;\r\n  border-bottom: 1px solid #606FA0;;\r\n  border: none;\r\n  background-color: #fff;\r\n\r\n} */\r\n/* 调整滚动条宽度和颜色 */\r\n::-webkit-scrollbar {\r\n    width: 6px; /* 增加纵向滚动条的宽度 */\r\n    height: 8px; /* 增加横向滚动条的高度 */\r\n    background: transparent;\r\n}\r\n\r\n/* 定义滚动条轨道，设置为透明 */\r\n::-webkit-scrollbar-track {\r\n    box-shadow: inset 0 0 8px rgba(0, 0, 0, 0); /* 内阴影 */\r\n    background: transparent; /* 将轨道背景设置为透明 */\r\n}\r\n\r\n/* 定义滑块，设置为浅灰色并增加内阴影 */\r\n::-webkit-scrollbar-thumb {\r\n    box-shadow: inset 0 0 8px rgba(115, 115, 115, 0.3); /* 添加淡灰色内阴影 */\r\n    background-color: #dbdbdb; /* 滑块的颜色改为浅灰色 */\r\n    border-radius: 10px; /* 保持圆角不变 */\r\n}\r\n/* 当鼠标悬停在滚动条滑块上时改变滑块的颜色 */\r\n::-webkit-scrollbar-thumb:hover {\r\n    background: #c6c6c6;\r\n}\r\n</style>"],"mappings":"AAyCA,OAAOA,YAAY,MAAM,gDAAgD;AACzE,OAAOC,QAAQ,MAAM,gBAAgB;AACrC,SAAQC,GAAG,EAACC,SAAS,QAAO,KAAK;AACjC,SAASC,SAAS,QAAQ,cAAc;AACxC,OAAOC,KAAK,MAAM,iBAAiB;AAGnC,MAAMC,GAAG,GAAG,MAAM;;;;;;;IAClB,MAAMC,MAAM,GAAGL,GAAG,CAAC,CAAC;IACpB,MAAMM,gBAAgB,GAAGN,GAAG,CAAC,EAAE,CAAC;IAChC,MAAMO,OAAO,GAAGP,GAAG,CAAC,CAClB;MAAEQ,KAAK,EAAE,KAAK;MAAEJ,GAAG,EAAE,KAAK;MAAEK,KAAK,EAAC;IAAE,CAAC,EACrC;MAAED,KAAK,EAAE,KAAK;MAAEJ,GAAG,EAAE,KAAK;MAAEK,KAAK,EAAC;IAAG,CAAC,EACtC;MAAED,KAAK,EAAE,KAAK;MAAEJ,GAAG,EAAE,KAAK;MAAEK,KAAK,EAAC;IAAG,CAAC,CACvC,CAAC;IAEF,MAAMC,cAAc,GAAGV,GAAG,CAAC,KAAK,CAAC;IACjC,MAAMW,WAAW,GAAGX,GAAG,CAAC,GAAG,CAAC;IAE5B,MAAMY,gBAAgB,GAAIC,KAAK,IAAK;MAClC,QAAQA,KAAK;QACX,KAAK,MAAM;UACTF,WAAW,CAACG,KAAK,GAAG,GAAG;UACvB;QACF,KAAK,OAAO;UACVH,WAAW,CAACG,KAAK,GAAG,GAAG;UACvB;QACF,KAAK,QAAQ;UACXH,WAAW,CAACG,KAAK,GAAG,GAAG;UACvB;MACJ;IACF,CAAC;;IAED;IACA,MAAMC,kBAAkB,GAAID,KAAK,IAAK;MACpCE,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEH,KAAK,CAAC;IAC9B,CAAC;;IAID;IACA,eAAeI,eAAeA,CAAA,EAAG;MAC/B,IAAG;QACD,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAE,WAAU,CAAC;QAC7C,IAAGD,QAAQ,CAACE,IAAI,CAACC,IAAI,KAAK,CAAC,EAAC;UACxBhB,gBAAgB,CAACQ,KAAK,GAAGK,QAAQ,CAACE,IAAI,CAACA,IAAI;UAC3Cd,OAAO,CAACO,KAAK,CAAC,CAAC,CAAC,CAACL,KAAK,GAAGH,gBAAgB,CAACQ,KAAK,CAACS,KAAK;UACrDhB,OAAO,CAACO,KAAK,CAAC,CAAC,CAAC,CAACL,KAAK,GAAGH,gBAAgB,CAACQ,KAAK,CAACU,IAAI;UACpDjB,OAAO,CAACO,KAAK,CAAC,CAAC,CAAC,CAACL,KAAK,GAAGH,gBAAgB,CAACQ,KAAK,CAACW,MAAM;UACtD;QACJ,CAAC,MAAK,IAAGN,QAAQ,CAACE,IAAI,CAACC,IAAI,KAAK,CAAC,IAAIH,QAAQ,CAACE,IAAI,CAACjB,GAAG,EAAC;UACnDF,SAAS,CAACwB,KAAK,CAACP,QAAQ,CAACE,IAAI,CAACjB,GAAG,CAACuB,QAAQ,CAAC,CAAC,CAAC;QACjD,CAAC,MAAI;UACDX,OAAO,CAACU,KAAK,CAAC,YAAY,CAAC;UAC3BxB,SAAS,CAACwB,KAAK,CAAC,YAAY,CAAC;QACjC;MACF,CAAC,CAAC,OAAOA,KAAK,EAAE;QACdV,OAAO,CAACU,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;QAClCxB,SAAS,CAACwB,KAAK,CAAC,YAAY,CAAC;MAC/B;IACF;IAEAzB,SAAS,CAAC,MAAM;MACZI,MAAM,CAACS,KAAK,GAAGc,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;MAC/CX,eAAe,CAAC,CAAC;IACrB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}