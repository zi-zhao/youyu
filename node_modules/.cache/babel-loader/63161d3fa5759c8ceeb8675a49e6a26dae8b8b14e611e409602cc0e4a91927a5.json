{"ast":null,"code":"import { ref, watchEffect } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport ArticleColumn from './ManuscriptManagement/ArticleColumn';\nimport ShareColumn from './ManuscriptManagement/ShareColumn';\nimport ArticleFavorite from './ManuscriptManagement/ArticleFavorite';\nimport ShareFavorite from './ManuscriptManagement/ShareFavorite';\nimport CreateDialog from '../../components/CreateDialog';\n\n// 数据定义\n\nexport default {\n  __name: 'XXXXManagement',\n  props: {\n    ClassifyName: String\n  },\n  emits: {\n    switchToAManagementDetail: payload => {\n      if (payload && typeof payload.title === 'string' && typeof payload.id === 'number') {\n        return true;\n      }\n      ElMessage.warn('组件传值错误');\n      console.warn('组件传值错误');\n      return false;\n    }\n  },\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const activeTab1 = ref('column');\n    const activeTab2 = ref('article');\n    const selectedComponent = ref(ArticleColumn);\n    const tab1 = ref('column'); //保存用户对专栏/收藏的选择\n    const tab2 = ref('article'); //保持用户对文章/分享的选择\n    const popboxInform = ref(\"\");\n    const dialogFormVisible = ref(false);\n    const props = __props;\n    watchEffect(() => {\n      let newVal = props.ClassifyName;\n      switch (newVal) {\n        case '文章专栏':\n          activeTab1.value = 'column';\n          activeTab2.value = 'article';\n          selectedComponent.value = ArticleColumn;\n          break;\n        case '文章收藏':\n          activeTab1.value = 'favorite';\n          activeTab2.value = 'article';\n          selectedComponent.value = ArticleFavorite;\n          break;\n        case '分享专栏':\n          activeTab1.value = 'column';\n          activeTab2.value = 'share';\n          selectedComponent.value = ShareColumn;\n          break;\n        case '分享收藏':\n          activeTab1.value = 'favorite';\n          activeTab2.value = 'share';\n          selectedComponent.value = ShareFavorite;\n          break;\n      }\n    });\n\n    //点击管理或返回切换组件的定义事件之一\n    const emits = __emit;\n\n    //处理从子组件那到的数据\n    const forwardManage = payload => {\n      console.log(payload);\n      emits(\"switchToAManagementDetail\", payload);\n    };\n    const handleTapageClick1 = tabName => {\n      if (tabName === 'column' && tab2.value === 'article') {\n        tab1.value = 'column';\n        selectedComponent.value = ArticleColumn;\n      } else if (tabName === 'favorite' && tab2.value === 'article') {\n        tab1.value = 'favorite';\n        selectedComponent.value = ArticleFavorite;\n      } else if (tabName === 'column' && tab2.value === 'share') {\n        tab1.value = 'column';\n        selectedComponent.value = ShareColumn;\n      } else if (tabName === 'favorite' && tab2.value === 'share') {\n        tab1.value = 'favorite';\n        selectedComponent.value = ShareFavorite;\n      }\n    };\n    const handleTapageClick2 = tabName => {\n      if (tabName === 'article' && tab1.value === 'column') {\n        tab2.value = 'article';\n        selectedComponent.value = ArticleColumn;\n      } else if (tabName === 'share' && tab1.value === 'column') {\n        tab2.value = 'share';\n        selectedComponent.value = ShareColumn;\n      } else if (tabName === 'article' && tab1.value === 'favorite') {\n        tab2.value = 'article';\n        selectedComponent.value = ArticleFavorite;\n      } else if (tabName === 'share' && tab1.value === 'favorite') {\n        tab2.value = 'share';\n        selectedComponent.value = ShareFavorite;\n      }\n    };\n    const handleCreate = () => {\n      if (activeTab1.value === 'column' && activeTab2.value === 'article') {\n        popboxInform.value = \"文章专栏\";\n      } else if (activeTab1.value === 'favorite' && activeTab2.value === 'article') {\n        popboxInform.value = \"文章收藏\";\n      } else if (activeTab1.value === 'column' && activeTab2.value === 'share') {\n        popboxInform.value = \"分享专栏\";\n      } else if (activeTab1.value === 'favorite' && activeTab2.value === 'share') {\n        popboxInform.value = \"分享收藏\";\n      }\n      dialogFormVisible.value = true;\n    };\n    const __returned__ = {\n      activeTab1,\n      activeTab2,\n      selectedComponent,\n      tab1,\n      tab2,\n      popboxInform,\n      dialogFormVisible,\n      props,\n      emits,\n      forwardManage,\n      handleTapageClick1,\n      handleTapageClick2,\n      handleCreate,\n      ref,\n      watchEffect,\n      get ElMessage() {\n        return ElMessage;\n      },\n      get ArticleColumn() {\n        return ArticleColumn;\n      },\n      get ShareColumn() {\n        return ShareColumn;\n      },\n      get ArticleFavorite() {\n        return ArticleFavorite;\n      },\n      get ShareFavorite() {\n        return ShareFavorite;\n      },\n      get CreateDialog() {\n        return CreateDialog;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watchEffect","ElMessage","ArticleColumn","ShareColumn","ArticleFavorite","ShareFavorite","CreateDialog","activeTab1","activeTab2","selectedComponent","tab1","tab2","popboxInform","dialogFormVisible","props","__props","newVal","ClassifyName","value","emits","__emit","forwardManage","payload","console","log","handleTapageClick1","tabName","handleTapageClick2","handleCreate"],"sources":["D:/有渔/前端源码/YouyuBBS-Q - 副本/youyu-lyn-qtnew-vision-new-2024.1.14/src/page/CreateCenter/components/XXXXManagement.vue"],"sourcesContent":["<template>\r\n    <div >\r\n        <!-- <div class=\"page-box\"> -->\r\n            <el-tabs v-model=\"activeTab1\" @tab-change=\"handleTapageClick1\">\r\n                 <!-- 专栏管理内容 -->\r\n                <el-tab-pane label=\"专栏管理\" name=\"column\"></el-tab-pane>\r\n                <!-- 收藏管理内容 -->\r\n                <el-tab-pane label=\"收藏管理\" name=\"favorite\"></el-tab-pane>\r\n            </el-tabs>\r\n            <hr>\r\n            <div class=\"header\">\r\n                <el-tabs v-model=\"activeTab2\" @tab-change= \"handleTapageClick2\">\r\n                    <el-tab-pane label=\"文章\" name=\"article\" ></el-tab-pane>\r\n                    <el-tab-pane label=\"分享\" name=\"share\" ></el-tab-pane>\r\n                </el-tabs>\r\n\r\n                <el-button type=\"info\" style=\"width: 70px;\r\n                height: 30px;\" @click=\"handleCreate\">新建</el-button>\r\n            </div>\r\n            <hr>\r\n            <edit-dialog ClassifyName=\"专栏\"></edit-dialog>\r\n            <div>\r\n                <component @manage=\"forwardManage\" :is=\"selectedComponent\"></component>\r\n            </div>\r\n        <!-- </div> -->\r\n        \r\n        <div v-if=\"dialogFormVisible\">\r\n              <CreateDialog v-model=\"dialogFormVisible\" :ClassifyName=popboxInform></CreateDialog>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref,defineEmits,watchEffect ,defineProps } from 'vue'\r\nimport { ElMessage } from 'element-plus';\r\nimport ArticleColumn from './ManuscriptManagement/ArticleColumn';\r\nimport ShareColumn from './ManuscriptManagement/ShareColumn';\r\nimport ArticleFavorite from './ManuscriptManagement/ArticleFavorite';\r\nimport ShareFavorite from './ManuscriptManagement/ShareFavorite';\r\nimport CreateDialog from '../../components/CreateDialog';\r\n\r\n// 数据定义\r\nconst activeTab1 = ref('column')\r\nconst activeTab2 = ref('article')\r\nconst selectedComponent = ref(ArticleColumn)\r\nconst tab1 = ref('column') //保存用户对专栏/收藏的选择\r\nconst tab2 = ref('article')//保持用户对文章/分享的选择\r\nconst popboxInform = ref(\"\")\r\nconst dialogFormVisible = ref(false);\r\n\r\nconst props = defineProps({\r\n    ClassifyName: String,\r\n});\r\n\r\n\r\nwatchEffect(() => {\r\n    let newVal = props.ClassifyName;\r\n    switch (newVal) {\r\n        case '文章专栏':\r\n            activeTab1.value = 'column';\r\n            activeTab2.value = 'article';\r\n            selectedComponent.value = ArticleColumn;\r\n            break;\r\n        case '文章收藏':\r\n            activeTab1.value = 'favorite';\r\n            activeTab2.value = 'article';\r\n            selectedComponent.value = ArticleFavorite;\r\n            break;\r\n        case '分享专栏':\r\n            activeTab1.value = 'column';\r\n            activeTab2.value = 'share';\r\n            selectedComponent.value = ShareColumn;\r\n            break;\r\n        case '分享收藏':\r\n            activeTab1.value = 'favorite';\r\n            activeTab2.value = 'share';\r\n            selectedComponent.value = ShareFavorite;\r\n            break;\r\n    }\r\n});\r\n\r\n//点击管理或返回切换组件的定义事件之一\r\nconst emits = defineEmits({\r\n    switchToAManagementDetail: payload => {\r\n        if (payload && typeof payload.title === 'string' && typeof payload.id === 'number') {\r\n        return true;\r\n        }\r\n        ElMessage.warn('组件传值错误');\r\n        console.warn('组件传值错误');\r\n        return false;\r\n    }\r\n});\r\n\r\n//处理从子组件那到的数据\r\nconst forwardManage = (payload) => {\r\n  console.log(payload); \r\n  emits(\"switchToAManagementDetail\",payload);\r\n};\r\n\r\nconst handleTapageClick1 = (tabName) => {\r\n    if(tabName === 'column' && tab2.value === 'article'){\r\n        tab1.value = 'column';\r\n        selectedComponent.value = ArticleColumn;\r\n    }else if (tabName === 'favorite' && tab2.value === 'article'){\r\n        tab1.value = 'favorite';\r\n        selectedComponent.value = ArticleFavorite;\r\n    }else if (tabName === 'column' && tab2.value === 'share'){\r\n        tab1.value = 'column';\r\n        selectedComponent.value = ShareColumn;\r\n    }else if (tabName === 'favorite' && tab2.value === 'share'){\r\n        tab1.value = 'favorite';\r\n        selectedComponent.value = ShareFavorite;\r\n    }\r\n}\r\n\r\n\r\n\r\nconst handleTapageClick2 = (tabName) => {\r\n    if(tabName === 'article' && tab1.value === 'column'){\r\n        tab2.value = 'article';\r\n        selectedComponent.value = ArticleColumn;\r\n    }else if (tabName === 'share' && tab1.value === 'column'){\r\n        tab2.value = 'share';\r\n        selectedComponent.value = ShareColumn;\r\n    }else if (tabName === 'article' && tab1.value === 'favorite'){\r\n        tab2.value = 'article';\r\n        selectedComponent.value = ArticleFavorite;\r\n    }else if (tabName === 'share' && tab1.value === 'favorite'){\r\n        tab2.value = 'share';\r\n        selectedComponent.value = ShareFavorite;\r\n    }\r\n};\r\n\r\nconst handleCreate = () => {\r\n    if(activeTab1.value === 'column' && activeTab2.value === 'article'){\r\n        popboxInform.value = \"文章专栏\";\r\n    }else if (activeTab1.value === 'favorite' && activeTab2.value === 'article'){\r\n        popboxInform.value = \"文章收藏\";\r\n    }else if (activeTab1.value === 'column' && activeTab2.value === 'share'){\r\n        popboxInform.value = \"分享专栏\";    \r\n    }else if (activeTab1.value === 'favorite' && activeTab2.value === 'share'){\r\n        popboxInform.value = \"分享收藏\";    \r\n    }\r\n    dialogFormVisible.value = true;\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.container-box {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.page-box {\r\n    background-color: #fff;\r\n    width: 100%;\r\n    padding: 2rem 3rem;\r\n}\r\n\r\n.header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n\r\n::v-deep .el-tabs__nav-wrap::after {\r\n    height: 0px;\r\n}\r\n\r\n.content-box {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    padding-bottom: 1rem;\r\n    margin-top: 1rem;\r\n}\r\n\r\n.middle {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n\r\n.search:hover {\r\n    cursor: pointer;\r\n}\r\n\r\n.underline{\r\n    border-bottom: 1px solid #ccc;\r\n\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}