{"ast":null,"code":"import TheHeader from \"@/page/components/TheHeader.vue\";\nimport { ref, onMounted } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport axios from '@/utils/request';\nexport default {\n  __name: 'CusDefault',\n  emits: ['change'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    const activeTab = ref('hot');\n    const emit = __emit;\n    const quesHot = ref();\n    const quesOrders = ref(['实名信息问题说明11', '充值问题']);\n    const quesServe = ref(['实名信息问题说明22', '充值问题']);\n    const textarea = ref('');\n    const feedbackInformation = ref();\n    const currentList = ref(quesHot.value);\n\n    // activeTab.value 属性对应的是name属性，而不是label\n    const handleTabChange = () => {\n      if (activeTab.value === 'hot') {\n        currentList.value = quesHot.value;\n      } else if (activeTab.value === 'orders') {\n        currentList.value = quesOrders.value;\n      } else if (activeTab.value === 'service') {\n        currentList.value = quesServe.value;\n      }\n    };\n    const change = () => {\n      emit('change', true);\n    };\n    __expose({});\n\n    //获取热门问题\n    async function getQuestions() {\n      try {\n        const response = await axios.get('/explain/hot');\n        if (response.data.code === 1) {\n          quesHot.value = response.data.data;\n          console.log(response.data);\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          console.error(\"获取热门问题失败\");\n          ElMessage.error(\"获取热门问题失败\");\n        }\n      } catch (error) {\n        console.error(\"请求热门问题失败\", error);\n        ElMessage.error(\"请求热门问题失败\");\n      }\n    }\n\n    //提交用户反馈接口\n    async function postFeedback() {\n      try {\n        const response = await axios.post('/feedback', {\n          content: textarea.value,\n          type: 0\n        });\n        if (response.data.code === 1) {\n          ElMessage.success('反馈成功');\n          textarea.value = '';\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          console.error(\"提交用户反馈失败\");\n          ElMessage.error(\"提交用户反馈失败\");\n        }\n      } catch (error) {\n        console.error(\"提交用户反馈失败\", error);\n        ElMessage.error(\"提交用户反馈失败\");\n      }\n    }\n\n    //获取客服信息\n    async function getFeedbackInformation() {\n      try {\n        const response = await axios.get('/feedback/information');\n        if (response.data.code === 1) {\n          feedbackInformation.value = response.data.data;\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          console.error(\"获取客服信息失败\");\n          ElMessage.error(\"获取客服信息失败\");\n        }\n      } catch (error) {\n        console.error(\"获取客服信息失败\", error);\n        ElMessage.error(\"获取客服信息失败\");\n      }\n    }\n    onMounted(() => {\n      getQuestions();\n      getFeedbackInformation();\n    });\n    const __returned__ = {\n      activeTab,\n      emit,\n      quesHot,\n      quesOrders,\n      quesServe,\n      textarea,\n      feedbackInformation,\n      currentList,\n      handleTabChange,\n      change,\n      getQuestions,\n      postFeedback,\n      getFeedbackInformation,\n      TheHeader,\n      ref,\n      onMounted,\n      get ElMessage() {\n        return ElMessage;\n      },\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["TheHeader","ref","onMounted","ElMessage","axios","activeTab","emit","__emit","quesHot","quesOrders","quesServe","textarea","feedbackInformation","currentList","value","handleTabChange","change","__expose","getQuestions","response","get","data","code","console","log","msg","error","toString","postFeedback","post","content","type","success","getFeedbackInformation"],"sources":["D:/有渔/前端源码/YouyuBBS-Q - 副本/youyu-lyn-qtnew-vision-new-2024.1.14/src/page/CustomerService/components/CusDefault.vue"],"sourcesContent":["<template>\r\n  <TheHeader/>\r\n  <div class=\"container\">\r\n    <div class=\"page\">\r\n      <div class=\"ask\">\r\n        <span class=\"title\">猜你想问</span>\r\n        <div class=\"menu\">\r\n          <el-tabs v-model=\"activeTab\" @click=\"handleTabChange\">\r\n            <el-tab-pane label=\"热门问题\" name=\"hot\"></el-tab-pane>\r\n            <!-- <el-tab-pane label=\"订单问题\" name=\"orders\"></el-tab-pane>\r\n            <el-tab-pane label=\"服务保障\" name=\"service\"></el-tab-pane> -->\r\n          </el-tabs>\r\n          <div @click=\"change\" class=\"more\">更多问题 ></div>\r\n        </div>\r\n        <div>\r\n          <div class=\"ask-content\" v-for=\"(ques,index) in quesHot\" :key=\"index\" style=\"padding: 5px;margin: 5px 0;\">\r\n            <div style=\"display: flex; gap: 10px; align-items: center; color:#676767 \" @click=\"change\">\r\n              <el-icon><Search /></el-icon>\r\n              <span>{{ ques.problem }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- <div class=\"online\">\r\n        <span class=\"title\">在线客服</span>\r\n        <div class=\"online-text\">\r\n          <el-icon><ChatLineRound /></el-icon>\r\n          <span>当前排队人数较多，请您优先选择自主问答</span>\r\n        </div>\r\n        <div @click=\"showPerHelp\" class=\"per-text\">使用人工客服 ></div>\r\n      </div> -->\r\n\r\n      <div class=\"question\">\r\n        <span class=\"title\">问题反馈</span>\r\n        <div style=\"display: flex;flex-direction: column;margin-bottom: 1rem;\">\r\n          <span>留言反馈：</span>\r\n          <div class=\"input-box\">\r\n            <el-input\r\n                v-model=\"textarea\"\r\n                maxlength=\"200\"\r\n                placeholder=\"点击输入您的反馈\"\r\n                show-word-limit\r\n                type=\"textarea\"\r\n                size=\"large\"\r\n                resize=\"none\"\r\n                :autosize = \"{ minRows: 2, maxRows: 30 }\"\r\n                class=\"eidt-input\"\r\n                style=\"margin: 20px 0 0px;\"\r\n            />\r\n            <div class=\"submit-btn\" @click=\"postFeedback\">提交</div>\r\n          </div>\r\n        </div>\r\n        <div style=\"display: flex;flex-direction: column;gap: 1rem;margin-top: 2rem;\">\r\n          <span>联系邮箱：<span style=\"color:#606FA0 \">{{ feedbackInformation.mail }}</span></span>\r\n          <p>客服热线：{{ feedbackInformation.phone }}</p>\r\n          <p>热线受理事件：每日{{ feedbackInformation.startTime }}-{{ feedbackInformation.endTime }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport TheHeader from \"@/page/components/TheHeader.vue\";\r\nimport {ref, defineExpose, defineEmits,onMounted} from 'vue';\r\nimport { ElMessage } from 'element-plus';\r\nimport axios from '@/utils/request';\r\n\r\nconst activeTab = ref('hot')\r\nconst emit = defineEmits((['change']))\r\nconst quesHot = ref();\r\nconst quesOrders = ref(['实名信息问题说明11', '充值问题'])\r\nconst quesServe = ref(['实名信息问题说明22', '充值问题'])\r\nconst textarea = ref('')\r\nconst feedbackInformation = ref();\r\n\r\nconst currentList = ref(quesHot.value);\r\n\r\n// activeTab.value 属性对应的是name属性，而不是label\r\nconst handleTabChange = () => {\r\n  if (activeTab.value === 'hot') {\r\n    currentList.value = quesHot.value\r\n  } else if (activeTab.value === 'orders') {\r\n    currentList.value = quesOrders.value\r\n  } else if (activeTab.value === 'service') {\r\n    currentList.value = quesServe.value\r\n  }\r\n}\r\n\r\nconst change = () => {\r\n  emit('change',true)\r\n}\r\n\r\ndefineExpose({\r\n\r\n})\r\n\r\n\r\n//获取热门问题\r\nasync function getQuestions(){\r\n  try {\r\n    const response = await axios.get('/explain/hot');\r\n    if(response.data.code === 1){\r\n      quesHot.value = response.data.data;\r\n      console.log(response.data); \r\n    }else if(response.data.code === 0 && response.data.msg){\r\n        ElMessage.error(response.data.msg.toString());\r\n    }else{\r\n      console.error(\"获取热门问题失败\");\r\n      ElMessage.error(\"获取热门问题失败\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"请求热门问题失败\", error); \r\n    ElMessage.error(\"请求热门问题失败\");\r\n  }\r\n}\r\n\r\n//提交用户反馈接口\r\nasync function postFeedback(){\r\n  try {\r\n    const response = await axios.post('/feedback',{\r\n      content:textarea.value,\r\n      type:0,\r\n    });\r\n    if(response.data.code === 1){\r\n      ElMessage.success('反馈成功');\r\n      textarea.value = '';\r\n    }else if(response.data.code === 0 && response.data.msg){\r\n        ElMessage.error(response.data.msg.toString());\r\n    }else{\r\n      console.error(\"提交用户反馈失败\");\r\n      ElMessage.error(\"提交用户反馈失败\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"提交用户反馈失败\", error); \r\n    ElMessage.error(\"提交用户反馈失败\");\r\n  }\r\n}\r\n\r\n//获取客服信息\r\nasync function getFeedbackInformation(){\r\n  try {\r\n    const response = await axios.get('/feedback/information');\r\n    if(response.data.code === 1){\r\n      feedbackInformation.value = response.data.data;\r\n    }else if(response.data.code === 0 && response.data.msg){\r\n        ElMessage.error(response.data.msg.toString());\r\n    }else{\r\n      console.error(\"获取客服信息失败\");\r\n      ElMessage.error(\"获取客服信息失败\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"获取客服信息失败\", error); \r\n    ElMessage.error(\"获取客服信息失败\");\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  getQuestions();\r\n  getFeedbackInformation();\r\n})\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  padding-top: 5rem;\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  background-color: #FAFAFA;\r\n  padding-bottom: 6rem;\r\n}\r\n\r\n.page {\r\n  width: 70%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 40px;\r\n}\r\n\r\n.title {\r\n  display: block;\r\n  color: #8290C0;\r\n  font-size: 32px;\r\n  font-weight: 600;\r\n  padding-bottom: 5px;\r\n  border-bottom: #606FA0 1px solid;\r\n  margin-bottom: 1.5rem;\r\n}\r\n.input-box{\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: space-around;\r\n  margin-bottom: 30px;\r\n}\r\n.menu {\r\n  font-size: 18px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n.menu:hover{\r\n  cursor: pointer;\r\n}\r\n.submit-btn{\r\n  padding: 3px 10px;\r\n  border-radius: 15px;\r\n  font-size: 14px;\r\n  background-color: #b3b8d3;\r\n  cursor: pointer;\r\n}\r\n::v-deep .el-tabs--bottom .el-tabs__item.is-bottom{\r\n  color: #000;\r\n}\r\n::v-deep .el-tabs__item:hover,\r\n::v-deep .el-tabs__item.is-active{\r\n  color: #8290c0;\r\n}\r\n::v-deep .el-tabs__active-bar{\r\n  background-color: #8290c0;\r\n}\r\n.more {\r\n  padding-bottom: 20px;\r\n}\r\n\r\n.online-text{\r\n  display: flex;\r\n  gap: 0.4rem;\r\n  align-items: center;\r\n  color: #F0A81C;\r\n  height: 30px;\r\n  background-color: #fff;\r\n  padding: 5px 15px ;\r\n  margin: 5px 0px;\r\n}\r\n\r\n.per-text{\r\n  margin-top: 20px;\r\n}\r\n\r\n.per-text,.ask-content :hover{\r\n  cursor: pointer;\r\n}\r\n\r\n::v-deep .el-tabs__nav-wrap::after {\r\n  position: static !important;\r\n}\r\n.el-textarea{\r\n  width: 85%;\r\n}\r\n::v-deep .question .el-textarea__inner{\r\n  height: 120px !important;\r\n}\r\n@media (max-width: 768px) {\r\n  .input-box{\r\n    flex-direction: column;\r\n    gap: 10px;\r\n  }\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}