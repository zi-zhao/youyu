{"ast":null,"code":"import ReceivedQuestion from './ReceivedQuestion.vue';\nimport InitiatedQuestion from './InitiatedQuestion.vue';\nimport { onMounted, ref } from 'vue';\nimport { getUsersAvatarFromCOS } from '@/utils/cosService';\nexport default {\n  __name: 'QuestionTitle',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const userId = localStorage.getItem(\"userId\"); // 获取用户ID\n    const username = localStorage.getItem(\"userName\"); // 获取用户昵称\n    const userAvatar = ref(null);\n    const questionType = ref(0);\n\n    // 获取用户头像\n    const fetchAvatar = async () => {\n      try {\n        const avatar = await getUsersAvatarFromCOS(userId);\n        userAvatar.value = avatar;\n      } catch (error) {\n        console.error(\"Error fetching user avatar:\", error);\n      }\n    };\n    // 在创建组件后立即获取用户头像\n    onMounted(fetchAvatar);\n    const __returned__ = {\n      userId,\n      username,\n      userAvatar,\n      questionType,\n      fetchAvatar,\n      ReceivedQuestion,\n      InitiatedQuestion,\n      onMounted,\n      ref,\n      get getUsersAvatarFromCOS() {\n        return getUsersAvatarFromCOS;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ReceivedQuestion","InitiatedQuestion","onMounted","ref","getUsersAvatarFromCOS","userId","localStorage","getItem","username","userAvatar","questionType","fetchAvatar","avatar","value","error","console"],"sources":["D:/有渔/前端源码/YouyuBBS-Q - 副本/youyu-lyn-qtnew-vision-new-2024.1.14/src/page/QACenter/SquareQuestion/QuestionTitle.vue"],"sourcesContent":["<template>\r\n    <div class=\"mydata\">\r\n        <img v-if=\"userAvatar\" :src=\"userAvatar\" alt=\"\">\r\n        <span class=\"name\">{{ username }}</span>\r\n    </div>\r\n    <div class=\"question\">\r\n        <span @click=\"questionType = 0\" :class=\"{ active: questionType === 0 }\" >收到的提问</span>\r\n        <span @click=\"questionType = 1\" :class=\"{ active: questionType === 1 }\" >发起的提问</span>\r\n    </div>\r\n    <div class=\"then2\" v-if=\"questionType === 0\">\r\n        <ReceivedQuestion></ReceivedQuestion>\r\n    </div>\r\n    <div class=\"then2\" v-if=\"questionType === 1\">\r\n        <InitiatedQuestion></InitiatedQuestion>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport ReceivedQuestion from './ReceivedQuestion.vue'\r\nimport InitiatedQuestion from './InitiatedQuestion.vue'\r\nimport { onMounted , ref } from 'vue'\r\nimport { getUsersAvatarFromCOS } from '@/utils/cosService';\r\n\r\nconst userId = localStorage.getItem(\"userId\"); // 获取用户ID\r\nconst username = localStorage.getItem(\"userName\"); // 获取用户昵称\r\nconst userAvatar = ref(null); \r\nconst questionType = ref(0);\r\n\r\n// 获取用户头像\r\nconst fetchAvatar = async () => {\r\n    try {\r\n        const avatar = await getUsersAvatarFromCOS(userId);\r\n        userAvatar.value = avatar;\r\n    } catch (error) {\r\n        console.error(\"Error fetching user avatar:\", error);\r\n    }\r\n};\r\n// 在创建组件后立即获取用户头像\r\nonMounted(fetchAvatar);\r\n</script>\r\n\r\n<style scoped>\r\n.mydata{\r\n    width: 80%;\r\n    padding: 0.5rem 1rem;\r\n    height: 3.5rem;\r\n    display: flex;\r\n    align-items: center;\r\n    background: #FFF;\r\n}\r\n.mydata img{\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n}\r\n.name{\r\n    margin-left: 15px;\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n}\r\n.question{\r\n    width: 100%;\r\n    height: 2rem;\r\n    padding-top: 0.6rem;\r\n    display: flex;\r\n    justify-content: space-evenly;\r\n    background: linear-gradient(180deg, #FFF 0%, rgba(248 248 248) 38.02%);\r\n}\r\n.question span{\r\n    display: inline-block;\r\n    height: 20px;\r\n    padding-bottom: 8px;\r\n    color: #000;\r\n    font-size: 16px;\r\n    line-height: 1.6; \r\n    cursor: pointer;\r\n}\r\n.active{\r\n    font-weight: 700;\r\n    border-bottom: 1px solid #000;\r\n}\r\n.then2{\r\n    width: 100%;\r\n    /* height: 67vh; */\r\n    height: calc(100vh - 2.5rem - 2rem - 2px - 3.5rem - 2rem - 2.2rem);\r\n    margin: 0px auto;\r\n    background-color:  #F8F8F8;\r\n}\r\n/* 对手机屏幕和小尺寸屏幕的样式调整 */\r\n@media (max-width: 768px) {\r\n    .mydata{\r\n        width: 90%;\r\n        height: 2rem;\r\n    }\r\n    .mydata img{\r\n        width: 2rem;\r\n        height: 2rem;\r\n    }\r\n    .name{\r\n        font-size: 1rem;\r\n        margin-left: 0.6rem;\r\n    }\r\n    .then2{\r\n        height: calc(100vh - 2.5rem - 2rem - 2px - 2rem - 2rem - 2rem);\r\n    }\r\n}\r\n</style>"],"mappings":"AAkBA,OAAOA,gBAAgB,MAAM,wBAAwB;AACrD,OAAOC,iBAAiB,MAAM,yBAAyB;AACvD,SAASC,SAAS,EAAGC,GAAG,QAAQ,KAAK;AACrC,SAASC,qBAAqB,QAAQ,oBAAoB;;;;;;;IAE1D,MAAMC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;IAC/C,MAAMC,QAAQ,GAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;IACnD,MAAME,UAAU,GAAGN,GAAG,CAAC,IAAI,CAAC;IAC5B,MAAMO,YAAY,GAAGP,GAAG,CAAC,CAAC,CAAC;;IAE3B;IACA,MAAMQ,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACA,MAAMC,MAAM,GAAG,MAAMR,qBAAqB,CAACC,MAAM,CAAC;QAClDI,UAAU,CAACI,KAAK,GAAGD,MAAM;MAC7B,CAAC,CAAC,OAAOE,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACvD;IACJ,CAAC;IACD;IACAZ,SAAS,CAACS,WAAW,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}