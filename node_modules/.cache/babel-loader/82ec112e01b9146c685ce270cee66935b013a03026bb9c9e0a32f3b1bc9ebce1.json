{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '@/assets/PersonalPage/TaCare.svg';\nimport _imports_1 from '@/assets/PersonalPage/TaFans.svg';\nimport _imports_2 from '@/assets/Back.svg';\nconst _withScopeId = n => (_pushScopeId(\"data-v-6ed61068\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"main\"\n};\nconst _hoisted_2 = {\n  class: \"left_section\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"ta\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"\",\n  class: \"carepic\"\n}), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text\"\n}, \"我的关注\")], -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text1\"\n}, \"全部关注\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"text1\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"ta\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"line\"\n}), /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_1,\n  alt: \"\",\n  class: \"carepic\"\n}), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text\"\n}, \"我的粉丝\")], -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text1\"\n}, \"全部粉丝\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  class: \"text1\"\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"line\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_2,\n  alt: \"\",\n  class: \"carepic\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text\"\n}, \"返回个人中心\", -1 /* HOISTED */));\nconst _hoisted_12 = [_hoisted_9, _hoisted_10, _hoisted_11];\nconst _hoisted_13 = {\n  class: \"show\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", {\n    class: _normalizeClass({\n      allc: true,\n      active: $setup.currentTab === 0\n    }),\n    onClick: _cache[0] || (_cache[0] = $event => $setup.setTab(0))\n  }, [_hoisted_4, _createElementVNode(\"span\", _hoisted_5, _toDisplayString($setup.user.subscribeCount), 1 /* TEXT */)], 2 /* CLASS */), _hoisted_6, _createElementVNode(\"div\", {\n    class: _normalizeClass({\n      allc: true,\n      active: $setup.currentTab === 1\n    }),\n    onClick: _cache[1] || (_cache[1] = $event => $setup.setTab(1))\n  }, [_hoisted_7, _createElementVNode(\"span\", _hoisted_8, _toDisplayString($setup.user.fanCount), 1 /* TEXT */)], 2 /* CLASS */), _createElementVNode(\"div\", {\n    class: \"ta\",\n    onClick: $setup.back,\n    style: {\n      \"cursor\": \"pointer\"\n    }\n  }, [..._hoisted_12])]), _createElementVNode(\"div\", _hoisted_13, [(_openBlock(), _createBlock(_resolveDynamicComponent($setup.currentComponent)))])]);\n}","map":{"version":3,"names":["_imports_0","_imports_1","_imports_2","class","_createElementVNode","src","alt","_hoisted_9","_hoisted_10","_hoisted_11","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_normalizeClass","allc","active","$setup","currentTab","onClick","_cache","$event","setTab","_hoisted_4","_hoisted_5","_toDisplayString","user","subscribeCount","_hoisted_6","_hoisted_7","_hoisted_8","fanCount","back","style","_hoisted_13","_createBlock","_resolveDynamicComponent","currentComponent"],"sources":["D:\\有渔\\前端源码\\YouyuBBS-Q - 副本\\youyu-lyn-qtnew-vision-new-2024.1.14\\src\\page\\Personalpage\\componentes\\HeLove.vue"],"sourcesContent":["<template>\r\n    <div class=\"main\">\r\n        <div class=\"left_section\">\r\n            <div class=\"ta\">\r\n                <img src=\"@/assets/PersonalPage/TaCare.svg\" alt=\"\" class=\"carepic\">\r\n                <span class=\"text\">我的关注</span>\r\n            </div>\r\n            <div :class=\"{ allc: true, active: currentTab === 0 }\" @click=\"setTab(0)\">\r\n                <span class=\"text1\">全部关注</span>\r\n                <span class=\"text1\">{{ user.subscribeCount }}</span>\r\n            </div>\r\n            <div class=\"ta\">\r\n                <span class=\"line\"></span>\r\n                <img src=\"@/assets/PersonalPage/TaFans.svg\" alt=\"\" class=\"carepic\">\r\n                <span class=\"text\">我的粉丝</span>\r\n            </div>\r\n            <div :class=\"{ allc: true, active: currentTab === 1 }\" @click=\"setTab(1)\">\r\n                <span class=\"text1\">全部粉丝</span>\r\n                <span class=\"text1\">{{ user.fanCount }}</span>\r\n            </div>\r\n            <div class=\"ta\" @click=\"back\" style=\"cursor: pointer;\">\r\n                <span class=\"line\"></span>\r\n                <img src=\"@/assets/Back.svg\" alt=\"\" class=\"carepic\" >\r\n                <span class=\"text\" >返回个人中心</span>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"show\">\r\n            <component :is=\"currentComponent\"></component>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref,onMounted,watch } from 'vue';\r\nimport AllCare from \"../last/AllCare.vue\";\r\nimport AllLover from \"../last/AllLover.vue\";\r\nimport { useRouter } from 'vue-router';\r\nimport { ElMessage } from 'element-plus';\r\nimport axios from '@/utils/request';\r\nimport { PageTitle } from '@/utils/fileService.js'\r\n\r\nconst setPageTitle = PageTitle('正在加载...');\r\n\r\nconst router = useRouter();\r\nconst userId = localStorage.getItem(\"userId\"); // 获取用户ID\r\nconst userName = localStorage.getItem(\"userName\"); // 获取用户名\r\nconst user = ref({});\r\nconst currentComponent = ref(AllCare);  // 默认显示 AllCare 组件\r\nconst currentTab = ref(0); // 默认选中全部关注\r\n\r\nsetPageTitle(`${ userName } 的个人主页 - 云联知渔`); \r\n\r\nfunction setTab(value) {\r\n    if (value === 0) {\r\n    currentComponent.value = AllCare;\r\n    } else if (value === 1) {\r\n    currentComponent.value = AllLover;\r\n    }\r\n    currentTab.value = value; // 更新当前选中的选项\r\n}\r\n\r\nconst back = () => {\r\n    // 使用 router.push() 导航到 '/PersonalPage/helover'\r\n    router.push('/PersonalPage');\r\n};\r\n\r\n// 获取用户信息\r\nconst fetchAvatar = async () => {\r\n    try {\r\n        const response = await axios.get(`/users/${userId}`);\r\n        if(response.data.code === 1){\r\n            user.value = response.data.data;\r\n        }else if(response.data.code === 0 && response.data.msg){\r\n            ElMessage.error(response.data.msg.toString());\r\n        }else{\r\n            ElMessage.error('获取用户信息失败');\r\n        }\r\n    } catch (error) {\r\n        console.error(\"获取用户信息失败\", error);\r\n        ElMessage.error('获取用户信息失败');\r\n    }\r\n};\r\n\r\nonMounted(() => {\r\n    fetchAvatar();\r\n});\r\n// 监听路由变化以设置标签页标题\r\nwatch(() => router.currentRoute.value, (newRoute) => {\r\n    if (newRoute.path === '/PersonalPage') {\r\n        setPageTitle(`${ user.value.username} 的个人主页 - 云联知渔`);\r\n    }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.main{\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin: 41px auto 0 auto;\r\n  width: 93%;\r\n}\r\n.left_section{\r\n  display: flex;\r\n  width: 180px;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n.ta{\r\n    position: relative;\r\n    margin-top: 12px;\r\n    display: flex;\r\n    padding: 10px 42px 3px 0px;\r\n    align-items: center;\r\n}\r\n.line{\r\n    position: absolute;\r\n    top: 0px;\r\n    left: 0px;\r\n    width: 180px;\r\n    height: 1px;\r\n    background: rgb(212, 212, 212);\r\n}\r\n.carepic{\r\n    width: 16px;\r\n    height: 16px;\r\n}\r\n.text{\r\n    color: #000;\r\n    text-align: center;\r\n    font-family: Microsoft YaHei;\r\n    font-size: 18px;\r\n    line-height: 120%;\r\n    margin-left: 10px;\r\n}\r\n.text1{\r\n    color: #6D757A;\r\n    text-align: center;\r\n    font-family: Microsoft YaHei;\r\n    font-size: 16px;\r\n    line-height: 120%;\r\n    margin-left: 27px;\r\n}\r\n.allc{\r\n    margin-top: 12px;\r\n    height: 19px;\r\n    padding: 8px 10px 8px 0px;\r\n    width: 170px;\r\n    border-radius: 4px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    cursor: pointer;\r\n}\r\n.active{\r\n    background: #9FA9CA;\r\n}\r\n.active .text1{\r\n    color: #000;\r\n}\r\n.show {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    width: 80%;\r\n    height: auto;\r\n}\r\n</style>\r\n"],"mappings":";OAIqBA,UAAsC;OAStCC,UAAsC;OAStCC,UAAuB;;;EArBnCC,KAAK,EAAC;AAAM;;EACRA,KAAK,EAAC;AAAc;gEACrBC,mBAAA,CAGM;EAHDD,KAAK,EAAC;AAAI,I,aACXC,mBAAA,CAAmE;EAA9DC,GAAsC,EAAtCL,UAAsC;EAACM,GAAG,EAAC,EAAE;EAACH,KAAK,EAAC;iBACzDC,mBAAA,CAA8B;EAAxBD,KAAK,EAAC;AAAM,GAAC,MAAI,E;gEAGvBC,mBAAA,CAA+B;EAAzBD,KAAK,EAAC;AAAO,GAAC,MAAI;;EAClBA,KAAK,EAAC;AAAO;gEAEvBC,mBAAA,CAIM;EAJDD,KAAK,EAAC;AAAI,I,aACXC,mBAAA,CAA0B;EAApBD,KAAK,EAAC;AAAM,I,aAClBC,mBAAA,CAAmE;EAA9DC,GAAsC,EAAtCJ,UAAsC;EAACK,GAAG,EAAC,EAAE;EAACH,KAAK,EAAC;iBACzDC,mBAAA,CAA8B;EAAxBD,KAAK,EAAC;AAAM,GAAC,MAAI,E;gEAGvBC,mBAAA,CAA+B;EAAzBD,KAAK,EAAC;AAAO,GAAC,MAAI;;EAClBA,KAAK,EAAC;AAAO;gEAGnBC,mBAAA,CAA0B;EAApBD,KAAK,EAAC;AAAM;iEAClBC,mBAAA,CAAqD;EAAhDC,GAAuB,EAAvBH,UAAuB;EAACI,GAAG,EAAC,EAAE;EAACH,KAAK,EAAC;;iEAC1CC,mBAAA,CAAiC;EAA3BD,KAAK,EAAC;AAAM,GAAE,QAAM;qBAF1BI,UAA0B,EAC1BC,WAAqD,EACrDC,WAAiC,C;;EAIpCN,KAAK,EAAC;AAAM;;uBA1BrBO,mBAAA,CA6BM,OA7BNC,UA6BM,GA5BFP,mBAAA,CAuBM,OAvBNQ,UAuBM,GAtBFC,UAGM,EACNT,mBAAA,CAGM;IAHAD,KAAK,EAAAW,eAAA;MAAAC,IAAA;MAAAC,MAAA,EAAwBC,MAAA,CAAAC,UAAU;IAAA;IAAWC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEJ,MAAA,CAAAK,MAAM;MACjEC,UAA+B,EAC/BnB,mBAAA,CAAoD,QAApDoB,UAAoD,EAAAC,gBAAA,CAA7BR,MAAA,CAAAS,IAAI,CAACC,cAAc,iB,kBAE9CC,UAIM,EACNxB,mBAAA,CAGM;IAHAD,KAAK,EAAAW,eAAA;MAAAC,IAAA;MAAAC,MAAA,EAAwBC,MAAA,CAAAC,UAAU;IAAA;IAAWC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEJ,MAAA,CAAAK,MAAM;MACjEO,UAA+B,EAC/BzB,mBAAA,CAA8C,QAA9C0B,UAA8C,EAAAL,gBAAA,CAAvBR,MAAA,CAAAS,IAAI,CAACK,QAAQ,iB,kBAExC3B,mBAAA,CAIM;IAJDD,KAAK,EAAC,IAAI;IAAEgB,OAAK,EAAEF,MAAA,CAAAe,IAAI;IAAEC,KAAwB,EAAxB;MAAA;IAAA;0BAOlC7B,mBAAA,CAEM,OAFN8B,WAEM,I,cADFC,YAAA,CAA8CC,wBAAA,CAA9BnB,MAAA,CAAAoB,gBAAgB,I"},"metadata":{},"sourceType":"module","externalDependencies":[]}