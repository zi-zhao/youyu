{"ast":null,"code":"import { ElMessage } from 'element-plus';\nimport { ref, onMounted, watch } from 'vue';\nimport axios from '@/utils/request';\nimport { getUsersAvatarFromCOS } from '@/utils/cosService';\nimport unfavoritedImage from '@/assets/FavoriteBefore.svg';\nimport favoritedImage from '@/assets/FavoriteAfter.svg';\nimport { useRouter, useRoute } from 'vue-router';\nimport CfDialog from '@/page/components/CfDialog';\n// 点赞部分的动画toggleLike\nimport unlikedImage from '@/assets/LikeBefore.svg';\nimport likedImage from '@/assets/LikeAfter.svg';\nimport uninsertcoinsImage from '@/assets/InsertCoins.svg';\nimport insertcoinsImage from '@/assets/InsertCoinsAfter.svg';\nimport { openUrl } from '@/utils/routeJudge';\nexport default {\n  __name: 'MainPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const input = ref(''); //文章打赏的数额\n    const emptyDialogVisible = ref(false);\n    const userAvatar = ref(''); // 这里保存从后端获取的头像 URL\n    const router = useRouter();\n    const dialogFormVisible = ref(false); //控制cfdialog弹窗（显示文章收藏列表）是否弹出\n    const likeStatus = ref(); //判断该用户是否对文章点赞，页面初始化与用户进行点赞操作时会用到,0为未点赞\n    const focusStatus = ref(); //判断该用户是否关注文章作者，页面初始化与用户进行关注操作时会用到,0为未关注\n    const favoriteStatus = ref(0); //判断该用户是否收藏该文章，页面初始化与用户进行收藏操作时会用到,0为未收藏\n    const insertcoinsStatus = ref(0); //判断该用户是否投币该文章，页面初始化与用户进行投币操作时会用到,0为未投币\n    const favoriteId = ref(); //用户选择的收藏的ID\n    const articleData = ref({}); //存放文章数据\n    const articleId = parseInt(route.params.id, 10); //路径中的文章ID\n    const articleAuthorId = ref(-1);\n    const user_id = localStorage.getItem(\"userId\");\n    const article_id = articleId;\n    const user = ref({});\n\n    //点击用户头像进行跳转\n    const navigateToUserProfile = () => {\n      if (user_id == articleAuthorId.value) {\n        // const routeLocation = router.resolve({ path: '/PersonalPage' });\n        // window.open(routeLocation.href, '_blank');\n        openUrl('/PersonalPage');\n      } else {\n        // const routeLocation = router.resolve({ path: `/OtherUserPersonalPage/${articleAuthorId.value}`});\n        // window.open(routeLocation.href, '_blank');\n        openUrl(`/OtherUserPersonalPage/${articleAuthorId.value}`);\n      }\n    };\n\n    // 获取用户信息\n    const fetchAvatar = async articleAuthorId => {\n      try {\n        const response = await axios.get(`/users/${articleAuthorId}`);\n        if (response.data.code === 1) {\n          user.value = response.data.data;\n          userAvatar.value = await getUsersAvatarFromCOS(articleAuthorId);\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          ElMessage.error('获取用户信息失败');\n        }\n      } catch (error) {\n        console.error(\"获取用户信息失败\", error);\n        ElMessage.error('获取用户信息失败');\n      }\n    };\n\n    //接受cfdialog返回的数据，从而确定收藏Id\n    const handleUpdateValue = data => {\n      favoriteId.value = data[0];\n    };\n\n    //文章收藏相关接口\n    async function toggleFavorite() {\n      dialogFormVisible.value = true;\n      try {\n        const response = await axios.post(`/favorite/article`, {\n          favoriteId: favoriteId.value,\n          contentId: articleId\n        });\n        if (response.data.code === 1) {\n          favoriteStatus.value = 1;\n          articleData.value.favoriteCount = response.data.data;\n          ElMessage.success('文章收藏成功');\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          console.error(response.data.msg || 'Unknown error');\n          ElMessage.error('文章收藏失败');\n        }\n      } catch (error) {\n        console.error('文章收藏失败', error.message);\n        ElMessage.error('文章收藏失败');\n      }\n    }\n\n    // 使用 watch 来监听 favoriteId 的变化\n    watch(favoriteId, (newVal, oldVal) => {\n      if (newVal !== oldVal) {\n        toggleFavorite();\n      }\n    });\n\n    //文章打赏功能\n    async function articleReward() {\n      try {\n        const response = await axios.post(`/article/reward`, {\n          userId: user_id,\n          rewardedUserId: articleAuthorId.value,\n          articleId: articleId,\n          rewardCount: input.value\n        });\n        if (response.data.code === 1) {\n          insertcoinsStatus.value = 1;\n          ElMessage.success('文章打赏成功');\n          emptyDialogVisible.value = false;\n          articleData.value.rewardCount = response.data.data;\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          console.error('文章打赏失败', response.data.msg || 'Unknown error');\n          ElMessage.error('文章打赏失败');\n        }\n      } catch (error) {\n        console.error('文章打赏失败:', error.message);\n        ElMessage.error('文章打赏失败');\n      }\n    }\n\n    //获取文章内容\n    async function fetchArticleContent(id) {\n      try {\n        const response = await axios.get(`/article/${id}`);\n        if (response.data && response.data.code === 1) {\n          articleData.value = response.data.data;\n          articleAuthorId.value = articleData.value.userId;\n          await deterFocus(articleAuthorId.value);\n          await fetchAvatar(articleAuthorId.value);\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          console.error('获取文章数据失败', response.data.msg || 'Unknown error');\n          ElMessage.error('获取文章数据失败');\n        }\n      } catch (error) {\n        console.error('网络错误:', error.message);\n        ElMessage.error('获取文章数据失败');\n      }\n    }\n\n    //判断点赞状态\n    async function determineImage(articleId) {\n      try {\n        const response = await axios.get(`/like/state`, {\n          params: {\n            id: articleId,\n            type: 0\n          }\n        });\n        if (response.data && response.data.code === 1) {\n          likeStatus.value = response.data.data;\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n          ElMessage.error('获取点赞状态失败');\n        } else {\n          console.error(response.data.msg || 'Unknown error');\n        }\n      } catch (error) {\n        console.error('获取点赞状态失败', error.message);\n      }\n    }\n\n    //判断收藏状态\n    async function deterFavorite(articleId) {\n      try {\n        const response = await axios.get(`/favorite/article/${articleId}`);\n        if (response.data && response.data.code === 1) {\n          favoriteStatus.value = response.data.data;\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          ElMessage.error('判断收藏状态失败');\n          console.error(response.data.msg || 'Unknown error');\n        }\n      } catch (error) {\n        console.error('获取点赞状态失败', error.message);\n        ElMessage.error('获取收藏状态失败');\n      }\n    }\n\n    //判断关注状态\n    async function deterFocus(id) {\n      try {\n        const response = await axios.get(`/users/subscribe/state/${id}`);\n        if (response.data && response.data.code === 1) {\n          focusStatus.value = response.data.data;\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          console.error(response.data.msg || 'Unknown error');\n          ElMessage.error('获取关注状态失败');\n        }\n      } catch (error) {\n        console.error('获取关注状态失败', error.message);\n        ElMessage.error('获取关注状态失败');\n      }\n    }\n\n    //判断打赏状态\n    async function deterReward(articleId) {\n      try {\n        const response = await axios.get(`/article/reward/state/${articleId}`);\n        if (response.data && response.data.code === 1) {\n          insertcoinsStatus.value = response.data.data;\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          console.error(response.data.msg || 'Unknown error');\n          ElMessage.error('获取打赏状态失败');\n        }\n      } catch (error) {\n        console.error('获取打赏状态失败', error.message);\n        ElMessage.error('获取打赏状态失败');\n      }\n    }\n\n    //点赞相关方法\n    async function toggleLike() {\n      try {\n        const config = likeStatus.value === 0 ? {\n          method: 'put',\n          url: `/article/like`,\n          data: {\n            userId: user_id,\n            articleId: article_id\n          }\n        } : {\n          method: 'delete',\n          url: `/article/unlike`,\n          data: {\n            userId: user_id,\n            articleId: article_id\n          }\n        };\n        const response = await axios(config);\n        if (response.data && response.data.code === 1) {\n          likeStatus.value = likeStatus.value === 0 ? 1 : 0;\n          articleData.value.likeCount = response.data.data;\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          ElMessage.error('点赞操作失败');\n          console.error(response.data.msg || 'Unknown error');\n        }\n      } catch (error) {\n        console.error('点赞/取消赞', error.message);\n        ElMessage.error('点赞/取消赞');\n      }\n    }\n\n    //关注用户接口\n    async function followUser() {\n      try {\n        const response = await axios.put(`users/subscribe/${articleAuthorId.value}`);\n        if (response.data.code === 1) {\n          focusStatus.value = focusStatus.value === 0 ? 1 : 0;\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          console.error(response.data.msg || 'Unknown error');\n          ElMessage.error('关注用户失败了哦');\n        }\n      } catch (error) {\n        console.error('关注用户失败了哦', error.message);\n        ElMessage.error('关注用户失败了哦');\n      }\n    }\n    onMounted(() => {\n      fetchArticleContent(articleId);\n      deterReward(articleId);\n      determineImage(articleId);\n      deterFavorite(articleId);\n    });\n    const __returned__ = {\n      route,\n      input,\n      emptyDialogVisible,\n      userAvatar,\n      router,\n      dialogFormVisible,\n      likeStatus,\n      focusStatus,\n      favoriteStatus,\n      insertcoinsStatus,\n      favoriteId,\n      articleData,\n      articleId,\n      articleAuthorId,\n      user_id,\n      article_id,\n      user,\n      navigateToUserProfile,\n      fetchAvatar,\n      handleUpdateValue,\n      toggleFavorite,\n      articleReward,\n      fetchArticleContent,\n      determineImage,\n      deterFavorite,\n      deterFocus,\n      deterReward,\n      toggleLike,\n      followUser,\n      get ElMessage() {\n        return ElMessage;\n      },\n      ref,\n      onMounted,\n      watch,\n      get axios() {\n        return axios;\n      },\n      get getUsersAvatarFromCOS() {\n        return getUsersAvatarFromCOS;\n      },\n      get unfavoritedImage() {\n        return unfavoritedImage;\n      },\n      get favoritedImage() {\n        return favoritedImage;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      get CfDialog() {\n        return CfDialog;\n      },\n      get unlikedImage() {\n        return unlikedImage;\n      },\n      get likedImage() {\n        return likedImage;\n      },\n      get uninsertcoinsImage() {\n        return uninsertcoinsImage;\n      },\n      get insertcoinsImage() {\n        return insertcoinsImage;\n      },\n      get openUrl() {\n        return openUrl;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ElMessage","ref","onMounted","watch","axios","getUsersAvatarFromCOS","unfavoritedImage","favoritedImage","useRouter","useRoute","CfDialog","unlikedImage","likedImage","uninsertcoinsImage","insertcoinsImage","openUrl","route","input","emptyDialogVisible","userAvatar","router","dialogFormVisible","likeStatus","focusStatus","favoriteStatus","insertcoinsStatus","favoriteId","articleData","articleId","parseInt","params","id","articleAuthorId","user_id","localStorage","getItem","article_id","user","navigateToUserProfile","value","fetchAvatar","response","get","data","code","msg","error","toString","console","handleUpdateValue","toggleFavorite","post","contentId","favoriteCount","success","message","newVal","oldVal","articleReward","userId","rewardedUserId","rewardCount","fetchArticleContent","deterFocus","determineImage","type","deterFavorite","deterReward","toggleLike","config","method","url","likeCount","followUser","put"],"sources":["D:/有渔/前端源码/YouyuBBS-Q - 副本/youyu-lyn-qtnew-vision-new-2024.1.14/src/page/TheArticle/components/MainPage.vue"],"sourcesContent":["<template>\r\n  <!--用户头像和关注按钮  -->\r\n  <div class=\"buttom\">\r\n    <div class=\"user1\">\r\n        <div class=\"user\">\r\n          <img \r\n              :src=\"userAvatar\"\r\n              alt=\"\"\r\n              class=\"navbar-avatar\"\r\n              @click=\"navigateToUserProfile\"\r\n            >\r\n        </div>\r\n        <div style=\"display: flex;align-items: center;gap: 3px;\">\r\n            <span style=\"font-weight: 700;\">{{ user.username }}</span>\r\n            <img v-if=\"user.verified === 1\" src=\"@/assets/VerifiedUser.svg\" style=\"width: 16px;height: 16px;\" alt=\"\">\r\n        </div>\r\n        <div class=\"user-button\">\r\n            <el-button v-if=\"focusStatus\" type=\"primary\" round @click=\"followUser\">已关注</el-button>\r\n            <el-button v-else type=\"primary\" round  @click=\"followUser\">+关注</el-button>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class=\"icons-container\">\r\n        <!-- 点赞盒子 -->\r\n        <div class=\"icon-wrapper\">\r\n          <img class=\"like-pic\" :src=\"likeStatus === 0 ? unlikedImage : likedImage \" @click=\"toggleLike\">\r\n          <span class=\"like_num\">{{ articleData.likeCount }}</span>\r\n        </div>\r\n        <!-- 收藏盒子 -->\r\n        <div class=\"icon-wrapper\">\r\n          <img class=\"like-pic\" :src=\"favoriteStatus === 0  ? unfavoritedImage : favoritedImage\" @click=\"dialogFormVisible = true\">\r\n          <span class=\"like_num\">{{ articleData.favoriteCount }}</span>\r\n        </div>\r\n        <div v-if=\"dialogFormVisible\">\r\n          <CfDialog  v-model=\"dialogFormVisible\" @updateValue=\"handleUpdateValue\" ClassifyName=\"文章收藏\"></CfDialog>\r\n        </div>\r\n        <!-- 打赏盒子 -->\r\n        <!-- <div class=\"icon-wrapper\" @click=\"emptyDialogVisible = true\">\r\n          <img class=\"like-pic\" :src=\"insertcoinsStatus === 0  ? uninsertcoinsImage : insertcoinsImage\">\r\n          <span class=\"like_num\">{{ articleData.rewardCount }}</span>\r\n        </div> -->\r\n        <el-dialog class=\"reward\" v-model=\"emptyDialogVisible\" style=\"width: 310px; border-radius: 34px; overflow: hidden;\">\r\n          <div class=\"top-bgi\">\r\n            <img src=\"@/assets/RewardBgi.svg\" alt=\"\">\r\n          </div>\r\n          <div class=\"bot-bgi\">\r\n            <div class=\"flex-container\">\r\n              <p>给作者打赏</p>\r\n              <el-input v-model=\"input\" placeholder=\"请输入\" class=\"custom-input\" />\r\n              <p>个渔币</p>\r\n            </div>\r\n            <div class=\"button-container\">\r\n              <div class=\"custom-button\" type=\"info\" plain @click=\"articleReward\">打赏</div>\r\n            </div>\r\n          </div>\r\n        </el-dialog>\r\n\r\n      </div>\r\n  </div>\r\n</template>\r\n  \r\n<script setup>\r\nimport { ElMessage } from 'element-plus';\r\nimport { ref,onMounted,watch} from 'vue';\r\nimport axios from '@/utils/request';\r\nimport { getUsersAvatarFromCOS } from '@/utils/cosService';\r\nimport unfavoritedImage from '@/assets/FavoriteBefore.svg';\r\nimport favoritedImage from '@/assets/FavoriteAfter.svg'; \r\nimport { useRouter,useRoute} from 'vue-router';\r\nimport CfDialog from '@/page/components/CfDialog';\r\n// 点赞部分的动画toggleLike\r\nimport unlikedImage from '@/assets/LikeBefore.svg';\r\nimport likedImage from '@/assets/LikeAfter.svg';\r\nimport uninsertcoinsImage from '@/assets/InsertCoins.svg'\r\nimport insertcoinsImage from '@/assets/InsertCoinsAfter.svg'\r\nimport { openUrl } from '@/utils/routeJudge'\r\n\r\nconst route = useRoute();\r\nconst input = ref('');//文章打赏的数额\r\nconst emptyDialogVisible = ref(false);\r\nconst userAvatar = ref('');  // 这里保存从后端获取的头像 URL\r\nconst router = useRouter();\r\nconst dialogFormVisible = ref(false);//控制cfdialog弹窗（显示文章收藏列表）是否弹出\r\nconst likeStatus = ref();//判断该用户是否对文章点赞，页面初始化与用户进行点赞操作时会用到,0为未点赞\r\nconst focusStatus = ref();//判断该用户是否关注文章作者，页面初始化与用户进行关注操作时会用到,0为未关注\r\nconst favoriteStatus = ref(0);//判断该用户是否收藏该文章，页面初始化与用户进行收藏操作时会用到,0为未收藏\r\nconst insertcoinsStatus = ref(0);//判断该用户是否投币该文章，页面初始化与用户进行投币操作时会用到,0为未投币\r\nconst favoriteId = ref();//用户选择的收藏的ID\r\nconst articleData = ref({});//存放文章数据\r\nconst articleId = parseInt(route.params.id,10);//路径中的文章ID\r\nconst articleAuthorId = ref(-1);\r\nconst user_id = localStorage.getItem(\"userId\");\r\nconst article_id = articleId; \r\nconst user = ref({});\r\n\r\n\r\n//点击用户头像进行跳转\r\nconst navigateToUserProfile = () => {\r\n    if(user_id == articleAuthorId.value){\r\n      // const routeLocation = router.resolve({ path: '/PersonalPage' });\r\n      // window.open(routeLocation.href, '_blank');\r\n      openUrl('/PersonalPage')\r\n    }else{\r\n      // const routeLocation = router.resolve({ path: `/OtherUserPersonalPage/${articleAuthorId.value}`});\r\n      // window.open(routeLocation.href, '_blank');\r\n      openUrl(`/OtherUserPersonalPage/${articleAuthorId.value}`)\r\n    }\r\n};\r\n\r\n// 获取用户信息\r\nconst fetchAvatar = async (articleAuthorId) => {\r\n  try {\r\n    const response = await axios.get(`/users/${articleAuthorId}`);\r\n    if(response.data.code === 1){\r\n      user.value = response.data.data;\r\n      userAvatar.value = await getUsersAvatarFromCOS(articleAuthorId);\r\n    }else if(response.data.code === 0 && response.data.msg){\r\n      ElMessage.error(response.data.msg.toString());\r\n    }else{\r\n      ElMessage.error('获取用户信息失败');\r\n    }\r\n  } catch (error) {\r\n    console.error(\"获取用户信息失败\", error);\r\n    ElMessage.error('获取用户信息失败');\r\n  }\r\n};\r\n\r\n\r\n//接受cfdialog返回的数据，从而确定收藏Id\r\nconst handleUpdateValue = (data) => {\r\n  favoriteId.value = data[0];\r\n}\r\n\r\n//文章收藏相关接口\r\nasync function toggleFavorite() {\r\n  dialogFormVisible.value = true;\r\n  try {\r\n    const response = await axios.post(`/favorite/article`,{favoriteId: favoriteId.value, contentId: articleId });\r\n    if ( response.data.code === 1) {\r\n      favoriteStatus.value = 1;\r\n      articleData.value.favoriteCount =  response.data.data;\r\n      ElMessage.success('文章收藏成功');\r\n    } else if(response.data.code === 0 && response.data.msg){\r\n        ElMessage.error(response.data.msg.toString());\r\n    }else {\r\n      console.error(response.data.msg || 'Unknown error');\r\n      ElMessage.error('文章收藏失败');\r\n    }\r\n  } catch (error) {\r\n    console.error('文章收藏失败', error.message);\r\n    ElMessage.error('文章收藏失败');\r\n  }\r\n}\r\n\r\n// 使用 watch 来监听 favoriteId 的变化\r\nwatch(favoriteId, (newVal, oldVal) => {\r\n  if (newVal !== oldVal) {\r\n    toggleFavorite();\r\n  }\r\n});\r\n\r\n//文章打赏功能\r\nasync function articleReward() {\r\n  try {\r\n    const response = await axios.post(`/article/reward`,{\r\n      userId:user_id,\r\n      rewardedUserId:articleAuthorId.value,\r\n      articleId:articleId,  \r\n      rewardCount:input.value,\r\n    });\r\n    if (response.data.code === 1) {\r\n      insertcoinsStatus.value = 1;\r\n      ElMessage.success('文章打赏成功')\r\n      emptyDialogVisible.value = false;\r\n      articleData.value.rewardCount =  response.data.data;\r\n    } else if(response.data.code === 0 && response.data.msg){\r\n      ElMessage.error(response.data.msg.toString());\r\n    }else {\r\n      console.error('文章打赏失败', response.data.msg || 'Unknown error');\r\n      ElMessage.error('文章打赏失败');\r\n    }\r\n  } catch (error) {\r\n    console.error('文章打赏失败:', error.message);\r\n    ElMessage.error('文章打赏失败');\r\n  }\r\n}\r\n\r\n//获取文章内容\r\nasync function fetchArticleContent(id) {\r\n  try {\r\n    const response = await axios.get(`/article/${id}`);\r\n    if (response.data && response.data.code === 1) {\r\n      articleData.value =  response.data.data;\r\n      articleAuthorId.value = articleData.value.userId;\r\n      await deterFocus(articleAuthorId.value); \r\n      await fetchAvatar(articleAuthorId.value);\r\n    } else if(response.data.code === 0 && response.data.msg){\r\n        ElMessage.error(response.data.msg.toString());\r\n    }else {\r\n      console.error('获取文章数据失败', response.data.msg || 'Unknown error');\r\n      ElMessage.error('获取文章数据失败');\r\n    }\r\n  } catch (error) {\r\n    console.error('网络错误:', error.message);\r\n    ElMessage.error('获取文章数据失败');\r\n  }\r\n}\r\n\r\n//判断点赞状态\r\nasync function determineImage(articleId) {\r\n  try {\r\n    const response = await axios.get(`/like/state`,{\r\n      params: {\r\n        id: articleId,\r\n        type: 0,\r\n      }\r\n    });\r\n    if (response.data && response.data.code === 1) {\r\n      likeStatus.value = response.data.data;\r\n    } else if(response.data.code === 0 && response.data.msg){\r\n        ElMessage.error(response.data.msg.toString());\r\n        ElMessage.error('获取点赞状态失败');\r\n    }else {\r\n      console.error(response.data.msg || 'Unknown error');\r\n    }\r\n  } catch (error) {\r\n    console.error('获取点赞状态失败', error.message);\r\n  }\r\n}\r\n\r\n//判断收藏状态\r\nasync function deterFavorite(articleId) {\r\n  try {\r\n    const response = await axios.get(`/favorite/article/${articleId}`)\r\n    if (response.data && response.data.code === 1) {\r\n      favoriteStatus.value = response.data.data;\r\n    } else if(response.data.code === 0 && response.data.msg){\r\n        ElMessage.error(response.data.msg.toString());\r\n    }else {\r\n      ElMessage.error('判断收藏状态失败');\r\n      console.error(response.data.msg || 'Unknown error');\r\n    }\r\n  } catch (error) {\r\n    console.error('获取点赞状态失败', error.message);\r\n    ElMessage.error('获取收藏状态失败');\r\n  }\r\n}\r\n\r\n//判断关注状态\r\nasync function deterFocus(id) {\r\n  try {\r\n    const response = await axios.get(`/users/subscribe/state/${id}`)\r\n    if (response.data && response.data.code === 1) {\r\n      focusStatus.value = response.data.data;\r\n    } else if(response.data.code === 0 && response.data.msg){\r\n        ElMessage.error(response.data.msg.toString());\r\n    }else {\r\n      console.error(response.data.msg || 'Unknown error');\r\n      ElMessage.error('获取关注状态失败');\r\n    }\r\n  } catch (error) {\r\n    console.error('获取关注状态失败', error.message);\r\n    ElMessage.error('获取关注状态失败');\r\n  }\r\n}\r\n\r\n//判断打赏状态\r\nasync function deterReward(articleId) {\r\n  try {\r\n    const response = await axios.get(`/article/reward/state/${articleId}`)\r\n    if (response.data && response.data.code === 1) {\r\n      insertcoinsStatus.value = response.data.data;\r\n    } else if(response.data.code === 0 && response.data.msg){\r\n      ElMessage.error(response.data.msg.toString());\r\n    }else {\r\n      console.error(response.data.msg || 'Unknown error');\r\n      ElMessage.error('获取打赏状态失败');\r\n    }\r\n  } catch (error) {\r\n    console.error('获取打赏状态失败', error.message);\r\n    ElMessage.error('获取打赏状态失败');\r\n  }\r\n}\r\n\r\n//点赞相关方法\r\nasync function toggleLike() {\r\n  try {\r\n    const config = likeStatus.value === 0\r\n      ? {\r\n        method: 'put',\r\n        url: `/article/like`,\r\n        data: { userId: user_id , articleId: article_id}\r\n      }\r\n      : {\r\n        method: 'delete',\r\n        url: `/article/unlike`,\r\n        data: { userId: user_id , articleId: article_id}\r\n      };\r\n    const response = await axios(config);\r\n    if (response.data && response.data.code === 1) {\r\n      likeStatus.value = likeStatus.value === 0 ? 1 : 0;\r\n      articleData.value.likeCount = response.data.data;\r\n    } else if(response.data.code === 0 && response.data.msg){\r\n      ElMessage.error(response.data.msg.toString());\r\n    }else {\r\n      ElMessage.error('点赞操作失败');\r\n      console.error(response.data.msg || 'Unknown error');\r\n    }\r\n  } catch (error) {\r\n    console.error('点赞/取消赞', error.message);\r\n    ElMessage.error('点赞/取消赞');\r\n  }\r\n}\r\n\r\n//关注用户接口\r\nasync function followUser() {\r\n  try {\r\n    const response = await axios.put(`users/subscribe/${articleAuthorId.value}`);\r\n    if (response.data.code === 1) {\r\n      focusStatus.value = focusStatus.value === 0 ? 1 : 0;\r\n    } else if(response.data.code === 0 && response.data.msg){\r\n        ElMessage.error(response.data.msg.toString());\r\n    }else {\r\n      console.error(response.data.msg || 'Unknown error');\r\n      ElMessage.error('关注用户失败了哦');\r\n    }\r\n  } catch (error) {\r\n    console.error('关注用户失败了哦', error.message);\r\n    ElMessage.error('关注用户失败了哦');\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  fetchArticleContent(articleId);\r\n  deterReward(articleId);\r\n  determineImage(articleId);\r\n  deterFavorite(articleId);\r\n});\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.buttom {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    width: 85%;\r\n    height: auto;  \r\n    padding: 45px 20px;  \r\n    margin: 0px auto;\r\n    box-shadow: 0px 1px #E8E8E8;\r\n    flex-wrap: nowrap;  \r\n}\r\n.user {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 60px;\r\n  height: 60px;\r\n  margin-left: 20px;\r\n  margin-right: 0.5rem;\r\n}\r\n.user1 {\r\n    display: flex;\r\n    align-items: center; \r\n    height: 70px;\r\n}\r\n.user-button .el-button{\r\n  height: 30px;\r\n  margin-left: 1rem;\r\n  padding: 0px 10px;\r\n  background-color: #9fa9ca;\r\n  border: none;\r\n}\r\n::v-deep .el-button>span{\r\n  color: #00002d;\r\n  font-size: 12px;\r\n  letter-spacing: 1px;\r\n}\r\n.icons-container {\r\n    display: flex;\r\n    gap: 10px;\r\n}\r\n.icon-wrapper {\r\n  display: inline-block; \r\n  text-align: center;   \r\n  margin: 0 10px;       \r\n}\r\n\r\n.like-pic {\r\n  display: block;    \r\n  margin: 0px auto 3px;    \r\n  height: 28px;\r\n  width: 28px;\r\n  cursor: pointer;\r\n}\r\n.like_num {\r\n    text-align: center;\r\n    display: contents;\r\n    color: #2d2d2d;\r\n}\r\n\r\n/* 打赏弹框 */\r\n::v-deep .reward .el-dialog__header {\r\n    padding: 0;\r\n    margin-right: 0px;\r\n}\r\n::v-deep .reward .el-dialog__body{\r\n  padding: 0;\r\n}\r\n.bot-bgi {\r\n    height: 35%;\r\n    background: #FDFBF6;\r\n    padding-top: 2rem;\r\n}\r\n.flex-container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 5px;\r\n  margin-bottom: 2rem;\r\n}\r\n.custom-input {\r\n  width: 64px;\r\n  height: 30px;\r\n}\r\n:deep .custom-input .el-input__inner{\r\n  text-align: center;\r\n}\r\n.button-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding-bottom: 15px;\r\n}\r\n.custom-button {\r\n  height: 30px;\r\n  padding: 0px 10px;\r\n  font-size: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #fff;\r\n  border-radius: 8px;\r\n  background: #9FA9CA;\r\n  cursor: pointer;\r\n}\r\n.navbar-avatar {\r\n    display: inline-block; \r\n    width: 55px;\r\n    height: 55px;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    margin-right: 10px; \r\n}\r\n@media (max-width:768px){\r\n  .buttom{\r\n      width: auto;\r\n      padding: 0.5rem;\r\n  }\r\n  .user{\r\n      width: 3rem;\r\n      height: 3rem;\r\n      margin-left: 0px;\r\n      margin-right: 0.1rem;\r\n  }\r\n  .navbar-avatar{\r\n      width: 3rem;\r\n      height: 3rem;\r\n  }\r\n  .user-button .el-button{\r\n    height: 1.7rem;\r\n    padding: 0px 0.5rem;\r\n  }\r\n  .icons-container{\r\n      gap: 0px;\r\n  }\r\n  .like-pic{\r\n      margin: 0 auto;\r\n      height: 1.2rem;\r\n      width: 1.2rem;\r\n  }\r\n  .like_num{\r\n      font-size: 0.8rem;\r\n  }\r\n}\r\n</style>\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}