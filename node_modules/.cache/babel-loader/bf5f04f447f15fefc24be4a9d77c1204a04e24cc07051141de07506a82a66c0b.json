{"ast":null,"code":"import { ref, onMounted, watch } from 'vue';\nimport axios from '../../../../../utils/request';\nimport { getArticleCoverageFromCOS } from '@/utils/cosService';\nimport { ElMessage } from 'element-plus';\nimport CfDialog from '../../../../components/CfDialog';\nimport { useRouter } from 'vue-router';\nimport { openUrl } from '@/utils/routeJudge';\nexport default {\n  __name: 'ACManagementDetail',\n  props: {\n    Name: String,\n    Id: Number\n  },\n  emits: {\n    switchToComponent: payload => {\n      if (payload && typeof payload.title === 'string') {\n        return true;\n      }\n      ElMessage.error('组件传值错误');\n      console.error('组件传值错误');\n      return false;\n    }\n  },\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const currentPage = ref(1);\n    const showColumnArticle = ref(true); //专栏里的某一篇文章是否展示\n    const articleColumnGroups = ref([]);\n    const dialogFormVisible = ref(false); //控制cfdialog弹窗（显示文章专栏列表）是否弹出\n    const columnId = ref(); //用户选择的ID\n    const tempcolumnId = ref(); //存放用户临时选择的文章ID\n\n    const props = __props;\n\n    //点击查看进入文章展示页面\n    const router = useRouter();\n    const goToTheArticle = articleId => {\n      // const routeLocation = router.resolve({ path: `/TheArticle/${articleId}`});\n      // window.open(routeLocation.href, '_blank');\n      openUrl(`/TheArticle/${articleId}`);\n    };\n\n    //点击管理或返回切换组件的定义事件之一\n    const emits = __emit;\n    const back = () => {\n      emits(\"switchToComponent\", {\n        title: \"文章专栏\"\n      });\n    };\n    const handleRemoveBefore = ID => {\n      tempcolumnId.value = ID;\n      dialogFormVisible.value = true;\n    };\n\n    //接受cfdialog返回的数据，从而确定Id\n    const handleUpdateValue = data => {\n      columnId.value = data[0];\n    };\n\n    // 使用 watch 来监听 columnId 的变化\n    watch(columnId, (newVal, oldVal) => {\n      if (newVal !== 0 && newVal !== oldVal) {\n        handleRemove();\n      }\n    });\n    const handleRemove = async () => {\n      await handleDelete();\n      await handleInsert();\n      await getArticleList();\n      columnId.value = 0;\n    };\n    //删除专栏中的文章\n    async function handleDelete() {\n      try {\n        const response = await axios.delete(`/column/article`, {\n          columnId: props.Id,\n          contentId: tempcolumnId.value\n        });\n        if (response.data && response.data.code === 1) {\n          console.success('删除专栏文章成功');\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          console.error('删除专栏文章失败', response.data.msg);\n          ElMessage.error('删除专栏文章失败');\n        }\n      } catch (error) {\n        console.error(\"删除专栏文章失败\", error);\n        ElMessage.error('删除专栏文章失败');\n      }\n    }\n\n    //增添专栏中的文章\n    async function handleInsert() {\n      try {\n        const response = await axios.post(`/column/article`, {\n          columnId: columnId.value,\n          contentId: tempcolumnId.value\n        });\n        if (response.data && response.data.code === 1) {\n          ElMessage.success('移动文章成功');\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          console.error('增添专栏文章失败', response.data.msg);\n          ElMessage.error('增添专栏文章失败');\n        }\n      } catch (error) {\n        console.error(\"增添专栏文章失败\", error);\n        ElMessage.error('增添专栏文章失败');\n      }\n    }\n\n    // 添加一个锁状态\n    let isLoading = false;\n    async function load() {\n      if (isLoading) return; // 如果已经在加载中，则直接返回不执行新的加载\n      isLoading = true; // 开始加载数据，设置锁状态为true\n      try {\n        if (currentPage.value === 1) {\n          currentPage.value++;\n        }\n        await getArticleList(currentPage.value);\n        currentPage.value++; // 只有在请求成功完成后才递增页码\n      } catch (error) {\n        console.error(error);\n        ElMessage.error('滚动时的未知错误');\n      } finally {\n        isLoading = false; // 请求完成，无论成功或失败，都释放锁状态\n      }\n    }\n\n    //获取专栏文章列表\n    async function getArticleList(currentPage) {\n      try {\n        const response = await axios.get('/column/article', {\n          params: {\n            id: props.Id,\n            page: currentPage,\n            pageSize: 10\n          }\n        });\n        if (response.data.code === 1 && response.data.data.records.length > 0) {\n          const updates = response.data.data.records.map(async record => {\n            const newCoverPicture = await getArticleCoverageFromCOS(record.id);\n            return {\n              ...record,\n              newCoverPicture\n            };\n          });\n          const updatedRecords = await Promise.all(updates);\n          articleColumnGroups.value = [...articleColumnGroups.value, ...updatedRecords];\n          console.log(response.data);\n        } else if (response.data.code === 1 && response.data.data.records.length === 0) {\n          ElMessage.info('已加载所有数据');\n        } else if (response.data.code === 0 && response.data.msg) {\n          ElMessage.error(response.data.msg.toString());\n        } else {\n          console.error(\"获取文章专栏数据失败\");\n          ElMessage.error(\"获取文章专栏数据失败\");\n        }\n      } catch (error) {\n        console.error(\"请求文章专栏接口失败\", error);\n        ElMessage.error(\"请求文章专栏接口失败\");\n      }\n    }\n    onMounted(() => {\n      getArticleList(currentPage.value);\n    });\n    const __returned__ = {\n      currentPage,\n      showColumnArticle,\n      articleColumnGroups,\n      dialogFormVisible,\n      columnId,\n      tempcolumnId,\n      props,\n      router,\n      goToTheArticle,\n      emits,\n      back,\n      handleRemoveBefore,\n      handleUpdateValue,\n      handleRemove,\n      handleDelete,\n      handleInsert,\n      get isLoading() {\n        return isLoading;\n      },\n      set isLoading(v) {\n        isLoading = v;\n      },\n      load,\n      getArticleList,\n      ref,\n      onMounted,\n      watch,\n      get axios() {\n        return axios;\n      },\n      get getArticleCoverageFromCOS() {\n        return getArticleCoverageFromCOS;\n      },\n      get ElMessage() {\n        return ElMessage;\n      },\n      get CfDialog() {\n        return CfDialog;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get openUrl() {\n        return openUrl;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","watch","axios","getArticleCoverageFromCOS","ElMessage","CfDialog","useRouter","openUrl","currentPage","showColumnArticle","articleColumnGroups","dialogFormVisible","columnId","tempcolumnId","props","__props","router","goToTheArticle","articleId","emits","__emit","back","title","handleRemoveBefore","ID","value","handleUpdateValue","data","newVal","oldVal","handleRemove","handleDelete","handleInsert","getArticleList","response","delete","Id","contentId","code","console","success","msg","error","toString","post","isLoading","load","get","params","id","page","pageSize","records","length","updates","map","record","newCoverPicture","updatedRecords","Promise","all","log","info"],"sources":["D:/有渔/前端源码/YouyuBBS-Q - 副本/youyu-lyn-qtnew-vision-new-2024.1.14/src/page/CreateCenter/components/ManuscriptManagement/ManuscriptManagementDetail/ACManagementDetail.vue"],"sourcesContent":["<template>\r\n<div class=\"container1\">\r\n    <div class=\"page\">\r\n        <div class=\"hierarchy-title\">\r\n            <span>专栏管理</span>\r\n            <span>></span>\r\n            <span>{{ props.Name }}</span>\r\n            <span>></span>\r\n            <span>管理</span>\r\n        </div>\r\n        <button @click=\"back\" class=\"back-btn\"><el-icon><Back /></el-icon></button>\r\n        <div class=\"footer\" style=\"display: flex; color: #606060; margin-top: 0.5rem;\">\r\n            <div style=\"flex:56%\">排序</div>\r\n            <div style=\"flex:35%;text-align: center;\">操作</div>\r\n            <div style=\"flex:9%;text-align: center;\">是否展示</div>\r\n        </div>\r\n        <div class=\"content-container\"  v-infinite-scroll=\"load\" infinite-scroll-distance=\"100\" infinite-scroll-immediate=\"false\">\r\n            <div class=\"content-box underline\"  v-for=\"item in articleColumnGroups\" :key=\"item.id\">\r\n                <img src=\"@/assets/CreateCenter/小点.svg\" alt=\"\" style=\"flex: 5%;height: 20px; padding-right: 40px;\">\r\n                <div style=\"flex: 20%;\">\r\n                    <img :src=\"item.newCoverPicture\" alt=\"\" style=\"width: 142px;height: 100px;border-radius: 8px;\">\r\n                </div>\r\n                <div style=\"flex: 30%;text-align: center;\">{{ item.title }}</div>\r\n                <div style=\"display: flex; flex-direction: row;justify-content: center; flex: 35%;gap: 2rem;\">\r\n                    <el-link type=\"primary\" @click=\"goToTheArticle(item.id)\">查看</el-link>\r\n                    <!-- <el-link type=\"primary\" @click = handleRemoveBefore(item.id)>移动</el-link>       -->\r\n                </div>\r\n                <div style=\"flex: 10%;display: flex;justify-content: center;\">\r\n                    <img v-if=\"showColumnArticle\" src=\"@/assets/CreateCenter/ShowArticleShare.svg\" alt=\"\">\r\n                </div>\r\n                <div v-if=\"dialogFormVisible\">\r\n                    <CfDialog  v-model=\"dialogFormVisible\" @updateValue=\"handleUpdateValue\" ClassifyName=\"文章专栏\"></CfDialog>\r\n                </div>\r\n            </div>\r\n            <el-empty \r\n                v-if=\"!articleColumnGroups || articleColumnGroups.length === 0\" \r\n                :image-size=\"200\" \r\n                description=\"您的专栏里面还没有文章呢，快去创作吧！\"\r\n            />\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport { ref,onMounted,defineProps,defineEmits,watch } from 'vue'\r\nimport axios from '../../../../../utils/request';\r\nimport { getArticleCoverageFromCOS } from '@/utils/cosService';\r\nimport { ElMessage } from 'element-plus';\r\nimport CfDialog from '../../../../components/CfDialog';\r\nimport { useRouter } from 'vue-router';\r\nimport { openUrl } from '@/utils/routeJudge'\r\n\r\nconst currentPage = ref(1);\r\nconst showColumnArticle = ref(true)//专栏里的某一篇文章是否展示\r\nconst articleColumnGroups = ref([])\r\nconst dialogFormVisible = ref(false)//控制cfdialog弹窗（显示文章专栏列表）是否弹出\r\nconst columnId = ref();//用户选择的ID\r\nconst tempcolumnId = ref()//存放用户临时选择的文章ID\r\n\r\nconst props = defineProps({\r\n    Name: String,\r\n    Id:Number,\r\n});\r\n\r\n\r\n//点击查看进入文章展示页面\r\nconst router = useRouter()\r\nconst goToTheArticle = (articleId) =>{\r\n    // const routeLocation = router.resolve({ path: `/TheArticle/${articleId}`});\r\n    // window.open(routeLocation.href, '_blank');\r\n    openUrl(`/TheArticle/${articleId}`)\r\n}\r\n\r\n//点击管理或返回切换组件的定义事件之一\r\nconst emits = defineEmits({\r\n    switchToComponent: payload => {\r\n        if (payload && typeof payload.title === 'string' ) {\r\n        return true;\r\n        }\r\n        ElMessage.error('组件传值错误');\r\n        console.error('组件传值错误');\r\n        return false;\r\n    }\r\n});\r\nconst back = () => {\r\n  emits(\"switchToComponent\",{title:\"文章专栏\"});\r\n};\r\n\r\nconst handleRemoveBefore = (ID) => {\r\n    tempcolumnId.value = ID;\r\n    dialogFormVisible.value = true;\r\n}\r\n\r\n//接受cfdialog返回的数据，从而确定Id\r\nconst handleUpdateValue = (data) => {\r\n    columnId.value = data[0];\r\n}\r\n\r\n// 使用 watch 来监听 columnId 的变化\r\nwatch(columnId, (newVal, oldVal) => {\r\n    if (newVal !== 0 && newVal !== oldVal) {\r\n        handleRemove();\r\n    }\r\n});\r\n\r\nconst handleRemove = async () => {\r\n    await handleDelete();\r\n    await handleInsert();\r\n    await getArticleList();\r\n    columnId.value = 0;\r\n}\r\n//删除专栏中的文章\r\nasync function handleDelete() {\r\n  try {\r\n        const response = await axios.delete(`/column/article`,{columnId:props.Id,contentId: tempcolumnId.value});\r\n        if (response.data && response.data.code === 1) {\r\n            console.success('删除专栏文章成功');\r\n        } else if(response.data.code === 0 && response.data.msg){\r\n            ElMessage.error(response.data.msg.toString());\r\n        }else {\r\n            console.error('删除专栏文章失败', response.data.msg);\r\n            ElMessage.error('删除专栏文章失败');\r\n        }\r\n  } catch (error) {\r\n      console.error(\"删除专栏文章失败\", error); \r\n      ElMessage.error('删除专栏文章失败');\r\n  }\r\n}\r\n\r\n//增添专栏中的文章\r\nasync function handleInsert() {\r\n  try {\r\n        const response = await axios.post(`/column/article`,{columnId:columnId.value,contentId: tempcolumnId.value});\r\n        if (response.data && response.data.code === 1) {\r\n            ElMessage.success('移动文章成功');\r\n        } else if(response.data.code === 0 && response.data.msg){\r\n            ElMessage.error(response.data.msg.toString());\r\n        }else {\r\n            console.error('增添专栏文章失败', response.data.msg);\r\n            ElMessage.error('增添专栏文章失败');\r\n        }\r\n  } catch (error) {\r\n      console.error(\"增添专栏文章失败\", error); \r\n      ElMessage.error('增添专栏文章失败');\r\n  }\r\n}\r\n\r\n// 添加一个锁状态\r\nlet isLoading = false;\r\nasync function load() {\r\n    if (isLoading) return; // 如果已经在加载中，则直接返回不执行新的加载\r\n    isLoading = true; // 开始加载数据，设置锁状态为true\r\n    try {\r\n        if(currentPage.value === 1){\r\n            currentPage.value++;\r\n        }\r\n        await getArticleList(currentPage.value);\r\n        currentPage.value++; // 只有在请求成功完成后才递增页码\r\n    } catch (error) {\r\n        console.error(error);\r\n        ElMessage.error('滚动时的未知错误');\r\n    } finally {\r\n        isLoading = false; // 请求完成，无论成功或失败，都释放锁状态\r\n    }\r\n}\r\n\r\n//获取专栏文章列表\r\nasync function getArticleList(currentPage) {\r\n  try {\r\n    const response = await axios.get('/column/article',{\r\n      params: {\r\n          id:props.Id,\r\n          page:currentPage,\r\n          pageSize:10\r\n        }\r\n    });\r\n    if (response.data.code === 1 && response.data.data.records.length > 0) {\r\n      const updates = response.data.data.records.map(async (record) => {\r\n        const newCoverPicture = await getArticleCoverageFromCOS(record.id);\r\n        return { ...record, newCoverPicture };\r\n      });\r\n      const updatedRecords = await Promise.all(updates);\r\n      articleColumnGroups.value = [...articleColumnGroups.value, ...updatedRecords];\r\n      console.log(response.data);\r\n    }else if (response.data.code === 1 && response.data.data.records.length === 0) {\r\n        ElMessage.info('已加载所有数据');\r\n    }else if(response.data.code === 0 && response.data.msg){\r\n        ElMessage.error(response.data.msg.toString());\r\n    }else{\r\n        console.error(\"获取文章专栏数据失败\");\r\n        ElMessage.error(\"获取文章专栏数据失败\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"请求文章专栏接口失败\", error); \r\n    ElMessage.error(\"请求文章专栏接口失败\");\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n    getArticleList(currentPage.value);\r\n})\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.container1 {\r\n    background-color: #F5F5F5;\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n.page {\r\n    background-color: #fff;\r\n    width: 100%;\r\n    position: relative;\r\n}\r\n.back-btn{\r\n    position: absolute;\r\n    display: flex;\r\n    width: 23px;\r\n    height: 18px;\r\n    align-items: center;\r\n    justify-content: center;\r\n    top: 12px;\r\n    left: -35px;\r\n    cursor: pointer;\r\n}\r\n.hierarchy-title {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 5px;\r\n    margin: 10px 0px 40px;\r\n    color: #9B9B9B;\r\n}\r\n::v-deep .el-tabs__nav-wrap::after {\r\n    height: 0px;\r\n}\r\n\r\n.content-box {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    padding-bottom: 1rem;\r\n    margin-top: 1rem;\r\n    gap: 1rem;\r\n}\r\n\r\n.middle {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n\r\n.search:hover {\r\n    cursor: pointer;\r\n}\r\n\r\n.underline{\r\n    border-bottom: 1px solid #ccc;\r\n\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}