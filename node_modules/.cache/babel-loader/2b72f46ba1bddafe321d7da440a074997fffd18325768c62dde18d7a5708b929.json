{"ast":null,"code":"!function (e, n) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = n(require(\"katex\"), require(\"@wangeditor/editor\")) : \"function\" == typeof define && define.amd ? define([\"katex\", \"@wangeditor/editor\"], n) : \"object\" == typeof exports ? exports.WangEditorPluginFormula = n(require(\"katex\"), require(\"@wangeditor/editor\")) : e.WangEditorPluginFormula = n(e.katex, e.wangEditor);\n}(self, (e, n) => (() => {\n  \"use strict\";\n\n  var t = {\n      129: () => {\n        !function () {\n          if (void 0 !== window.Reflect && void 0 !== window.customElements && !window.customElements.polyfillWrapFlushCallback) {\n            var e = HTMLElement;\n            window.HTMLElement = function () {\n              return Reflect.construct(e, [], this.constructor);\n            }, HTMLElement.prototype = e.prototype, HTMLElement.prototype.constructor = HTMLElement, Object.setPrototypeOf(HTMLElement, e);\n          }\n        }();\n      },\n      771: n => {\n        n.exports = e;\n      },\n      857: e => {\n        e.exports = n;\n      }\n    },\n    i = {};\n  function s(e) {\n    var n = i[e];\n    if (void 0 !== n) return n.exports;\n    var r = i[e] = {\n      exports: {}\n    };\n    return t[e](r, r.exports, s), r.exports;\n  }\n  s.n = e => {\n    var n = e && e.__esModule ? () => e.default : () => e;\n    return s.d(n, {\n      a: n\n    }), n;\n  }, s.d = (e, n) => {\n    for (var t in n) s.o(n, t) && !s.o(e, t) && Object.defineProperty(e, t, {\n      enumerable: !0,\n      get: n[t]\n    });\n  }, s.o = (e, n) => Object.prototype.hasOwnProperty.call(e, n), s.r = e => {\n    \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n      value: \"Module\"\n    }), Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n  };\n  var r = {};\n  return (() => {\n    s.r(r), s.d(r, {\n      default: () => q\n    });\n    var e,\n      n = s(771),\n      t = s.n(n),\n      i = (s(129), e = function (n, t) {\n        return e = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (e, n) {\n          e.__proto__ = n;\n        } || function (e, n) {\n          for (var t in n) Object.prototype.hasOwnProperty.call(n, t) && (e[t] = n[t]);\n        }, e(n, t);\n      }, function (n, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n        function i() {\n          this.constructor = n;\n        }\n        e(n, t), n.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n      }),\n      o = function (e) {\n        function n() {\n          var n = e.call(this) || this,\n            t = n.attachShadow({\n              mode: \"open\"\n            }),\n            i = t.ownerDocument,\n            s = i.createElement(\"style\");\n          s.innerHTML = \"/* stylelint-disable font-family-no-missing-generic-family-keyword */\\n@font-face {\\n  font-family: 'KaTeX_AMS';\\n  src: url(fonts/KaTeX_AMS-Regular.woff2) format('woff2'), url(fonts/KaTeX_AMS-Regular.woff) format('woff'), url(fonts/KaTeX_AMS-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Caligraphic';\\n  src: url(fonts/KaTeX_Caligraphic-Bold.woff2) format('woff2'), url(fonts/KaTeX_Caligraphic-Bold.woff) format('woff'), url(fonts/KaTeX_Caligraphic-Bold.ttf) format('truetype');\\n  font-weight: bold;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Caligraphic';\\n  src: url(fonts/KaTeX_Caligraphic-Regular.woff2) format('woff2'), url(fonts/KaTeX_Caligraphic-Regular.woff) format('woff'), url(fonts/KaTeX_Caligraphic-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Fraktur';\\n  src: url(fonts/KaTeX_Fraktur-Bold.woff2) format('woff2'), url(fonts/KaTeX_Fraktur-Bold.woff) format('woff'), url(fonts/KaTeX_Fraktur-Bold.ttf) format('truetype');\\n  font-weight: bold;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Fraktur';\\n  src: url(fonts/KaTeX_Fraktur-Regular.woff2) format('woff2'), url(fonts/KaTeX_Fraktur-Regular.woff) format('woff'), url(fonts/KaTeX_Fraktur-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Main';\\n  src: url(fonts/KaTeX_Main-Bold.woff2) format('woff2'), url(fonts/KaTeX_Main-Bold.woff) format('woff'), url(fonts/KaTeX_Main-Bold.ttf) format('truetype');\\n  font-weight: bold;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Main';\\n  src: url(fonts/KaTeX_Main-BoldItalic.woff2) format('woff2'), url(fonts/KaTeX_Main-BoldItalic.woff) format('woff'), url(fonts/KaTeX_Main-BoldItalic.ttf) format('truetype');\\n  font-weight: bold;\\n  font-style: italic;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Main';\\n  src: url(fonts/KaTeX_Main-Italic.woff2) format('woff2'), url(fonts/KaTeX_Main-Italic.woff) format('woff'), url(fonts/KaTeX_Main-Italic.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: italic;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Main';\\n  src: url(fonts/KaTeX_Main-Regular.woff2) format('woff2'), url(fonts/KaTeX_Main-Regular.woff) format('woff'), url(fonts/KaTeX_Main-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Math';\\n  src: url(fonts/KaTeX_Math-BoldItalic.woff2) format('woff2'), url(fonts/KaTeX_Math-BoldItalic.woff) format('woff'), url(fonts/KaTeX_Math-BoldItalic.ttf) format('truetype');\\n  font-weight: bold;\\n  font-style: italic;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Math';\\n  src: url(fonts/KaTeX_Math-Italic.woff2) format('woff2'), url(fonts/KaTeX_Math-Italic.woff) format('woff'), url(fonts/KaTeX_Math-Italic.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: italic;\\n}\\n@font-face {\\n  font-family: 'KaTeX_SansSerif';\\n  src: url(fonts/KaTeX_SansSerif-Bold.woff2) format('woff2'), url(fonts/KaTeX_SansSerif-Bold.woff) format('woff'), url(fonts/KaTeX_SansSerif-Bold.ttf) format('truetype');\\n  font-weight: bold;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_SansSerif';\\n  src: url(fonts/KaTeX_SansSerif-Italic.woff2) format('woff2'), url(fonts/KaTeX_SansSerif-Italic.woff) format('woff'), url(fonts/KaTeX_SansSerif-Italic.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: italic;\\n}\\n@font-face {\\n  font-family: 'KaTeX_SansSerif';\\n  src: url(fonts/KaTeX_SansSerif-Regular.woff2) format('woff2'), url(fonts/KaTeX_SansSerif-Regular.woff) format('woff'), url(fonts/KaTeX_SansSerif-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Script';\\n  src: url(fonts/KaTeX_Script-Regular.woff2) format('woff2'), url(fonts/KaTeX_Script-Regular.woff) format('woff'), url(fonts/KaTeX_Script-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Size1';\\n  src: url(fonts/KaTeX_Size1-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size1-Regular.woff) format('woff'), url(fonts/KaTeX_Size1-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Size2';\\n  src: url(fonts/KaTeX_Size2-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size2-Regular.woff) format('woff'), url(fonts/KaTeX_Size2-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Size3';\\n  src: url(fonts/KaTeX_Size3-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size3-Regular.woff) format('woff'), url(fonts/KaTeX_Size3-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Size4';\\n  src: url(fonts/KaTeX_Size4-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size4-Regular.woff) format('woff'), url(fonts/KaTeX_Size4-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Typewriter';\\n  src: url(fonts/KaTeX_Typewriter-Regular.woff2) format('woff2'), url(fonts/KaTeX_Typewriter-Regular.woff) format('woff'), url(fonts/KaTeX_Typewriter-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n.katex {\\n  font: normal 1.21em KaTeX_Main, Times New Roman, serif;\\n  line-height: 1.2;\\n  text-indent: 0;\\n  text-rendering: auto;\\n}\\n.katex * {\\n  -ms-high-contrast-adjust: none !important;\\n  border-color: currentColor;\\n}\\n.katex .katex-version::after {\\n  content: \\\"0.15.6\\\";\\n}\\n.katex .katex-mathml {\\n  /* Accessibility hack to only show to screen readers\\n         Found at: http://a11yproject.com/posts/how-to-hide-content/ */\\n  position: absolute;\\n  clip: rect(1px, 1px, 1px, 1px);\\n  padding: 0;\\n  border: 0;\\n  height: 1px;\\n  width: 1px;\\n  overflow: hidden;\\n}\\n.katex .katex-html {\\n  /* \\\\newline is an empty block at top level, between .base elements */\\n}\\n.katex .katex-html > .newline {\\n  display: block;\\n}\\n.katex .base {\\n  position: relative;\\n  display: inline-block;\\n  white-space: nowrap;\\n  width: -webkit-min-content;\\n  width: -moz-min-content;\\n  width: min-content;\\n}\\n.katex .strut {\\n  display: inline-block;\\n}\\n.katex .textbf {\\n  font-weight: bold;\\n}\\n.katex .textit {\\n  font-style: italic;\\n}\\n.katex .textrm {\\n  font-family: KaTeX_Main;\\n}\\n.katex .textsf {\\n  font-family: KaTeX_SansSerif;\\n}\\n.katex .texttt {\\n  font-family: KaTeX_Typewriter;\\n}\\n.katex .mathnormal {\\n  font-family: KaTeX_Math;\\n  font-style: italic;\\n}\\n.katex .mathit {\\n  font-family: KaTeX_Main;\\n  font-style: italic;\\n}\\n.katex .mathrm {\\n  font-style: normal;\\n}\\n.katex .mathbf {\\n  font-family: KaTeX_Main;\\n  font-weight: bold;\\n}\\n.katex .boldsymbol {\\n  font-family: KaTeX_Math;\\n  font-weight: bold;\\n  font-style: italic;\\n}\\n.katex .amsrm {\\n  font-family: KaTeX_AMS;\\n}\\n.katex .mathbb,\\n.katex .textbb {\\n  font-family: KaTeX_AMS;\\n}\\n.katex .mathcal {\\n  font-family: KaTeX_Caligraphic;\\n}\\n.katex .mathfrak,\\n.katex .textfrak {\\n  font-family: KaTeX_Fraktur;\\n}\\n.katex .mathtt {\\n  font-family: KaTeX_Typewriter;\\n}\\n.katex .mathscr,\\n.katex .textscr {\\n  font-family: KaTeX_Script;\\n}\\n.katex .mathsf,\\n.katex .textsf {\\n  font-family: KaTeX_SansSerif;\\n}\\n.katex .mathboldsf,\\n.katex .textboldsf {\\n  font-family: KaTeX_SansSerif;\\n  font-weight: bold;\\n}\\n.katex .mathitsf,\\n.katex .textitsf {\\n  font-family: KaTeX_SansSerif;\\n  font-style: italic;\\n}\\n.katex .mainrm {\\n  font-family: KaTeX_Main;\\n  font-style: normal;\\n}\\n.katex .vlist-t {\\n  display: inline-table;\\n  table-layout: fixed;\\n  border-collapse: collapse;\\n}\\n.katex .vlist-r {\\n  display: table-row;\\n}\\n.katex .vlist {\\n  display: table-cell;\\n  vertical-align: bottom;\\n  position: relative;\\n}\\n.katex .vlist > span {\\n  display: block;\\n  height: 0;\\n  position: relative;\\n}\\n.katex .vlist > span > span {\\n  display: inline-block;\\n}\\n.katex .vlist > span > .pstrut {\\n  overflow: hidden;\\n  width: 0;\\n}\\n.katex .vlist-t2 {\\n  margin-right: -2px;\\n}\\n.katex .vlist-s {\\n  display: table-cell;\\n  vertical-align: bottom;\\n  font-size: 1px;\\n  width: 2px;\\n  min-width: 2px;\\n}\\n.katex .vbox {\\n  display: inline-flex;\\n  flex-direction: column;\\n  align-items: baseline;\\n}\\n.katex .hbox {\\n  display: inline-flex;\\n  flex-direction: row;\\n  width: 100%;\\n}\\n.katex .thinbox {\\n  display: inline-flex;\\n  flex-direction: row;\\n  width: 0;\\n  max-width: 0;\\n}\\n.katex .msupsub {\\n  text-align: left;\\n}\\n.katex .mfrac > span > span {\\n  text-align: center;\\n}\\n.katex .mfrac .frac-line {\\n  display: inline-block;\\n  width: 100%;\\n  border-bottom-style: solid;\\n}\\n.katex .mfrac .frac-line,\\n.katex .overline .overline-line,\\n.katex .underline .underline-line,\\n.katex .hline,\\n.katex .hdashline,\\n.katex .rule {\\n  min-height: 1px;\\n}\\n.katex .mspace {\\n  display: inline-block;\\n}\\n.katex .llap,\\n.katex .rlap,\\n.katex .clap {\\n  width: 0;\\n  position: relative;\\n}\\n.katex .llap > .inner,\\n.katex .rlap > .inner,\\n.katex .clap > .inner {\\n  position: absolute;\\n}\\n.katex .llap > .fix,\\n.katex .rlap > .fix,\\n.katex .clap > .fix {\\n  display: inline-block;\\n}\\n.katex .llap > .inner {\\n  right: 0;\\n}\\n.katex .rlap > .inner,\\n.katex .clap > .inner {\\n  left: 0;\\n}\\n.katex .clap > .inner > span {\\n  margin-left: -50%;\\n  margin-right: 50%;\\n}\\n.katex .rule {\\n  display: inline-block;\\n  border: solid 0;\\n  position: relative;\\n}\\n.katex .overline .overline-line,\\n.katex .underline .underline-line,\\n.katex .hline {\\n  display: inline-block;\\n  width: 100%;\\n  border-bottom-style: solid;\\n}\\n.katex .hdashline {\\n  display: inline-block;\\n  width: 100%;\\n  border-bottom-style: dashed;\\n}\\n.katex .sqrt > .root {\\n  /* These values are taken from the definition of `\\\\r@@t`,\\n             `\\\\mkern 5mu` and `\\\\mkern -10mu`. */\\n  margin-left: 0.27777778em;\\n  margin-right: -0.55555556em;\\n}\\n.katex .sizing.reset-size1.size1,\\n.katex .fontsize-ensurer.reset-size1.size1 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size1.size2,\\n.katex .fontsize-ensurer.reset-size1.size2 {\\n  font-size: 1.2em;\\n}\\n.katex .sizing.reset-size1.size3,\\n.katex .fontsize-ensurer.reset-size1.size3 {\\n  font-size: 1.4em;\\n}\\n.katex .sizing.reset-size1.size4,\\n.katex .fontsize-ensurer.reset-size1.size4 {\\n  font-size: 1.6em;\\n}\\n.katex .sizing.reset-size1.size5,\\n.katex .fontsize-ensurer.reset-size1.size5 {\\n  font-size: 1.8em;\\n}\\n.katex .sizing.reset-size1.size6,\\n.katex .fontsize-ensurer.reset-size1.size6 {\\n  font-size: 2em;\\n}\\n.katex .sizing.reset-size1.size7,\\n.katex .fontsize-ensurer.reset-size1.size7 {\\n  font-size: 2.4em;\\n}\\n.katex .sizing.reset-size1.size8,\\n.katex .fontsize-ensurer.reset-size1.size8 {\\n  font-size: 2.88em;\\n}\\n.katex .sizing.reset-size1.size9,\\n.katex .fontsize-ensurer.reset-size1.size9 {\\n  font-size: 3.456em;\\n}\\n.katex .sizing.reset-size1.size10,\\n.katex .fontsize-ensurer.reset-size1.size10 {\\n  font-size: 4.148em;\\n}\\n.katex .sizing.reset-size1.size11,\\n.katex .fontsize-ensurer.reset-size1.size11 {\\n  font-size: 4.976em;\\n}\\n.katex .sizing.reset-size2.size1,\\n.katex .fontsize-ensurer.reset-size2.size1 {\\n  font-size: 0.83333333em;\\n}\\n.katex .sizing.reset-size2.size2,\\n.katex .fontsize-ensurer.reset-size2.size2 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size2.size3,\\n.katex .fontsize-ensurer.reset-size2.size3 {\\n  font-size: 1.16666667em;\\n}\\n.katex .sizing.reset-size2.size4,\\n.katex .fontsize-ensurer.reset-size2.size4 {\\n  font-size: 1.33333333em;\\n}\\n.katex .sizing.reset-size2.size5,\\n.katex .fontsize-ensurer.reset-size2.size5 {\\n  font-size: 1.5em;\\n}\\n.katex .sizing.reset-size2.size6,\\n.katex .fontsize-ensurer.reset-size2.size6 {\\n  font-size: 1.66666667em;\\n}\\n.katex .sizing.reset-size2.size7,\\n.katex .fontsize-ensurer.reset-size2.size7 {\\n  font-size: 2em;\\n}\\n.katex .sizing.reset-size2.size8,\\n.katex .fontsize-ensurer.reset-size2.size8 {\\n  font-size: 2.4em;\\n}\\n.katex .sizing.reset-size2.size9,\\n.katex .fontsize-ensurer.reset-size2.size9 {\\n  font-size: 2.88em;\\n}\\n.katex .sizing.reset-size2.size10,\\n.katex .fontsize-ensurer.reset-size2.size10 {\\n  font-size: 3.45666667em;\\n}\\n.katex .sizing.reset-size2.size11,\\n.katex .fontsize-ensurer.reset-size2.size11 {\\n  font-size: 4.14666667em;\\n}\\n.katex .sizing.reset-size3.size1,\\n.katex .fontsize-ensurer.reset-size3.size1 {\\n  font-size: 0.71428571em;\\n}\\n.katex .sizing.reset-size3.size2,\\n.katex .fontsize-ensurer.reset-size3.size2 {\\n  font-size: 0.85714286em;\\n}\\n.katex .sizing.reset-size3.size3,\\n.katex .fontsize-ensurer.reset-size3.size3 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size3.size4,\\n.katex .fontsize-ensurer.reset-size3.size4 {\\n  font-size: 1.14285714em;\\n}\\n.katex .sizing.reset-size3.size5,\\n.katex .fontsize-ensurer.reset-size3.size5 {\\n  font-size: 1.28571429em;\\n}\\n.katex .sizing.reset-size3.size6,\\n.katex .fontsize-ensurer.reset-size3.size6 {\\n  font-size: 1.42857143em;\\n}\\n.katex .sizing.reset-size3.size7,\\n.katex .fontsize-ensurer.reset-size3.size7 {\\n  font-size: 1.71428571em;\\n}\\n.katex .sizing.reset-size3.size8,\\n.katex .fontsize-ensurer.reset-size3.size8 {\\n  font-size: 2.05714286em;\\n}\\n.katex .sizing.reset-size3.size9,\\n.katex .fontsize-ensurer.reset-size3.size9 {\\n  font-size: 2.46857143em;\\n}\\n.katex .sizing.reset-size3.size10,\\n.katex .fontsize-ensurer.reset-size3.size10 {\\n  font-size: 2.96285714em;\\n}\\n.katex .sizing.reset-size3.size11,\\n.katex .fontsize-ensurer.reset-size3.size11 {\\n  font-size: 3.55428571em;\\n}\\n.katex .sizing.reset-size4.size1,\\n.katex .fontsize-ensurer.reset-size4.size1 {\\n  font-size: 0.625em;\\n}\\n.katex .sizing.reset-size4.size2,\\n.katex .fontsize-ensurer.reset-size4.size2 {\\n  font-size: 0.75em;\\n}\\n.katex .sizing.reset-size4.size3,\\n.katex .fontsize-ensurer.reset-size4.size3 {\\n  font-size: 0.875em;\\n}\\n.katex .sizing.reset-size4.size4,\\n.katex .fontsize-ensurer.reset-size4.size4 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size4.size5,\\n.katex .fontsize-ensurer.reset-size4.size5 {\\n  font-size: 1.125em;\\n}\\n.katex .sizing.reset-size4.size6,\\n.katex .fontsize-ensurer.reset-size4.size6 {\\n  font-size: 1.25em;\\n}\\n.katex .sizing.reset-size4.size7,\\n.katex .fontsize-ensurer.reset-size4.size7 {\\n  font-size: 1.5em;\\n}\\n.katex .sizing.reset-size4.size8,\\n.katex .fontsize-ensurer.reset-size4.size8 {\\n  font-size: 1.8em;\\n}\\n.katex .sizing.reset-size4.size9,\\n.katex .fontsize-ensurer.reset-size4.size9 {\\n  font-size: 2.16em;\\n}\\n.katex .sizing.reset-size4.size10,\\n.katex .fontsize-ensurer.reset-size4.size10 {\\n  font-size: 2.5925em;\\n}\\n.katex .sizing.reset-size4.size11,\\n.katex .fontsize-ensurer.reset-size4.size11 {\\n  font-size: 3.11em;\\n}\\n.katex .sizing.reset-size5.size1,\\n.katex .fontsize-ensurer.reset-size5.size1 {\\n  font-size: 0.55555556em;\\n}\\n.katex .sizing.reset-size5.size2,\\n.katex .fontsize-ensurer.reset-size5.size2 {\\n  font-size: 0.66666667em;\\n}\\n.katex .sizing.reset-size5.size3,\\n.katex .fontsize-ensurer.reset-size5.size3 {\\n  font-size: 0.77777778em;\\n}\\n.katex .sizing.reset-size5.size4,\\n.katex .fontsize-ensurer.reset-size5.size4 {\\n  font-size: 0.88888889em;\\n}\\n.katex .sizing.reset-size5.size5,\\n.katex .fontsize-ensurer.reset-size5.size5 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size5.size6,\\n.katex .fontsize-ensurer.reset-size5.size6 {\\n  font-size: 1.11111111em;\\n}\\n.katex .sizing.reset-size5.size7,\\n.katex .fontsize-ensurer.reset-size5.size7 {\\n  font-size: 1.33333333em;\\n}\\n.katex .sizing.reset-size5.size8,\\n.katex .fontsize-ensurer.reset-size5.size8 {\\n  font-size: 1.6em;\\n}\\n.katex .sizing.reset-size5.size9,\\n.katex .fontsize-ensurer.reset-size5.size9 {\\n  font-size: 1.92em;\\n}\\n.katex .sizing.reset-size5.size10,\\n.katex .fontsize-ensurer.reset-size5.size10 {\\n  font-size: 2.30444444em;\\n}\\n.katex .sizing.reset-size5.size11,\\n.katex .fontsize-ensurer.reset-size5.size11 {\\n  font-size: 2.76444444em;\\n}\\n.katex .sizing.reset-size6.size1,\\n.katex .fontsize-ensurer.reset-size6.size1 {\\n  font-size: 0.5em;\\n}\\n.katex .sizing.reset-size6.size2,\\n.katex .fontsize-ensurer.reset-size6.size2 {\\n  font-size: 0.6em;\\n}\\n.katex .sizing.reset-size6.size3,\\n.katex .fontsize-ensurer.reset-size6.size3 {\\n  font-size: 0.7em;\\n}\\n.katex .sizing.reset-size6.size4,\\n.katex .fontsize-ensurer.reset-size6.size4 {\\n  font-size: 0.8em;\\n}\\n.katex .sizing.reset-size6.size5,\\n.katex .fontsize-ensurer.reset-size6.size5 {\\n  font-size: 0.9em;\\n}\\n.katex .sizing.reset-size6.size6,\\n.katex .fontsize-ensurer.reset-size6.size6 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size6.size7,\\n.katex .fontsize-ensurer.reset-size6.size7 {\\n  font-size: 1.2em;\\n}\\n.katex .sizing.reset-size6.size8,\\n.katex .fontsize-ensurer.reset-size6.size8 {\\n  font-size: 1.44em;\\n}\\n.katex .sizing.reset-size6.size9,\\n.katex .fontsize-ensurer.reset-size6.size9 {\\n  font-size: 1.728em;\\n}\\n.katex .sizing.reset-size6.size10,\\n.katex .fontsize-ensurer.reset-size6.size10 {\\n  font-size: 2.074em;\\n}\\n.katex .sizing.reset-size6.size11,\\n.katex .fontsize-ensurer.reset-size6.size11 {\\n  font-size: 2.488em;\\n}\\n.katex .sizing.reset-size7.size1,\\n.katex .fontsize-ensurer.reset-size7.size1 {\\n  font-size: 0.41666667em;\\n}\\n.katex .sizing.reset-size7.size2,\\n.katex .fontsize-ensurer.reset-size7.size2 {\\n  font-size: 0.5em;\\n}\\n.katex .sizing.reset-size7.size3,\\n.katex .fontsize-ensurer.reset-size7.size3 {\\n  font-size: 0.58333333em;\\n}\\n.katex .sizing.reset-size7.size4,\\n.katex .fontsize-ensurer.reset-size7.size4 {\\n  font-size: 0.66666667em;\\n}\\n.katex .sizing.reset-size7.size5,\\n.katex .fontsize-ensurer.reset-size7.size5 {\\n  font-size: 0.75em;\\n}\\n.katex .sizing.reset-size7.size6,\\n.katex .fontsize-ensurer.reset-size7.size6 {\\n  font-size: 0.83333333em;\\n}\\n.katex .sizing.reset-size7.size7,\\n.katex .fontsize-ensurer.reset-size7.size7 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size7.size8,\\n.katex .fontsize-ensurer.reset-size7.size8 {\\n  font-size: 1.2em;\\n}\\n.katex .sizing.reset-size7.size9,\\n.katex .fontsize-ensurer.reset-size7.size9 {\\n  font-size: 1.44em;\\n}\\n.katex .sizing.reset-size7.size10,\\n.katex .fontsize-ensurer.reset-size7.size10 {\\n  font-size: 1.72833333em;\\n}\\n.katex .sizing.reset-size7.size11,\\n.katex .fontsize-ensurer.reset-size7.size11 {\\n  font-size: 2.07333333em;\\n}\\n.katex .sizing.reset-size8.size1,\\n.katex .fontsize-ensurer.reset-size8.size1 {\\n  font-size: 0.34722222em;\\n}\\n.katex .sizing.reset-size8.size2,\\n.katex .fontsize-ensurer.reset-size8.size2 {\\n  font-size: 0.41666667em;\\n}\\n.katex .sizing.reset-size8.size3,\\n.katex .fontsize-ensurer.reset-size8.size3 {\\n  font-size: 0.48611111em;\\n}\\n.katex .sizing.reset-size8.size4,\\n.katex .fontsize-ensurer.reset-size8.size4 {\\n  font-size: 0.55555556em;\\n}\\n.katex .sizing.reset-size8.size5,\\n.katex .fontsize-ensurer.reset-size8.size5 {\\n  font-size: 0.625em;\\n}\\n.katex .sizing.reset-size8.size6,\\n.katex .fontsize-ensurer.reset-size8.size6 {\\n  font-size: 0.69444444em;\\n}\\n.katex .sizing.reset-size8.size7,\\n.katex .fontsize-ensurer.reset-size8.size7 {\\n  font-size: 0.83333333em;\\n}\\n.katex .sizing.reset-size8.size8,\\n.katex .fontsize-ensurer.reset-size8.size8 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size8.size9,\\n.katex .fontsize-ensurer.reset-size8.size9 {\\n  font-size: 1.2em;\\n}\\n.katex .sizing.reset-size8.size10,\\n.katex .fontsize-ensurer.reset-size8.size10 {\\n  font-size: 1.44027778em;\\n}\\n.katex .sizing.reset-size8.size11,\\n.katex .fontsize-ensurer.reset-size8.size11 {\\n  font-size: 1.72777778em;\\n}\\n.katex .sizing.reset-size9.size1,\\n.katex .fontsize-ensurer.reset-size9.size1 {\\n  font-size: 0.28935185em;\\n}\\n.katex .sizing.reset-size9.size2,\\n.katex .fontsize-ensurer.reset-size9.size2 {\\n  font-size: 0.34722222em;\\n}\\n.katex .sizing.reset-size9.size3,\\n.katex .fontsize-ensurer.reset-size9.size3 {\\n  font-size: 0.40509259em;\\n}\\n.katex .sizing.reset-size9.size4,\\n.katex .fontsize-ensurer.reset-size9.size4 {\\n  font-size: 0.46296296em;\\n}\\n.katex .sizing.reset-size9.size5,\\n.katex .fontsize-ensurer.reset-size9.size5 {\\n  font-size: 0.52083333em;\\n}\\n.katex .sizing.reset-size9.size6,\\n.katex .fontsize-ensurer.reset-size9.size6 {\\n  font-size: 0.5787037em;\\n}\\n.katex .sizing.reset-size9.size7,\\n.katex .fontsize-ensurer.reset-size9.size7 {\\n  font-size: 0.69444444em;\\n}\\n.katex .sizing.reset-size9.size8,\\n.katex .fontsize-ensurer.reset-size9.size8 {\\n  font-size: 0.83333333em;\\n}\\n.katex .sizing.reset-size9.size9,\\n.katex .fontsize-ensurer.reset-size9.size9 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size9.size10,\\n.katex .fontsize-ensurer.reset-size9.size10 {\\n  font-size: 1.20023148em;\\n}\\n.katex .sizing.reset-size9.size11,\\n.katex .fontsize-ensurer.reset-size9.size11 {\\n  font-size: 1.43981481em;\\n}\\n.katex .sizing.reset-size10.size1,\\n.katex .fontsize-ensurer.reset-size10.size1 {\\n  font-size: 0.24108004em;\\n}\\n.katex .sizing.reset-size10.size2,\\n.katex .fontsize-ensurer.reset-size10.size2 {\\n  font-size: 0.28929605em;\\n}\\n.katex .sizing.reset-size10.size3,\\n.katex .fontsize-ensurer.reset-size10.size3 {\\n  font-size: 0.33751205em;\\n}\\n.katex .sizing.reset-size10.size4,\\n.katex .fontsize-ensurer.reset-size10.size4 {\\n  font-size: 0.38572806em;\\n}\\n.katex .sizing.reset-size10.size5,\\n.katex .fontsize-ensurer.reset-size10.size5 {\\n  font-size: 0.43394407em;\\n}\\n.katex .sizing.reset-size10.size6,\\n.katex .fontsize-ensurer.reset-size10.size6 {\\n  font-size: 0.48216008em;\\n}\\n.katex .sizing.reset-size10.size7,\\n.katex .fontsize-ensurer.reset-size10.size7 {\\n  font-size: 0.57859209em;\\n}\\n.katex .sizing.reset-size10.size8,\\n.katex .fontsize-ensurer.reset-size10.size8 {\\n  font-size: 0.69431051em;\\n}\\n.katex .sizing.reset-size10.size9,\\n.katex .fontsize-ensurer.reset-size10.size9 {\\n  font-size: 0.83317261em;\\n}\\n.katex .sizing.reset-size10.size10,\\n.katex .fontsize-ensurer.reset-size10.size10 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size10.size11,\\n.katex .fontsize-ensurer.reset-size10.size11 {\\n  font-size: 1.19961427em;\\n}\\n.katex .sizing.reset-size11.size1,\\n.katex .fontsize-ensurer.reset-size11.size1 {\\n  font-size: 0.20096463em;\\n}\\n.katex .sizing.reset-size11.size2,\\n.katex .fontsize-ensurer.reset-size11.size2 {\\n  font-size: 0.24115756em;\\n}\\n.katex .sizing.reset-size11.size3,\\n.katex .fontsize-ensurer.reset-size11.size3 {\\n  font-size: 0.28135048em;\\n}\\n.katex .sizing.reset-size11.size4,\\n.katex .fontsize-ensurer.reset-size11.size4 {\\n  font-size: 0.32154341em;\\n}\\n.katex .sizing.reset-size11.size5,\\n.katex .fontsize-ensurer.reset-size11.size5 {\\n  font-size: 0.36173633em;\\n}\\n.katex .sizing.reset-size11.size6,\\n.katex .fontsize-ensurer.reset-size11.size6 {\\n  font-size: 0.40192926em;\\n}\\n.katex .sizing.reset-size11.size7,\\n.katex .fontsize-ensurer.reset-size11.size7 {\\n  font-size: 0.48231511em;\\n}\\n.katex .sizing.reset-size11.size8,\\n.katex .fontsize-ensurer.reset-size11.size8 {\\n  font-size: 0.57877814em;\\n}\\n.katex .sizing.reset-size11.size9,\\n.katex .fontsize-ensurer.reset-size11.size9 {\\n  font-size: 0.69453376em;\\n}\\n.katex .sizing.reset-size11.size10,\\n.katex .fontsize-ensurer.reset-size11.size10 {\\n  font-size: 0.83360129em;\\n}\\n.katex .sizing.reset-size11.size11,\\n.katex .fontsize-ensurer.reset-size11.size11 {\\n  font-size: 1em;\\n}\\n.katex .delimsizing.size1 {\\n  font-family: KaTeX_Size1;\\n}\\n.katex .delimsizing.size2 {\\n  font-family: KaTeX_Size2;\\n}\\n.katex .delimsizing.size3 {\\n  font-family: KaTeX_Size3;\\n}\\n.katex .delimsizing.size4 {\\n  font-family: KaTeX_Size4;\\n}\\n.katex .delimsizing.mult .delim-size1 > span {\\n  font-family: KaTeX_Size1;\\n}\\n.katex .delimsizing.mult .delim-size4 > span {\\n  font-family: KaTeX_Size4;\\n}\\n.katex .nulldelimiter {\\n  display: inline-block;\\n  width: 0.12em;\\n}\\n.katex .delimcenter {\\n  position: relative;\\n}\\n.katex .op-symbol {\\n  position: relative;\\n}\\n.katex .op-symbol.small-op {\\n  font-family: KaTeX_Size1;\\n}\\n.katex .op-symbol.large-op {\\n  font-family: KaTeX_Size2;\\n}\\n.katex .op-limits > .vlist-t {\\n  text-align: center;\\n}\\n.katex .accent > .vlist-t {\\n  text-align: center;\\n}\\n.katex .accent .accent-body {\\n  position: relative;\\n}\\n.katex .accent .accent-body:not(.accent-full) {\\n  width: 0;\\n}\\n.katex .overlay {\\n  display: block;\\n}\\n.katex .mtable .vertical-separator {\\n  display: inline-block;\\n  min-width: 1px;\\n}\\n.katex .mtable .arraycolsep {\\n  display: inline-block;\\n}\\n.katex .mtable .col-align-c > .vlist-t {\\n  text-align: center;\\n}\\n.katex .mtable .col-align-l > .vlist-t {\\n  text-align: left;\\n}\\n.katex .mtable .col-align-r > .vlist-t {\\n  text-align: right;\\n}\\n.katex .svg-align {\\n  text-align: left;\\n}\\n.katex svg {\\n  display: block;\\n  position: absolute;\\n  width: 100%;\\n  height: inherit;\\n  fill: currentColor;\\n  stroke: currentColor;\\n  fill-rule: nonzero;\\n  fill-opacity: 1;\\n  stroke-width: 1;\\n  stroke-linecap: butt;\\n  stroke-linejoin: miter;\\n  stroke-miterlimit: 4;\\n  stroke-dasharray: none;\\n  stroke-dashoffset: 0;\\n  stroke-opacity: 1;\\n}\\n.katex svg path {\\n  stroke: none;\\n}\\n.katex img {\\n  border-style: none;\\n  min-width: 0;\\n  min-height: 0;\\n  max-width: none;\\n  max-height: none;\\n}\\n.katex .stretchy {\\n  width: 100%;\\n  display: block;\\n  position: relative;\\n  overflow: hidden;\\n}\\n.katex .stretchy::before,\\n.katex .stretchy::after {\\n  content: \\\"\\\";\\n}\\n.katex .hide-tail {\\n  width: 100%;\\n  position: relative;\\n  overflow: hidden;\\n}\\n.katex .halfarrow-left {\\n  position: absolute;\\n  left: 0;\\n  width: 50.2%;\\n  overflow: hidden;\\n}\\n.katex .halfarrow-right {\\n  position: absolute;\\n  right: 0;\\n  width: 50.2%;\\n  overflow: hidden;\\n}\\n.katex .brace-left {\\n  position: absolute;\\n  left: 0;\\n  width: 25.1%;\\n  overflow: hidden;\\n}\\n.katex .brace-center {\\n  position: absolute;\\n  left: 25%;\\n  width: 50%;\\n  overflow: hidden;\\n}\\n.katex .brace-right {\\n  position: absolute;\\n  right: 0;\\n  width: 25.1%;\\n  overflow: hidden;\\n}\\n.katex .x-arrow-pad {\\n  padding: 0 0.5em;\\n}\\n.katex .cd-arrow-pad {\\n  padding: 0 0.55556em 0 0.27778em;\\n}\\n.katex .x-arrow,\\n.katex .mover,\\n.katex .munder {\\n  text-align: center;\\n}\\n.katex .boxpad {\\n  padding: 0 0.3em;\\n}\\n.katex .fbox,\\n.katex .fcolorbox {\\n  box-sizing: border-box;\\n  border: 0.04em solid;\\n}\\n.katex .cancel-pad {\\n  padding: 0 0.2em;\\n}\\n.katex .cancel-lap {\\n  margin-left: -0.2em;\\n  margin-right: -0.2em;\\n}\\n.katex .sout {\\n  border-bottom-style: solid;\\n  border-bottom-width: 0.08em;\\n}\\n.katex .angl {\\n  box-sizing: border-box;\\n  border-top: 0.049em solid;\\n  border-right: 0.049em solid;\\n  margin-right: 0.03889em;\\n}\\n.katex .anglpad {\\n  padding: 0 0.03889em;\\n}\\n.katex .eqn-num::before {\\n  counter-increment: katexEqnNo;\\n  content: \\\"(\\\" counter(katexEqnNo) \\\")\\\";\\n}\\n.katex .mml-eqn-num::before {\\n  counter-increment: mmlEqnNo;\\n  content: \\\"(\\\" counter(mmlEqnNo) \\\")\\\";\\n}\\n.katex .mtr-glue {\\n  width: 50%;\\n}\\n.katex .cd-vert-arrow {\\n  display: inline-block;\\n  position: relative;\\n}\\n.katex .cd-label-left {\\n  display: inline-block;\\n  position: absolute;\\n  right: calc(50% + 0.3em);\\n  text-align: left;\\n}\\n.katex .cd-label-right {\\n  display: inline-block;\\n  position: absolute;\\n  left: calc(50% + 0.3em);\\n  text-align: right;\\n}\\n.katex-display {\\n  display: block;\\n  margin: 1em 0;\\n  text-align: center;\\n}\\n.katex-display > .katex {\\n  display: block;\\n  text-align: center;\\n  white-space: nowrap;\\n}\\n.katex-display > .katex > .katex-html {\\n  display: block;\\n  position: relative;\\n}\\n.katex-display > .katex > .katex-html > .tag {\\n  position: absolute;\\n  right: 0;\\n}\\n.katex-display.leqno > .katex > .katex-html > .tag {\\n  left: 0;\\n  right: auto;\\n}\\n.katex-display.fleqn > .katex {\\n  text-align: left;\\n  padding-left: 2em;\\n}\\nbody {\\n  counter-reset: katexEqnNo mmlEqnNo;\\n}\\n\\n\", t.appendChild(s);\n          var r = i.createElement(\"span\");\n          return r.style.display = \"inline-block\", t.appendChild(r), n.span = r, n;\n        }\n        return i(n, e), Object.defineProperty(n, \"observedAttributes\", {\n          get: function () {\n            return [\"data-value\"];\n          },\n          enumerable: !1,\n          configurable: !0\n        }), n.prototype.attributeChangedCallback = function (e, n, t) {\n          if (\"data-value\" === e) {\n            if (n == t) return;\n            this.render(t || \"\");\n          }\n        }, n.prototype.render = function (e) {\n          t().render(e, this.span, {\n            throwOnError: !1\n          });\n        }, n;\n      }(HTMLElement);\n    window.customElements.get(\"w-e-formula-card\") || window.customElements.define(\"w-e-formula-card\", o);\n    var a = s(857);\n    (0, a.i18nAddResources)(\"en\", {\n      formula: {\n        formula: \"Formula\",\n        placeholder: \"Use LateX syntax\",\n        insert: \"Insert formula\",\n        edit: \"Edit formula\",\n        ok: \"OK\"\n      }\n    }), (0, a.i18nAddResources)(\"zh-CN\", {\n      formula: {\n        formula: \"公式\",\n        placeholder: \"使用 LateX 语法\",\n        insert: \"插入公式\",\n        edit: \"编辑公式\",\n        ok: \"确定\"\n      }\n    });\n    function f(e, n, t, i, s) {\n      return {\n        sel: e,\n        data: n,\n        children: t,\n        text: i,\n        elm: s,\n        key: void 0 === n ? void 0 : n.key\n      };\n    }\n    const l = Array.isArray;\n    function z(e) {\n      return \"string\" == typeof e || \"number\" == typeof e || e instanceof String || e instanceof Number;\n    }\n    function u(e, n, t) {\n      if (e.ns = \"http://www.w3.org/2000/svg\", \"foreignObject\" !== t && void 0 !== n) for (let e = 0; e < n.length; ++e) {\n        const t = n[e];\n        if (\"string\" == typeof t) continue;\n        const i = t.data;\n        void 0 !== i && u(i, t.children, t.sel);\n      }\n    }\n    function m(e, n, t) {\n      let i,\n        s,\n        r,\n        o = {};\n      if (void 0 !== t ? (null !== n && (o = n), l(t) ? i = t : z(t) ? s = t.toString() : t && t.sel && (i = [t])) : null != n && (l(n) ? i = n : z(n) ? s = n.toString() : n && n.sel ? i = [n] : o = n), void 0 !== i) for (r = 0; r < i.length; ++r) z(i[r]) && (i[r] = f(void 0, void 0, void 0, i[r], void 0));\n      return \"s\" !== e[0] || \"v\" !== e[1] || \"g\" !== e[2] || 3 !== e.length && \".\" !== e[3] && \"#\" !== e[3] || u(o, i, e), f(e, o, i, s, void 0);\n    }\n    const c = {\n      type: \"formula\",\n      renderElem: function (e, n, t) {\n        var i = a.DomEditor.isNodeSelected(t, e),\n          s = e.value,\n          r = m(\"w-e-formula-card\", {\n            dataset: {\n              value: void 0 === s ? \"\" : s\n            }\n          }, null);\n        return m(\"div\", {\n          props: {\n            contentEditable: !1\n          },\n          style: {\n            display: \"inline-block\",\n            marginLeft: \"3px\",\n            marginRight: \"3px\",\n            border: i ? \"2px solid var(--w-e-textarea-selected-border-color)\" : \"2px solid transparent\",\n            borderRadius: \"3px\",\n            padding: \"3px 3px\"\n          }\n        }, [r]);\n      }\n    };\n    function x(e) {\n      return null !== e && \"object\" == typeof e && \"constructor\" in e && e.constructor === Object;\n    }\n    function d(e = {}, n = {}) {\n      Object.keys(n).forEach(t => {\n        void 0 === e[t] ? e[t] = n[t] : x(n[t]) && x(e[t]) && Object.keys(n[t]).length > 0 && d(e[t], n[t]);\n      });\n    }\n    const k = {\n      body: {},\n      addEventListener() {},\n      removeEventListener() {},\n      activeElement: {\n        blur() {},\n        nodeName: \"\"\n      },\n      querySelector: () => null,\n      querySelectorAll: () => [],\n      getElementById: () => null,\n      createEvent: () => ({\n        initEvent() {}\n      }),\n      createElement: () => ({\n        children: [],\n        childNodes: [],\n        style: {},\n        setAttribute() {},\n        getElementsByTagName: () => []\n      }),\n      createElementNS: () => ({}),\n      importNode: () => null,\n      location: {\n        hash: \"\",\n        host: \"\",\n        hostname: \"\",\n        href: \"\",\n        origin: \"\",\n        pathname: \"\",\n        protocol: \"\",\n        search: \"\"\n      }\n    };\n    function p() {\n      const e = \"undefined\" != typeof document ? document : {};\n      return d(e, k), e;\n    }\n    const g = {\n      document: k,\n      navigator: {\n        userAgent: \"\"\n      },\n      location: {\n        hash: \"\",\n        host: \"\",\n        hostname: \"\",\n        href: \"\",\n        origin: \"\",\n        pathname: \"\",\n        protocol: \"\",\n        search: \"\"\n      },\n      history: {\n        replaceState() {},\n        pushState() {},\n        go() {},\n        back() {}\n      },\n      CustomEvent: function () {\n        return this;\n      },\n      addEventListener() {},\n      removeEventListener() {},\n      getComputedStyle: () => ({\n        getPropertyValue: () => \"\"\n      }),\n      Image() {},\n      Date() {},\n      screen: {},\n      setTimeout() {},\n      clearTimeout() {},\n      matchMedia: () => ({}),\n      requestAnimationFrame: e => \"undefined\" == typeof setTimeout ? (e(), null) : setTimeout(e, 0),\n      cancelAnimationFrame(e) {\n        \"undefined\" != typeof setTimeout && clearTimeout(e);\n      }\n    };\n    function h() {\n      const e = \"undefined\" != typeof window ? window : {};\n      return d(e, g), e;\n    }\n    class y extends Array {\n      constructor(e) {\n        \"number\" == typeof e ? super(e) : (super(...(e || [])), function (e) {\n          const n = e.__proto__;\n          Object.defineProperty(e, \"__proto__\", {\n            get: () => n,\n            set(e) {\n              n.__proto__ = e;\n            }\n          });\n        }(this));\n      }\n    }\n    function w(e, n) {\n      const t = h(),\n        i = p();\n      let s = [];\n      if (!n && e instanceof y) return e;\n      if (!e) return new y(s);\n      if (\"string\" == typeof e) {\n        const t = e.trim();\n        if (t.indexOf(\"<\") >= 0 && t.indexOf(\">\") >= 0) {\n          let e = \"div\";\n          0 === t.indexOf(\"<li\") && (e = \"ul\"), 0 === t.indexOf(\"<tr\") && (e = \"tbody\"), 0 !== t.indexOf(\"<td\") && 0 !== t.indexOf(\"<th\") || (e = \"tr\"), 0 === t.indexOf(\"<tbody\") && (e = \"table\"), 0 === t.indexOf(\"<option\") && (e = \"select\");\n          const n = i.createElement(e);\n          n.innerHTML = t;\n          for (let e = 0; e < n.childNodes.length; e += 1) s.push(n.childNodes[e]);\n        } else s = function (e, n) {\n          if (\"string\" != typeof e) return [e];\n          const t = [],\n            i = n.querySelectorAll(e);\n          for (let e = 0; e < i.length; e += 1) t.push(i[e]);\n          return t;\n        }(e.trim(), n || i);\n      } else if (e.nodeType || e === t || e === i) s.push(e);else if (Array.isArray(e)) {\n        if (e instanceof y) return e;\n        s = e;\n      }\n      return new y(function (e) {\n        const n = [];\n        for (let t = 0; t < e.length; t += 1) -1 === n.indexOf(e[t]) && n.push(e[t]);\n        return n;\n      }(s));\n    }\n    function b(e) {\n      if (void 0 === e) {\n        const e = this[0];\n        if (!e) return;\n        if (e.multiple && \"select\" === e.nodeName.toLowerCase()) {\n          const n = [];\n          for (let t = 0; t < e.selectedOptions.length; t += 1) n.push(e.selectedOptions[t].value);\n          return n;\n        }\n        return e.value;\n      }\n      for (let n = 0; n < this.length; n += 1) {\n        const t = this[n];\n        if (Array.isArray(e) && t.multiple && \"select\" === t.nodeName.toLowerCase()) for (let n = 0; n < t.options.length; n += 1) t.options[n].selected = e.indexOf(t.options[n].value) >= 0;else t.value = e;\n      }\n      return this;\n    }\n    function v(...e) {\n      let [n, t, i, s] = e;\n      function r(e) {\n        const n = e.target;\n        if (!n) return;\n        const s = e.target.dom7EventData || [];\n        if (s.indexOf(e) < 0 && s.unshift(e), w(n).is(t)) i.apply(n, s);else {\n          const e = w(n).parents();\n          for (let n = 0; n < e.length; n += 1) w(e[n]).is(t) && i.apply(e[n], s);\n        }\n      }\n      function o(e) {\n        const n = e && e.target && e.target.dom7EventData || [];\n        n.indexOf(e) < 0 && n.unshift(e), i.apply(this, n);\n      }\n      \"function\" == typeof e[1] && ([n, i, s] = e, t = void 0), s || (s = !1);\n      const a = n.split(\" \");\n      let f;\n      for (let e = 0; e < this.length; e += 1) {\n        const n = this[e];\n        if (t) for (f = 0; f < a.length; f += 1) {\n          const e = a[f];\n          n.dom7LiveListeners || (n.dom7LiveListeners = {}), n.dom7LiveListeners[e] || (n.dom7LiveListeners[e] = []), n.dom7LiveListeners[e].push({\n            listener: i,\n            proxyListener: r\n          }), n.addEventListener(e, r, s);\n        } else for (f = 0; f < a.length; f += 1) {\n          const e = a[f];\n          n.dom7Listeners || (n.dom7Listeners = {}), n.dom7Listeners[e] || (n.dom7Listeners[e] = []), n.dom7Listeners[e].push({\n            listener: i,\n            proxyListener: o\n          }), n.addEventListener(e, o, s);\n        }\n      }\n      return this;\n    }\n    function T(e) {\n      if (void 0 === e) return this[0] ? this[0].innerHTML : null;\n      for (let n = 0; n < this.length; n += 1) this[n].innerHTML = e;\n      return this;\n    }\n    function _(e) {\n      const n = h(),\n        t = p(),\n        i = this[0];\n      let s, r;\n      if (!i || void 0 === e) return !1;\n      if (\"string\" == typeof e) {\n        if (i.matches) return i.matches(e);\n        if (i.webkitMatchesSelector) return i.webkitMatchesSelector(e);\n        if (i.msMatchesSelector) return i.msMatchesSelector(e);\n        for (s = w(e), r = 0; r < s.length; r += 1) if (s[r] === i) return !0;\n        return !1;\n      }\n      if (e === t) return i === t;\n      if (e === n) return i === n;\n      if (e.nodeType || e instanceof y) {\n        for (s = e.nodeType ? [e] : e, r = 0; r < s.length; r += 1) if (s[r] === i) return !0;\n        return !1;\n      }\n      return !1;\n    }\n    function S(...e) {\n      let n;\n      const t = p();\n      for (let i = 0; i < e.length; i += 1) {\n        n = e[i];\n        for (let e = 0; e < this.length; e += 1) if (\"string\" == typeof n) {\n          const i = t.createElement(\"div\");\n          for (i.innerHTML = n; i.firstChild;) this[e].appendChild(i.firstChild);\n        } else if (n instanceof y) for (let t = 0; t < n.length; t += 1) this[e].appendChild(n[t]);else this[e].appendChild(n);\n      }\n      return this;\n    }\n    function X(e) {\n      const n = [];\n      for (let t = 0; t < this.length; t += 1) {\n        let i = this[t].parentNode;\n        for (; i;) e ? w(i).is(e) && n.push(i) : n.push(i), i = i.parentNode;\n      }\n      return w(n);\n    }\n    function K(e) {\n      const n = [];\n      for (let t = 0; t < this.length; t += 1) {\n        const i = this[t].querySelectorAll(e);\n        for (let e = 0; e < i.length; e += 1) n.push(i[e]);\n      }\n      return w(n);\n    }\n    w.fn = y.prototype;\n    const M = \"resize scroll\".split(\" \");\n    function E(e) {\n      return function (...n) {\n        if (void 0 === n[0]) {\n          for (let n = 0; n < this.length; n += 1) M.indexOf(e) < 0 && (e in this[n] ? this[n][e]() : w(this[n]).trigger(e));\n          return this;\n        }\n        return this.on(e, ...n);\n      };\n    }\n    E(\"click\"), E(\"blur\");\n    const L = E(\"focus\"),\n      R = (E(\"focusin\"), E(\"focusout\"), E(\"keyup\"), E(\"keydown\"), E(\"keypress\"), E(\"submit\"), E(\"change\"), E(\"mousedown\"), E(\"mousemove\"), E(\"mouseup\"), E(\"mouseenter\"), E(\"mouseleave\"), E(\"mouseout\"), E(\"mouseover\"), E(\"touchstart\"), E(\"touchend\"), E(\"touchmove\"), E(\"resize\"), E(\"scroll\"), w);\n    S && (R.fn.append = S), T && (R.fn.html = T), b && (R.fn.val = b), v && (R.fn.on = v), L && (R.fn.focus = L), _ && (R.fn.is = _), X && (R.fn.parents = X), K && (R.fn.find = K);\n    const O = R;\n    function C(e) {\n      return void 0 === e && (e = \"r\"), \"\".concat(e, \"-\").concat(((e = 21) => crypto.getRandomValues(new Uint8Array(e)).reduce((e, n) => e + ((n &= 63) < 36 ? n.toString(36) : n < 62 ? (n - 26).toString(36).toUpperCase() : n > 62 ? \"-\" : \"_\"), \"\"))());\n    }\n    globalThis.Node, globalThis.Comment, globalThis.Element, globalThis.Text, globalThis.Range, globalThis.Selection, globalThis.StaticRange;\n    var N = function (e, n) {\n      var t = \"function\" == typeof Symbol && e[Symbol.iterator];\n      if (!t) return e;\n      var i,\n        s,\n        r = t.call(e),\n        o = [];\n      try {\n        for (; (void 0 === n || n-- > 0) && !(i = r.next()).done;) o.push(i.value);\n      } catch (e) {\n        s = {\n          error: e\n        };\n      } finally {\n        try {\n          i && !i.done && (t = r.return) && t.call(r);\n        } finally {\n          if (s) throw s.error;\n        }\n      }\n      return o;\n    };\n    function A() {\n      return C(\"w-e-insert-formula\");\n    }\n    const I = function () {\n      function e() {\n        this.title = (0, a.t)(\"formula.insert\"), this.iconSvg = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M941.6 734.72L985.984 640H1024l-64 384H0v-74.24l331.552-391.2L0 227.008V0h980L1024 256h-34.368l-18.72-38.88C935.584 143.744 909.024 128 832 128H169.984l353.056 353.056L225.632 832H768c116 0 146.656-41.568 173.6-97.28z\"></path></svg>', this.tag = \"button\", this.showModal = !0, this.modalWidth = 300, this.$content = null, this.textareaId = A(), this.buttonId = A();\n      }\n      return e.prototype.getValue = function (e) {\n        return \"\";\n      }, e.prototype.isActive = function (e) {\n        return !1;\n      }, e.prototype.exec = function (e, n) {}, e.prototype.isDisabled = function (e) {\n        var n = e.selection;\n        if (null == n) return !0;\n        if (a.SlateRange.isExpanded(n)) return !0;\n        var t = a.DomEditor.getSelectedElems(e);\n        return !!t.some(function (n) {\n          return e.isVoid(n);\n        }) || !!t.some(function (e) {\n          return \"pre\" === a.DomEditor.getNodeType(e);\n        });\n      }, e.prototype.getModalPositionNode = function (e) {\n        return null;\n      }, e.prototype.getModalContentElem = function (e) {\n        var n = this,\n          t = this.textareaId,\n          i = this.buttonId,\n          s = N((0, a.genModalTextareaElems)((0, a.t)(\"formula.formula\"), t, (0, a.t)(\"formula.placeholder\")), 2),\n          r = s[0],\n          o = s[1],\n          f = O(o),\n          l = N((0, a.genModalButtonElems)(i, (0, a.t)(\"formula.ok\")), 1)[0];\n        if (null == this.$content) {\n          var z = O(\"<div></div>\");\n          z.on(\"click\", \"#\".concat(i), function (i) {\n            i.preventDefault();\n            var s = z.find(\"#\".concat(t)).val().trim();\n            n.insertFormula(e, s), e.hidePanelOrModal();\n          }), this.$content = z;\n        }\n        var u = this.$content;\n        return u.html(\"\"), u.append(r), u.append(l), f.val(\"\"), setTimeout(function () {\n          f.focus();\n        }), u[0];\n      }, e.prototype.insertFormula = function (e, n) {\n        if (n && (e.restoreSelection(), !this.isDisabled(e))) {\n          var t = {\n            type: \"formula\",\n            value: n,\n            children: [{\n              text: \"\"\n            }]\n          };\n          e.insertNode(t);\n        }\n      }, e;\n    }();\n    var B = function (e, n) {\n      var t = \"function\" == typeof Symbol && e[Symbol.iterator];\n      if (!t) return e;\n      var i,\n        s,\n        r = t.call(e),\n        o = [];\n      try {\n        for (; (void 0 === n || n-- > 0) && !(i = r.next()).done;) o.push(i.value);\n      } catch (e) {\n        s = {\n          error: e\n        };\n      } finally {\n        try {\n          i && !i.done && (t = r.return) && t.call(r);\n        } finally {\n          if (s) throw s.error;\n        }\n      }\n      return o;\n    };\n    function F() {\n      return C(\"w-e-insert-formula\");\n    }\n    const j = function () {\n        function e() {\n          this.title = (0, a.t)(\"formula.edit\"), this.iconSvg = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M864 0a160 160 0 0 1 128 256l-64 64-224-224 64-64c26.752-20.096 59.968-32 96-32zM64 736l-64 288 288-64 592-592-224-224L64 736z m651.584-372.416l-448 448-55.168-55.168 448-448 55.168 55.168z\"></path></svg>', this.tag = \"button\", this.showModal = !0, this.modalWidth = 300, this.$content = null, this.textareaId = F(), this.buttonId = F();\n        }\n        return e.prototype.getSelectedElem = function (e) {\n          var n = a.DomEditor.getSelectedNodeByType(e, \"formula\");\n          return null == n ? null : n;\n        }, e.prototype.getValue = function (e) {\n          var n = this.getSelectedElem(e);\n          return n && n.value || \"\";\n        }, e.prototype.isActive = function (e) {\n          return !1;\n        }, e.prototype.exec = function (e, n) {}, e.prototype.isDisabled = function (e) {\n          var n = e.selection;\n          return null == n || !!a.SlateRange.isExpanded(n) || null == this.getSelectedElem(e);\n        }, e.prototype.getModalPositionNode = function (e) {\n          return this.getSelectedElem(e);\n        }, e.prototype.getModalContentElem = function (e) {\n          var n = this,\n            t = this.textareaId,\n            i = this.buttonId,\n            s = B((0, a.genModalTextareaElems)((0, a.t)(\"formula.formula\"), t, (0, a.t)(\"formula.placeholder\")), 2),\n            r = s[0],\n            o = s[1],\n            f = O(o),\n            l = B((0, a.genModalButtonElems)(i, (0, a.t)(\"formula.ok\")), 1)[0];\n          if (null == this.$content) {\n            var z = O(\"<div></div>\");\n            z.on(\"click\", \"#\".concat(i), function (i) {\n              i.preventDefault();\n              var s = z.find(\"#\".concat(t)).val().trim();\n              n.updateFormula(e, s), e.hidePanelOrModal();\n            }), this.$content = z;\n          }\n          var u = this.$content;\n          u.html(\"\"), u.append(r), u.append(l);\n          var m = this.getValue(e);\n          return f.val(m), setTimeout(function () {\n            f.focus();\n          }), u[0];\n        }, e.prototype.updateFormula = function (e, n) {\n          if (n && (e.restoreSelection(), !this.isDisabled(e))) {\n            var t = this.getSelectedElem(e);\n            if (null != t) {\n              var i = a.DomEditor.findPath(e, t),\n                s = {\n                  value: n\n                };\n              a.SlateTransforms.setNodes(e, s, {\n                at: i\n              });\n            }\n          }\n        }, e;\n      }(),\n      q = {\n        editorPlugin: function (e) {\n          var n = e.isInline,\n            t = e.isVoid,\n            i = e;\n          return i.isInline = function (e) {\n            return \"formula\" === a.DomEditor.getNodeType(e) || n(e);\n          }, i.isVoid = function (e) {\n            return \"formula\" === a.DomEditor.getNodeType(e) || t(e);\n          }, i;\n        },\n        renderElems: [c],\n        elemsToHtml: [{\n          type: \"formula\",\n          elemToHtml: function (e, n) {\n            var t = e.value;\n            return '<span data-w-e-type=\"formula\" data-w-e-is-void data-w-e-is-inline data-value=\"'.concat(void 0 === t ? \"\" : t, '\"></span>');\n          }\n        }],\n        parseElemsHtml: [{\n          selector: 'span[data-w-e-type=\"formula\"]',\n          parseElemHtml: function (e, n, t) {\n            return {\n              type: \"formula\",\n              value: e.getAttribute(\"data-value\") || \"\",\n              children: [{\n                text: \"\"\n              }]\n            };\n          }\n        }],\n        menus: [{\n          key: \"insertFormula\",\n          factory: function () {\n            return new I();\n          }\n        }, {\n          key: \"editFormula\",\n          factory: function () {\n            return new j();\n          }\n        }]\n      };\n  })(), r;\n})());","map":{"version":3,"names":["e","n","exports","module","require","define","amd","WangEditorPluginFormula","katex","wangEditor","self","window","Reflect","customElements","polyfillWrapFlushCallback","HTMLElement","construct","constructor","prototype","Object","setPrototypeOf","i","s","r","t","__esModule","default","d","a","o","defineProperty","enumerable","get","hasOwnProperty","call","Symbol","toStringTag","value","attachShadow","mode","ownerDocument","createElement","innerHTML","appendChild","style","display","span","attributeChangedCallback","render","throwOnError","i18nAddResources","formula","placeholder","insert","edit","ok","f","sel","data","children","text","elm","key","l","Array","isArray","z","String","Number","u","ns","length","m","toString","c","type","renderElem","DomEditor","isNodeSelected","dataset","props","contentEditable","marginLeft","marginRight","border","borderRadius","padding","x","keys","forEach","k","body","addEventListener","removeEventListener","activeElement","blur","nodeName","querySelector","querySelectorAll","getElementById","createEvent","initEvent","childNodes","setAttribute","getElementsByTagName","createElementNS","importNode","location","hash","host","hostname","href","origin","pathname","protocol","search","p","document","g","navigator","userAgent","history","replaceState","pushState","go","back","CustomEvent","getComputedStyle","getPropertyValue","Image","Date","screen","setTimeout","clearTimeout","matchMedia","requestAnimationFrame","cancelAnimationFrame","h","y","__proto__","set","w","trim","indexOf","push","nodeType","b","multiple","toLowerCase","selectedOptions","options","selected","v","target","dom7EventData","unshift","is","apply","parents","split","dom7LiveListeners","listener","proxyListener","dom7Listeners","T","_","matches","webkitMatchesSelector","msMatchesSelector","S","firstChild","X","parentNode","K","fn","M","E","trigger","on","L","R","append","html","val","focus","find","O","C","concat","crypto","getRandomValues","Uint8Array","reduce","toUpperCase","globalThis","Node","Comment","Element","Text","Range","Selection","StaticRange","A","I","title","iconSvg","tag","showModal","modalWidth","$content","textareaId","buttonId","getValue","isActive","exec","isDisabled","selection","SlateRange","isExpanded","getSelectedElems","some","isVoid","getNodeType","getModalPositionNode","getModalContentElem","N","genModalTextareaElems","genModalButtonElems","preventDefault","insertFormula","hidePanelOrModal","restoreSelection","insertNode","F","j","getSelectedElem","getSelectedNodeByType","B","updateFormula","findPath","SlateTransforms","setNodes","at","q","editorPlugin","isInline","renderElems","elemsToHtml","elemToHtml","parseElemsHtml","selector","parseElemHtml","getAttribute","menus","factory"],"sources":["webpack://WangEditorPluginFormula/webpack/universalModuleDefinition","webpack://WangEditorPluginFormula/src/register-custom-elem/native-shim.ts","webpack://WangEditorPluginFormula/external umd \"katex\"","webpack://WangEditorPluginFormula/external umd {\"commonjs\":\"@wangeditor/editor\",\"commonjs2\":\"@wangeditor/editor\",\"amd\":\"@wangeditor/editor\",\"root\":\"wangEditor\"}","webpack://WangEditorPluginFormula/webpack/bootstrap","webpack://WangEditorPluginFormula/webpack/runtime/compat get default export","webpack://WangEditorPluginFormula/webpack/runtime/define property getters","webpack://WangEditorPluginFormula/webpack/runtime/hasOwnProperty shorthand","webpack://WangEditorPluginFormula/webpack/runtime/make namespace object","webpack://WangEditorPluginFormula/src/register-custom-elem/index.ts","webpack://WangEditorPluginFormula/node_modules/katex/dist/katex.css","webpack://WangEditorPluginFormula/src/module/local.ts","webpack://WangEditorPluginFormula/node_modules/snabbdom/build/vnode.js","webpack://WangEditorPluginFormula/node_modules/snabbdom/build/is.js","webpack://WangEditorPluginFormula/node_modules/snabbdom/build/h.js","webpack://WangEditorPluginFormula/src/module/render-elem.ts","webpack://WangEditorPluginFormula/node_modules/ssr-window/ssr-window.esm.js","webpack://WangEditorPluginFormula/node_modules/dom7/dom7.esm.js","webpack://WangEditorPluginFormula/src/utils/dom.ts","webpack://WangEditorPluginFormula/src/utils/util.ts","webpack://WangEditorPluginFormula/node_modules/nanoid/index.browser.js","webpack://WangEditorPluginFormula/src/module/menu/InsertFormula.ts","webpack://WangEditorPluginFormula/src/constants/icon-svg.ts","webpack://WangEditorPluginFormula/src/module/menu/EditFormula.ts","webpack://WangEditorPluginFormula/src/index.ts","webpack://WangEditorPluginFormula/src/module/index.ts","webpack://WangEditorPluginFormula/src/module/plugin.ts","webpack://WangEditorPluginFormula/src/module/elem-to-html.ts","webpack://WangEditorPluginFormula/src/module/parse-elem-html.ts","webpack://WangEditorPluginFormula/src/module/menu/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"katex\"), require(\"@wangeditor/editor\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"katex\", \"@wangeditor/editor\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WangEditorPluginFormula\"] = factory(require(\"katex\"), require(\"@wangeditor/editor\"));\n\telse\n\t\troot[\"WangEditorPluginFormula\"] = factory(root[\"katex\"], root[\"wangEditor\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__771__, __WEBPACK_EXTERNAL_MODULE__857__) => {\nreturn ","// @ts-nocheck\n\n// 参考 https://github.com/webcomponents/custom-elements/blob/master/src/native-shim.js\n\n/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * This shim allows elements written in, or compiled to, ES5 to work on native\n * implementations of Custom Elements v1. It sets new.target to the value of\n * this.constructor so that the native HTMLElement constructor can access the\n * current under-construction element's definition.\n */\n;(function () {\n  if (\n    // No Reflect, no classes, no need for shim because native custom elements\n    // require ES2015 classes or Reflect.\n    window.Reflect === undefined ||\n    window.customElements === undefined ||\n    // The webcomponentsjs custom elements polyfill doesn't require\n    // ES2015-compatible construction (`super()` or `Reflect.construct`).\n    window.customElements.polyfillWrapFlushCallback\n  ) {\n    return\n  }\n  const BuiltInHTMLElement = HTMLElement\n  /**\n   * With jscompiler's RECOMMENDED_FLAGS the function name will be optimized away.\n   * However, if we declare the function as a property on an object literal, and\n   * use quotes for the property name, then closure will leave that much intact,\n   * which is enough for the JS VM to correctly set Function.prototype.name.\n   */\n  const wrapperForTheName = {\n    HTMLElement: /** @this {!Object} */ function HTMLElement() {\n      return Reflect.construct(BuiltInHTMLElement, [], /** @type {!Function} */ this.constructor)\n    },\n  }\n  window.HTMLElement = wrapperForTheName['HTMLElement']\n  HTMLElement.prototype = BuiltInHTMLElement.prototype\n  HTMLElement.prototype.constructor = HTMLElement\n  Object.setPrototypeOf(HTMLElement, BuiltInHTMLElement)\n})()\n","module.exports = __WEBPACK_EXTERNAL_MODULE__771__;","module.exports = __WEBPACK_EXTERNAL_MODULE__857__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * @description 注册自定义 elem\n * @author wangfupeng\n */\n\n// @ts-ignore\nimport katexStyleContent from '!!raw-loader!katex/dist/katex.css'\nimport katex from 'katex'\nimport './native-shim'\n\nclass WangEditorFormulaCard extends HTMLElement {\n  private span: HTMLElement\n\n  // 监听的 attr\n  static get observedAttributes() {\n    return ['data-value']\n  }\n\n  constructor() {\n    super()\n    const shadow = this.attachShadow({ mode: 'open' })\n    const document = shadow.ownerDocument\n\n    const style = document.createElement('style')\n    style.innerHTML = katexStyleContent // 加载 css 文本\n    shadow.appendChild(style)\n\n    const span = document.createElement('span')\n    span.style.display = 'inline-block'\n    shadow.appendChild(span)\n    this.span = span\n  }\n\n  // connectedCallback() {\n  //     // 当 custom element首次被插入文档DOM时，被调用\n  //     console.log('connected')\n  // }\n  // disconnectedCallback() {\n  //     // 当 custom element从文档DOM中删除时，被调用\n  //     console.log('disconnected')\n  // }\n  // adoptedCallback() {\n  //     // 当 custom element被移动到新的文档时，被调用\n  //     console.log('adopted')\n  // }\n  attributeChangedCallback(name: string, oldValue: string | null, newValue: string | null) {\n    if (name === 'data-value') {\n      if (oldValue == newValue) return\n      this.render(newValue || '')\n    }\n  }\n\n  private render(value: string) {\n    katex.render(value, this.span, {\n      throwOnError: false,\n    })\n  }\n}\n\nif (!window.customElements.get('w-e-formula-card')) {\n  window.customElements.define('w-e-formula-card', WangEditorFormulaCard)\n}\n","export default \"/* stylelint-disable font-family-no-missing-generic-family-keyword */\\n@font-face {\\n  font-family: 'KaTeX_AMS';\\n  src: url(fonts/KaTeX_AMS-Regular.woff2) format('woff2'), url(fonts/KaTeX_AMS-Regular.woff) format('woff'), url(fonts/KaTeX_AMS-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Caligraphic';\\n  src: url(fonts/KaTeX_Caligraphic-Bold.woff2) format('woff2'), url(fonts/KaTeX_Caligraphic-Bold.woff) format('woff'), url(fonts/KaTeX_Caligraphic-Bold.ttf) format('truetype');\\n  font-weight: bold;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Caligraphic';\\n  src: url(fonts/KaTeX_Caligraphic-Regular.woff2) format('woff2'), url(fonts/KaTeX_Caligraphic-Regular.woff) format('woff'), url(fonts/KaTeX_Caligraphic-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Fraktur';\\n  src: url(fonts/KaTeX_Fraktur-Bold.woff2) format('woff2'), url(fonts/KaTeX_Fraktur-Bold.woff) format('woff'), url(fonts/KaTeX_Fraktur-Bold.ttf) format('truetype');\\n  font-weight: bold;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Fraktur';\\n  src: url(fonts/KaTeX_Fraktur-Regular.woff2) format('woff2'), url(fonts/KaTeX_Fraktur-Regular.woff) format('woff'), url(fonts/KaTeX_Fraktur-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Main';\\n  src: url(fonts/KaTeX_Main-Bold.woff2) format('woff2'), url(fonts/KaTeX_Main-Bold.woff) format('woff'), url(fonts/KaTeX_Main-Bold.ttf) format('truetype');\\n  font-weight: bold;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Main';\\n  src: url(fonts/KaTeX_Main-BoldItalic.woff2) format('woff2'), url(fonts/KaTeX_Main-BoldItalic.woff) format('woff'), url(fonts/KaTeX_Main-BoldItalic.ttf) format('truetype');\\n  font-weight: bold;\\n  font-style: italic;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Main';\\n  src: url(fonts/KaTeX_Main-Italic.woff2) format('woff2'), url(fonts/KaTeX_Main-Italic.woff) format('woff'), url(fonts/KaTeX_Main-Italic.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: italic;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Main';\\n  src: url(fonts/KaTeX_Main-Regular.woff2) format('woff2'), url(fonts/KaTeX_Main-Regular.woff) format('woff'), url(fonts/KaTeX_Main-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Math';\\n  src: url(fonts/KaTeX_Math-BoldItalic.woff2) format('woff2'), url(fonts/KaTeX_Math-BoldItalic.woff) format('woff'), url(fonts/KaTeX_Math-BoldItalic.ttf) format('truetype');\\n  font-weight: bold;\\n  font-style: italic;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Math';\\n  src: url(fonts/KaTeX_Math-Italic.woff2) format('woff2'), url(fonts/KaTeX_Math-Italic.woff) format('woff'), url(fonts/KaTeX_Math-Italic.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: italic;\\n}\\n@font-face {\\n  font-family: 'KaTeX_SansSerif';\\n  src: url(fonts/KaTeX_SansSerif-Bold.woff2) format('woff2'), url(fonts/KaTeX_SansSerif-Bold.woff) format('woff'), url(fonts/KaTeX_SansSerif-Bold.ttf) format('truetype');\\n  font-weight: bold;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_SansSerif';\\n  src: url(fonts/KaTeX_SansSerif-Italic.woff2) format('woff2'), url(fonts/KaTeX_SansSerif-Italic.woff) format('woff'), url(fonts/KaTeX_SansSerif-Italic.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: italic;\\n}\\n@font-face {\\n  font-family: 'KaTeX_SansSerif';\\n  src: url(fonts/KaTeX_SansSerif-Regular.woff2) format('woff2'), url(fonts/KaTeX_SansSerif-Regular.woff) format('woff'), url(fonts/KaTeX_SansSerif-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Script';\\n  src: url(fonts/KaTeX_Script-Regular.woff2) format('woff2'), url(fonts/KaTeX_Script-Regular.woff) format('woff'), url(fonts/KaTeX_Script-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Size1';\\n  src: url(fonts/KaTeX_Size1-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size1-Regular.woff) format('woff'), url(fonts/KaTeX_Size1-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Size2';\\n  src: url(fonts/KaTeX_Size2-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size2-Regular.woff) format('woff'), url(fonts/KaTeX_Size2-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Size3';\\n  src: url(fonts/KaTeX_Size3-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size3-Regular.woff) format('woff'), url(fonts/KaTeX_Size3-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Size4';\\n  src: url(fonts/KaTeX_Size4-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size4-Regular.woff) format('woff'), url(fonts/KaTeX_Size4-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'KaTeX_Typewriter';\\n  src: url(fonts/KaTeX_Typewriter-Regular.woff2) format('woff2'), url(fonts/KaTeX_Typewriter-Regular.woff) format('woff'), url(fonts/KaTeX_Typewriter-Regular.ttf) format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n.katex {\\n  font: normal 1.21em KaTeX_Main, Times New Roman, serif;\\n  line-height: 1.2;\\n  text-indent: 0;\\n  text-rendering: auto;\\n}\\n.katex * {\\n  -ms-high-contrast-adjust: none !important;\\n  border-color: currentColor;\\n}\\n.katex .katex-version::after {\\n  content: \\\"0.15.6\\\";\\n}\\n.katex .katex-mathml {\\n  /* Accessibility hack to only show to screen readers\\n         Found at: http://a11yproject.com/posts/how-to-hide-content/ */\\n  position: absolute;\\n  clip: rect(1px, 1px, 1px, 1px);\\n  padding: 0;\\n  border: 0;\\n  height: 1px;\\n  width: 1px;\\n  overflow: hidden;\\n}\\n.katex .katex-html {\\n  /* \\\\newline is an empty block at top level, between .base elements */\\n}\\n.katex .katex-html > .newline {\\n  display: block;\\n}\\n.katex .base {\\n  position: relative;\\n  display: inline-block;\\n  white-space: nowrap;\\n  width: -webkit-min-content;\\n  width: -moz-min-content;\\n  width: min-content;\\n}\\n.katex .strut {\\n  display: inline-block;\\n}\\n.katex .textbf {\\n  font-weight: bold;\\n}\\n.katex .textit {\\n  font-style: italic;\\n}\\n.katex .textrm {\\n  font-family: KaTeX_Main;\\n}\\n.katex .textsf {\\n  font-family: KaTeX_SansSerif;\\n}\\n.katex .texttt {\\n  font-family: KaTeX_Typewriter;\\n}\\n.katex .mathnormal {\\n  font-family: KaTeX_Math;\\n  font-style: italic;\\n}\\n.katex .mathit {\\n  font-family: KaTeX_Main;\\n  font-style: italic;\\n}\\n.katex .mathrm {\\n  font-style: normal;\\n}\\n.katex .mathbf {\\n  font-family: KaTeX_Main;\\n  font-weight: bold;\\n}\\n.katex .boldsymbol {\\n  font-family: KaTeX_Math;\\n  font-weight: bold;\\n  font-style: italic;\\n}\\n.katex .amsrm {\\n  font-family: KaTeX_AMS;\\n}\\n.katex .mathbb,\\n.katex .textbb {\\n  font-family: KaTeX_AMS;\\n}\\n.katex .mathcal {\\n  font-family: KaTeX_Caligraphic;\\n}\\n.katex .mathfrak,\\n.katex .textfrak {\\n  font-family: KaTeX_Fraktur;\\n}\\n.katex .mathtt {\\n  font-family: KaTeX_Typewriter;\\n}\\n.katex .mathscr,\\n.katex .textscr {\\n  font-family: KaTeX_Script;\\n}\\n.katex .mathsf,\\n.katex .textsf {\\n  font-family: KaTeX_SansSerif;\\n}\\n.katex .mathboldsf,\\n.katex .textboldsf {\\n  font-family: KaTeX_SansSerif;\\n  font-weight: bold;\\n}\\n.katex .mathitsf,\\n.katex .textitsf {\\n  font-family: KaTeX_SansSerif;\\n  font-style: italic;\\n}\\n.katex .mainrm {\\n  font-family: KaTeX_Main;\\n  font-style: normal;\\n}\\n.katex .vlist-t {\\n  display: inline-table;\\n  table-layout: fixed;\\n  border-collapse: collapse;\\n}\\n.katex .vlist-r {\\n  display: table-row;\\n}\\n.katex .vlist {\\n  display: table-cell;\\n  vertical-align: bottom;\\n  position: relative;\\n}\\n.katex .vlist > span {\\n  display: block;\\n  height: 0;\\n  position: relative;\\n}\\n.katex .vlist > span > span {\\n  display: inline-block;\\n}\\n.katex .vlist > span > .pstrut {\\n  overflow: hidden;\\n  width: 0;\\n}\\n.katex .vlist-t2 {\\n  margin-right: -2px;\\n}\\n.katex .vlist-s {\\n  display: table-cell;\\n  vertical-align: bottom;\\n  font-size: 1px;\\n  width: 2px;\\n  min-width: 2px;\\n}\\n.katex .vbox {\\n  display: inline-flex;\\n  flex-direction: column;\\n  align-items: baseline;\\n}\\n.katex .hbox {\\n  display: inline-flex;\\n  flex-direction: row;\\n  width: 100%;\\n}\\n.katex .thinbox {\\n  display: inline-flex;\\n  flex-direction: row;\\n  width: 0;\\n  max-width: 0;\\n}\\n.katex .msupsub {\\n  text-align: left;\\n}\\n.katex .mfrac > span > span {\\n  text-align: center;\\n}\\n.katex .mfrac .frac-line {\\n  display: inline-block;\\n  width: 100%;\\n  border-bottom-style: solid;\\n}\\n.katex .mfrac .frac-line,\\n.katex .overline .overline-line,\\n.katex .underline .underline-line,\\n.katex .hline,\\n.katex .hdashline,\\n.katex .rule {\\n  min-height: 1px;\\n}\\n.katex .mspace {\\n  display: inline-block;\\n}\\n.katex .llap,\\n.katex .rlap,\\n.katex .clap {\\n  width: 0;\\n  position: relative;\\n}\\n.katex .llap > .inner,\\n.katex .rlap > .inner,\\n.katex .clap > .inner {\\n  position: absolute;\\n}\\n.katex .llap > .fix,\\n.katex .rlap > .fix,\\n.katex .clap > .fix {\\n  display: inline-block;\\n}\\n.katex .llap > .inner {\\n  right: 0;\\n}\\n.katex .rlap > .inner,\\n.katex .clap > .inner {\\n  left: 0;\\n}\\n.katex .clap > .inner > span {\\n  margin-left: -50%;\\n  margin-right: 50%;\\n}\\n.katex .rule {\\n  display: inline-block;\\n  border: solid 0;\\n  position: relative;\\n}\\n.katex .overline .overline-line,\\n.katex .underline .underline-line,\\n.katex .hline {\\n  display: inline-block;\\n  width: 100%;\\n  border-bottom-style: solid;\\n}\\n.katex .hdashline {\\n  display: inline-block;\\n  width: 100%;\\n  border-bottom-style: dashed;\\n}\\n.katex .sqrt > .root {\\n  /* These values are taken from the definition of `\\\\r@@t`,\\n             `\\\\mkern 5mu` and `\\\\mkern -10mu`. */\\n  margin-left: 0.27777778em;\\n  margin-right: -0.55555556em;\\n}\\n.katex .sizing.reset-size1.size1,\\n.katex .fontsize-ensurer.reset-size1.size1 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size1.size2,\\n.katex .fontsize-ensurer.reset-size1.size2 {\\n  font-size: 1.2em;\\n}\\n.katex .sizing.reset-size1.size3,\\n.katex .fontsize-ensurer.reset-size1.size3 {\\n  font-size: 1.4em;\\n}\\n.katex .sizing.reset-size1.size4,\\n.katex .fontsize-ensurer.reset-size1.size4 {\\n  font-size: 1.6em;\\n}\\n.katex .sizing.reset-size1.size5,\\n.katex .fontsize-ensurer.reset-size1.size5 {\\n  font-size: 1.8em;\\n}\\n.katex .sizing.reset-size1.size6,\\n.katex .fontsize-ensurer.reset-size1.size6 {\\n  font-size: 2em;\\n}\\n.katex .sizing.reset-size1.size7,\\n.katex .fontsize-ensurer.reset-size1.size7 {\\n  font-size: 2.4em;\\n}\\n.katex .sizing.reset-size1.size8,\\n.katex .fontsize-ensurer.reset-size1.size8 {\\n  font-size: 2.88em;\\n}\\n.katex .sizing.reset-size1.size9,\\n.katex .fontsize-ensurer.reset-size1.size9 {\\n  font-size: 3.456em;\\n}\\n.katex .sizing.reset-size1.size10,\\n.katex .fontsize-ensurer.reset-size1.size10 {\\n  font-size: 4.148em;\\n}\\n.katex .sizing.reset-size1.size11,\\n.katex .fontsize-ensurer.reset-size1.size11 {\\n  font-size: 4.976em;\\n}\\n.katex .sizing.reset-size2.size1,\\n.katex .fontsize-ensurer.reset-size2.size1 {\\n  font-size: 0.83333333em;\\n}\\n.katex .sizing.reset-size2.size2,\\n.katex .fontsize-ensurer.reset-size2.size2 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size2.size3,\\n.katex .fontsize-ensurer.reset-size2.size3 {\\n  font-size: 1.16666667em;\\n}\\n.katex .sizing.reset-size2.size4,\\n.katex .fontsize-ensurer.reset-size2.size4 {\\n  font-size: 1.33333333em;\\n}\\n.katex .sizing.reset-size2.size5,\\n.katex .fontsize-ensurer.reset-size2.size5 {\\n  font-size: 1.5em;\\n}\\n.katex .sizing.reset-size2.size6,\\n.katex .fontsize-ensurer.reset-size2.size6 {\\n  font-size: 1.66666667em;\\n}\\n.katex .sizing.reset-size2.size7,\\n.katex .fontsize-ensurer.reset-size2.size7 {\\n  font-size: 2em;\\n}\\n.katex .sizing.reset-size2.size8,\\n.katex .fontsize-ensurer.reset-size2.size8 {\\n  font-size: 2.4em;\\n}\\n.katex .sizing.reset-size2.size9,\\n.katex .fontsize-ensurer.reset-size2.size9 {\\n  font-size: 2.88em;\\n}\\n.katex .sizing.reset-size2.size10,\\n.katex .fontsize-ensurer.reset-size2.size10 {\\n  font-size: 3.45666667em;\\n}\\n.katex .sizing.reset-size2.size11,\\n.katex .fontsize-ensurer.reset-size2.size11 {\\n  font-size: 4.14666667em;\\n}\\n.katex .sizing.reset-size3.size1,\\n.katex .fontsize-ensurer.reset-size3.size1 {\\n  font-size: 0.71428571em;\\n}\\n.katex .sizing.reset-size3.size2,\\n.katex .fontsize-ensurer.reset-size3.size2 {\\n  font-size: 0.85714286em;\\n}\\n.katex .sizing.reset-size3.size3,\\n.katex .fontsize-ensurer.reset-size3.size3 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size3.size4,\\n.katex .fontsize-ensurer.reset-size3.size4 {\\n  font-size: 1.14285714em;\\n}\\n.katex .sizing.reset-size3.size5,\\n.katex .fontsize-ensurer.reset-size3.size5 {\\n  font-size: 1.28571429em;\\n}\\n.katex .sizing.reset-size3.size6,\\n.katex .fontsize-ensurer.reset-size3.size6 {\\n  font-size: 1.42857143em;\\n}\\n.katex .sizing.reset-size3.size7,\\n.katex .fontsize-ensurer.reset-size3.size7 {\\n  font-size: 1.71428571em;\\n}\\n.katex .sizing.reset-size3.size8,\\n.katex .fontsize-ensurer.reset-size3.size8 {\\n  font-size: 2.05714286em;\\n}\\n.katex .sizing.reset-size3.size9,\\n.katex .fontsize-ensurer.reset-size3.size9 {\\n  font-size: 2.46857143em;\\n}\\n.katex .sizing.reset-size3.size10,\\n.katex .fontsize-ensurer.reset-size3.size10 {\\n  font-size: 2.96285714em;\\n}\\n.katex .sizing.reset-size3.size11,\\n.katex .fontsize-ensurer.reset-size3.size11 {\\n  font-size: 3.55428571em;\\n}\\n.katex .sizing.reset-size4.size1,\\n.katex .fontsize-ensurer.reset-size4.size1 {\\n  font-size: 0.625em;\\n}\\n.katex .sizing.reset-size4.size2,\\n.katex .fontsize-ensurer.reset-size4.size2 {\\n  font-size: 0.75em;\\n}\\n.katex .sizing.reset-size4.size3,\\n.katex .fontsize-ensurer.reset-size4.size3 {\\n  font-size: 0.875em;\\n}\\n.katex .sizing.reset-size4.size4,\\n.katex .fontsize-ensurer.reset-size4.size4 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size4.size5,\\n.katex .fontsize-ensurer.reset-size4.size5 {\\n  font-size: 1.125em;\\n}\\n.katex .sizing.reset-size4.size6,\\n.katex .fontsize-ensurer.reset-size4.size6 {\\n  font-size: 1.25em;\\n}\\n.katex .sizing.reset-size4.size7,\\n.katex .fontsize-ensurer.reset-size4.size7 {\\n  font-size: 1.5em;\\n}\\n.katex .sizing.reset-size4.size8,\\n.katex .fontsize-ensurer.reset-size4.size8 {\\n  font-size: 1.8em;\\n}\\n.katex .sizing.reset-size4.size9,\\n.katex .fontsize-ensurer.reset-size4.size9 {\\n  font-size: 2.16em;\\n}\\n.katex .sizing.reset-size4.size10,\\n.katex .fontsize-ensurer.reset-size4.size10 {\\n  font-size: 2.5925em;\\n}\\n.katex .sizing.reset-size4.size11,\\n.katex .fontsize-ensurer.reset-size4.size11 {\\n  font-size: 3.11em;\\n}\\n.katex .sizing.reset-size5.size1,\\n.katex .fontsize-ensurer.reset-size5.size1 {\\n  font-size: 0.55555556em;\\n}\\n.katex .sizing.reset-size5.size2,\\n.katex .fontsize-ensurer.reset-size5.size2 {\\n  font-size: 0.66666667em;\\n}\\n.katex .sizing.reset-size5.size3,\\n.katex .fontsize-ensurer.reset-size5.size3 {\\n  font-size: 0.77777778em;\\n}\\n.katex .sizing.reset-size5.size4,\\n.katex .fontsize-ensurer.reset-size5.size4 {\\n  font-size: 0.88888889em;\\n}\\n.katex .sizing.reset-size5.size5,\\n.katex .fontsize-ensurer.reset-size5.size5 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size5.size6,\\n.katex .fontsize-ensurer.reset-size5.size6 {\\n  font-size: 1.11111111em;\\n}\\n.katex .sizing.reset-size5.size7,\\n.katex .fontsize-ensurer.reset-size5.size7 {\\n  font-size: 1.33333333em;\\n}\\n.katex .sizing.reset-size5.size8,\\n.katex .fontsize-ensurer.reset-size5.size8 {\\n  font-size: 1.6em;\\n}\\n.katex .sizing.reset-size5.size9,\\n.katex .fontsize-ensurer.reset-size5.size9 {\\n  font-size: 1.92em;\\n}\\n.katex .sizing.reset-size5.size10,\\n.katex .fontsize-ensurer.reset-size5.size10 {\\n  font-size: 2.30444444em;\\n}\\n.katex .sizing.reset-size5.size11,\\n.katex .fontsize-ensurer.reset-size5.size11 {\\n  font-size: 2.76444444em;\\n}\\n.katex .sizing.reset-size6.size1,\\n.katex .fontsize-ensurer.reset-size6.size1 {\\n  font-size: 0.5em;\\n}\\n.katex .sizing.reset-size6.size2,\\n.katex .fontsize-ensurer.reset-size6.size2 {\\n  font-size: 0.6em;\\n}\\n.katex .sizing.reset-size6.size3,\\n.katex .fontsize-ensurer.reset-size6.size3 {\\n  font-size: 0.7em;\\n}\\n.katex .sizing.reset-size6.size4,\\n.katex .fontsize-ensurer.reset-size6.size4 {\\n  font-size: 0.8em;\\n}\\n.katex .sizing.reset-size6.size5,\\n.katex .fontsize-ensurer.reset-size6.size5 {\\n  font-size: 0.9em;\\n}\\n.katex .sizing.reset-size6.size6,\\n.katex .fontsize-ensurer.reset-size6.size6 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size6.size7,\\n.katex .fontsize-ensurer.reset-size6.size7 {\\n  font-size: 1.2em;\\n}\\n.katex .sizing.reset-size6.size8,\\n.katex .fontsize-ensurer.reset-size6.size8 {\\n  font-size: 1.44em;\\n}\\n.katex .sizing.reset-size6.size9,\\n.katex .fontsize-ensurer.reset-size6.size9 {\\n  font-size: 1.728em;\\n}\\n.katex .sizing.reset-size6.size10,\\n.katex .fontsize-ensurer.reset-size6.size10 {\\n  font-size: 2.074em;\\n}\\n.katex .sizing.reset-size6.size11,\\n.katex .fontsize-ensurer.reset-size6.size11 {\\n  font-size: 2.488em;\\n}\\n.katex .sizing.reset-size7.size1,\\n.katex .fontsize-ensurer.reset-size7.size1 {\\n  font-size: 0.41666667em;\\n}\\n.katex .sizing.reset-size7.size2,\\n.katex .fontsize-ensurer.reset-size7.size2 {\\n  font-size: 0.5em;\\n}\\n.katex .sizing.reset-size7.size3,\\n.katex .fontsize-ensurer.reset-size7.size3 {\\n  font-size: 0.58333333em;\\n}\\n.katex .sizing.reset-size7.size4,\\n.katex .fontsize-ensurer.reset-size7.size4 {\\n  font-size: 0.66666667em;\\n}\\n.katex .sizing.reset-size7.size5,\\n.katex .fontsize-ensurer.reset-size7.size5 {\\n  font-size: 0.75em;\\n}\\n.katex .sizing.reset-size7.size6,\\n.katex .fontsize-ensurer.reset-size7.size6 {\\n  font-size: 0.83333333em;\\n}\\n.katex .sizing.reset-size7.size7,\\n.katex .fontsize-ensurer.reset-size7.size7 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size7.size8,\\n.katex .fontsize-ensurer.reset-size7.size8 {\\n  font-size: 1.2em;\\n}\\n.katex .sizing.reset-size7.size9,\\n.katex .fontsize-ensurer.reset-size7.size9 {\\n  font-size: 1.44em;\\n}\\n.katex .sizing.reset-size7.size10,\\n.katex .fontsize-ensurer.reset-size7.size10 {\\n  font-size: 1.72833333em;\\n}\\n.katex .sizing.reset-size7.size11,\\n.katex .fontsize-ensurer.reset-size7.size11 {\\n  font-size: 2.07333333em;\\n}\\n.katex .sizing.reset-size8.size1,\\n.katex .fontsize-ensurer.reset-size8.size1 {\\n  font-size: 0.34722222em;\\n}\\n.katex .sizing.reset-size8.size2,\\n.katex .fontsize-ensurer.reset-size8.size2 {\\n  font-size: 0.41666667em;\\n}\\n.katex .sizing.reset-size8.size3,\\n.katex .fontsize-ensurer.reset-size8.size3 {\\n  font-size: 0.48611111em;\\n}\\n.katex .sizing.reset-size8.size4,\\n.katex .fontsize-ensurer.reset-size8.size4 {\\n  font-size: 0.55555556em;\\n}\\n.katex .sizing.reset-size8.size5,\\n.katex .fontsize-ensurer.reset-size8.size5 {\\n  font-size: 0.625em;\\n}\\n.katex .sizing.reset-size8.size6,\\n.katex .fontsize-ensurer.reset-size8.size6 {\\n  font-size: 0.69444444em;\\n}\\n.katex .sizing.reset-size8.size7,\\n.katex .fontsize-ensurer.reset-size8.size7 {\\n  font-size: 0.83333333em;\\n}\\n.katex .sizing.reset-size8.size8,\\n.katex .fontsize-ensurer.reset-size8.size8 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size8.size9,\\n.katex .fontsize-ensurer.reset-size8.size9 {\\n  font-size: 1.2em;\\n}\\n.katex .sizing.reset-size8.size10,\\n.katex .fontsize-ensurer.reset-size8.size10 {\\n  font-size: 1.44027778em;\\n}\\n.katex .sizing.reset-size8.size11,\\n.katex .fontsize-ensurer.reset-size8.size11 {\\n  font-size: 1.72777778em;\\n}\\n.katex .sizing.reset-size9.size1,\\n.katex .fontsize-ensurer.reset-size9.size1 {\\n  font-size: 0.28935185em;\\n}\\n.katex .sizing.reset-size9.size2,\\n.katex .fontsize-ensurer.reset-size9.size2 {\\n  font-size: 0.34722222em;\\n}\\n.katex .sizing.reset-size9.size3,\\n.katex .fontsize-ensurer.reset-size9.size3 {\\n  font-size: 0.40509259em;\\n}\\n.katex .sizing.reset-size9.size4,\\n.katex .fontsize-ensurer.reset-size9.size4 {\\n  font-size: 0.46296296em;\\n}\\n.katex .sizing.reset-size9.size5,\\n.katex .fontsize-ensurer.reset-size9.size5 {\\n  font-size: 0.52083333em;\\n}\\n.katex .sizing.reset-size9.size6,\\n.katex .fontsize-ensurer.reset-size9.size6 {\\n  font-size: 0.5787037em;\\n}\\n.katex .sizing.reset-size9.size7,\\n.katex .fontsize-ensurer.reset-size9.size7 {\\n  font-size: 0.69444444em;\\n}\\n.katex .sizing.reset-size9.size8,\\n.katex .fontsize-ensurer.reset-size9.size8 {\\n  font-size: 0.83333333em;\\n}\\n.katex .sizing.reset-size9.size9,\\n.katex .fontsize-ensurer.reset-size9.size9 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size9.size10,\\n.katex .fontsize-ensurer.reset-size9.size10 {\\n  font-size: 1.20023148em;\\n}\\n.katex .sizing.reset-size9.size11,\\n.katex .fontsize-ensurer.reset-size9.size11 {\\n  font-size: 1.43981481em;\\n}\\n.katex .sizing.reset-size10.size1,\\n.katex .fontsize-ensurer.reset-size10.size1 {\\n  font-size: 0.24108004em;\\n}\\n.katex .sizing.reset-size10.size2,\\n.katex .fontsize-ensurer.reset-size10.size2 {\\n  font-size: 0.28929605em;\\n}\\n.katex .sizing.reset-size10.size3,\\n.katex .fontsize-ensurer.reset-size10.size3 {\\n  font-size: 0.33751205em;\\n}\\n.katex .sizing.reset-size10.size4,\\n.katex .fontsize-ensurer.reset-size10.size4 {\\n  font-size: 0.38572806em;\\n}\\n.katex .sizing.reset-size10.size5,\\n.katex .fontsize-ensurer.reset-size10.size5 {\\n  font-size: 0.43394407em;\\n}\\n.katex .sizing.reset-size10.size6,\\n.katex .fontsize-ensurer.reset-size10.size6 {\\n  font-size: 0.48216008em;\\n}\\n.katex .sizing.reset-size10.size7,\\n.katex .fontsize-ensurer.reset-size10.size7 {\\n  font-size: 0.57859209em;\\n}\\n.katex .sizing.reset-size10.size8,\\n.katex .fontsize-ensurer.reset-size10.size8 {\\n  font-size: 0.69431051em;\\n}\\n.katex .sizing.reset-size10.size9,\\n.katex .fontsize-ensurer.reset-size10.size9 {\\n  font-size: 0.83317261em;\\n}\\n.katex .sizing.reset-size10.size10,\\n.katex .fontsize-ensurer.reset-size10.size10 {\\n  font-size: 1em;\\n}\\n.katex .sizing.reset-size10.size11,\\n.katex .fontsize-ensurer.reset-size10.size11 {\\n  font-size: 1.19961427em;\\n}\\n.katex .sizing.reset-size11.size1,\\n.katex .fontsize-ensurer.reset-size11.size1 {\\n  font-size: 0.20096463em;\\n}\\n.katex .sizing.reset-size11.size2,\\n.katex .fontsize-ensurer.reset-size11.size2 {\\n  font-size: 0.24115756em;\\n}\\n.katex .sizing.reset-size11.size3,\\n.katex .fontsize-ensurer.reset-size11.size3 {\\n  font-size: 0.28135048em;\\n}\\n.katex .sizing.reset-size11.size4,\\n.katex .fontsize-ensurer.reset-size11.size4 {\\n  font-size: 0.32154341em;\\n}\\n.katex .sizing.reset-size11.size5,\\n.katex .fontsize-ensurer.reset-size11.size5 {\\n  font-size: 0.36173633em;\\n}\\n.katex .sizing.reset-size11.size6,\\n.katex .fontsize-ensurer.reset-size11.size6 {\\n  font-size: 0.40192926em;\\n}\\n.katex .sizing.reset-size11.size7,\\n.katex .fontsize-ensurer.reset-size11.size7 {\\n  font-size: 0.48231511em;\\n}\\n.katex .sizing.reset-size11.size8,\\n.katex .fontsize-ensurer.reset-size11.size8 {\\n  font-size: 0.57877814em;\\n}\\n.katex .sizing.reset-size11.size9,\\n.katex .fontsize-ensurer.reset-size11.size9 {\\n  font-size: 0.69453376em;\\n}\\n.katex .sizing.reset-size11.size10,\\n.katex .fontsize-ensurer.reset-size11.size10 {\\n  font-size: 0.83360129em;\\n}\\n.katex .sizing.reset-size11.size11,\\n.katex .fontsize-ensurer.reset-size11.size11 {\\n  font-size: 1em;\\n}\\n.katex .delimsizing.size1 {\\n  font-family: KaTeX_Size1;\\n}\\n.katex .delimsizing.size2 {\\n  font-family: KaTeX_Size2;\\n}\\n.katex .delimsizing.size3 {\\n  font-family: KaTeX_Size3;\\n}\\n.katex .delimsizing.size4 {\\n  font-family: KaTeX_Size4;\\n}\\n.katex .delimsizing.mult .delim-size1 > span {\\n  font-family: KaTeX_Size1;\\n}\\n.katex .delimsizing.mult .delim-size4 > span {\\n  font-family: KaTeX_Size4;\\n}\\n.katex .nulldelimiter {\\n  display: inline-block;\\n  width: 0.12em;\\n}\\n.katex .delimcenter {\\n  position: relative;\\n}\\n.katex .op-symbol {\\n  position: relative;\\n}\\n.katex .op-symbol.small-op {\\n  font-family: KaTeX_Size1;\\n}\\n.katex .op-symbol.large-op {\\n  font-family: KaTeX_Size2;\\n}\\n.katex .op-limits > .vlist-t {\\n  text-align: center;\\n}\\n.katex .accent > .vlist-t {\\n  text-align: center;\\n}\\n.katex .accent .accent-body {\\n  position: relative;\\n}\\n.katex .accent .accent-body:not(.accent-full) {\\n  width: 0;\\n}\\n.katex .overlay {\\n  display: block;\\n}\\n.katex .mtable .vertical-separator {\\n  display: inline-block;\\n  min-width: 1px;\\n}\\n.katex .mtable .arraycolsep {\\n  display: inline-block;\\n}\\n.katex .mtable .col-align-c > .vlist-t {\\n  text-align: center;\\n}\\n.katex .mtable .col-align-l > .vlist-t {\\n  text-align: left;\\n}\\n.katex .mtable .col-align-r > .vlist-t {\\n  text-align: right;\\n}\\n.katex .svg-align {\\n  text-align: left;\\n}\\n.katex svg {\\n  display: block;\\n  position: absolute;\\n  width: 100%;\\n  height: inherit;\\n  fill: currentColor;\\n  stroke: currentColor;\\n  fill-rule: nonzero;\\n  fill-opacity: 1;\\n  stroke-width: 1;\\n  stroke-linecap: butt;\\n  stroke-linejoin: miter;\\n  stroke-miterlimit: 4;\\n  stroke-dasharray: none;\\n  stroke-dashoffset: 0;\\n  stroke-opacity: 1;\\n}\\n.katex svg path {\\n  stroke: none;\\n}\\n.katex img {\\n  border-style: none;\\n  min-width: 0;\\n  min-height: 0;\\n  max-width: none;\\n  max-height: none;\\n}\\n.katex .stretchy {\\n  width: 100%;\\n  display: block;\\n  position: relative;\\n  overflow: hidden;\\n}\\n.katex .stretchy::before,\\n.katex .stretchy::after {\\n  content: \\\"\\\";\\n}\\n.katex .hide-tail {\\n  width: 100%;\\n  position: relative;\\n  overflow: hidden;\\n}\\n.katex .halfarrow-left {\\n  position: absolute;\\n  left: 0;\\n  width: 50.2%;\\n  overflow: hidden;\\n}\\n.katex .halfarrow-right {\\n  position: absolute;\\n  right: 0;\\n  width: 50.2%;\\n  overflow: hidden;\\n}\\n.katex .brace-left {\\n  position: absolute;\\n  left: 0;\\n  width: 25.1%;\\n  overflow: hidden;\\n}\\n.katex .brace-center {\\n  position: absolute;\\n  left: 25%;\\n  width: 50%;\\n  overflow: hidden;\\n}\\n.katex .brace-right {\\n  position: absolute;\\n  right: 0;\\n  width: 25.1%;\\n  overflow: hidden;\\n}\\n.katex .x-arrow-pad {\\n  padding: 0 0.5em;\\n}\\n.katex .cd-arrow-pad {\\n  padding: 0 0.55556em 0 0.27778em;\\n}\\n.katex .x-arrow,\\n.katex .mover,\\n.katex .munder {\\n  text-align: center;\\n}\\n.katex .boxpad {\\n  padding: 0 0.3em;\\n}\\n.katex .fbox,\\n.katex .fcolorbox {\\n  box-sizing: border-box;\\n  border: 0.04em solid;\\n}\\n.katex .cancel-pad {\\n  padding: 0 0.2em;\\n}\\n.katex .cancel-lap {\\n  margin-left: -0.2em;\\n  margin-right: -0.2em;\\n}\\n.katex .sout {\\n  border-bottom-style: solid;\\n  border-bottom-width: 0.08em;\\n}\\n.katex .angl {\\n  box-sizing: border-box;\\n  border-top: 0.049em solid;\\n  border-right: 0.049em solid;\\n  margin-right: 0.03889em;\\n}\\n.katex .anglpad {\\n  padding: 0 0.03889em;\\n}\\n.katex .eqn-num::before {\\n  counter-increment: katexEqnNo;\\n  content: \\\"(\\\" counter(katexEqnNo) \\\")\\\";\\n}\\n.katex .mml-eqn-num::before {\\n  counter-increment: mmlEqnNo;\\n  content: \\\"(\\\" counter(mmlEqnNo) \\\")\\\";\\n}\\n.katex .mtr-glue {\\n  width: 50%;\\n}\\n.katex .cd-vert-arrow {\\n  display: inline-block;\\n  position: relative;\\n}\\n.katex .cd-label-left {\\n  display: inline-block;\\n  position: absolute;\\n  right: calc(50% + 0.3em);\\n  text-align: left;\\n}\\n.katex .cd-label-right {\\n  display: inline-block;\\n  position: absolute;\\n  left: calc(50% + 0.3em);\\n  text-align: right;\\n}\\n.katex-display {\\n  display: block;\\n  margin: 1em 0;\\n  text-align: center;\\n}\\n.katex-display > .katex {\\n  display: block;\\n  text-align: center;\\n  white-space: nowrap;\\n}\\n.katex-display > .katex > .katex-html {\\n  display: block;\\n  position: relative;\\n}\\n.katex-display > .katex > .katex-html > .tag {\\n  position: absolute;\\n  right: 0;\\n}\\n.katex-display.leqno > .katex > .katex-html > .tag {\\n  left: 0;\\n  right: auto;\\n}\\n.katex-display.fleqn > .katex {\\n  text-align: left;\\n  padding-left: 2em;\\n}\\nbody {\\n  counter-reset: katexEqnNo mmlEqnNo;\\n}\\n\\n\";","/**\n * @description 多语言\n * @author wangfupeng\n */\n\nimport { i18nAddResources } from '@wangeditor/editor'\n\ni18nAddResources('en', {\n  formula: {\n    formula: 'Formula',\n    placeholder: 'Use LateX syntax',\n    insert: 'Insert formula',\n    edit: 'Edit formula',\n    ok: 'OK',\n  },\n})\n\ni18nAddResources('zh-CN', {\n  formula: {\n    formula: '公式',\n    placeholder: '使用 LateX 语法',\n    insert: '插入公式',\n    edit: '编辑公式',\n    ok: '确定',\n  },\n})\n","export function vnode(sel, data, children, text, elm) {\n    const key = data === undefined ? undefined : data.key;\n    return { sel, data, children, text, elm, key };\n}\n//# sourceMappingURL=vnode.js.map","export const array = Array.isArray;\nexport function primitive(s) {\n    return (typeof s === \"string\" ||\n        typeof s === \"number\" ||\n        s instanceof String ||\n        s instanceof Number);\n}\n//# sourceMappingURL=is.js.map","import { vnode } from \"./vnode\";\nimport * as is from \"./is\";\nexport function addNS(data, children, sel) {\n    data.ns = \"http://www.w3.org/2000/svg\";\n    if (sel !== \"foreignObject\" && children !== undefined) {\n        for (let i = 0; i < children.length; ++i) {\n            const child = children[i];\n            if (typeof child === \"string\")\n                continue;\n            const childData = child.data;\n            if (childData !== undefined) {\n                addNS(childData, child.children, child.sel);\n            }\n        }\n    }\n}\nexport function h(sel, b, c) {\n    let data = {};\n    let children;\n    let text;\n    let i;\n    if (c !== undefined) {\n        if (b !== null) {\n            data = b;\n        }\n        if (is.array(c)) {\n            children = c;\n        }\n        else if (is.primitive(c)) {\n            text = c.toString();\n        }\n        else if (c && c.sel) {\n            children = [c];\n        }\n    }\n    else if (b !== undefined && b !== null) {\n        if (is.array(b)) {\n            children = b;\n        }\n        else if (is.primitive(b)) {\n            text = b.toString();\n        }\n        else if (b && b.sel) {\n            children = [b];\n        }\n        else {\n            data = b;\n        }\n    }\n    if (children !== undefined) {\n        for (i = 0; i < children.length; ++i) {\n            if (is.primitive(children[i]))\n                children[i] = vnode(undefined, undefined, undefined, children[i], undefined);\n        }\n    }\n    if (sel[0] === \"s\" &&\n        sel[1] === \"v\" &&\n        sel[2] === \"g\" &&\n        (sel.length === 3 || sel[3] === \".\" || sel[3] === \"#\")) {\n        addNS(data, children, sel);\n    }\n    return vnode(sel, data, children, text, undefined);\n}\n/**\n * @experimental\n */\nexport function fragment(children) {\n    let c;\n    let text;\n    if (is.array(children)) {\n        c = children;\n    }\n    else if (is.primitive(c)) {\n        text = children;\n    }\n    else if (c && c.sel) {\n        c = [children];\n    }\n    if (c !== undefined) {\n        for (let i = 0; i < c.length; ++i) {\n            if (is.primitive(c[i]))\n                c[i] = vnode(undefined, undefined, undefined, c[i], undefined);\n        }\n    }\n    return vnode(undefined, {}, c, text, undefined);\n}\n//# sourceMappingURL=h.js.map","/**\n * @description render elem\n * @author wangfupeng\n */\n\nimport { h, VNode } from 'snabbdom'\nimport { DomEditor, IDomEditor, SlateElement } from '@wangeditor/editor'\nimport { FormulaElement } from './custom-types'\n\nfunction renderFormula(elem: SlateElement, children: VNode[] | null, editor: IDomEditor): VNode {\n  // 当前节点是否选中\n  const selected = DomEditor.isNodeSelected(editor, elem)\n\n  // 构建 formula vnode\n  const { value = '' } = elem as FormulaElement\n  const formulaVnode = h(\n    'w-e-formula-card',\n    {\n      dataset: { value },\n    },\n    null\n  )\n\n  // 构建容器 vnode\n  const containerVnode = h(\n    'div',\n    {\n      props: {\n        contentEditable: false, // 不可编辑\n      },\n      style: {\n        display: 'inline-block', // inline\n        marginLeft: '3px',\n        marginRight: '3px',\n        border: selected // 选中/不选中，样式不一样\n          ? '2px solid var(--w-e-textarea-selected-border-color)' // wangEditor 提供了 css var https://www.wangeditor.com/v5/theme.html\n          : '2px solid transparent',\n        borderRadius: '3px',\n        padding: '3px 3px',\n      },\n    },\n    [formulaVnode]\n  )\n\n  return containerVnode\n}\n\nconst conf = {\n  type: 'formula', // 节点 type ，重要！！！\n  renderElem: renderFormula,\n}\n\nexport default conf\n","/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 4.0.4\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2022, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: January 11, 2022\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass Dom7 extends Array {\n  constructor(items) {\n    if (typeof items === 'number') {\n      super(items);\n    } else {\n      super(...(items || []));\n      makeReactive(this);\n    }\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = getWindow();\n  const document = getDocument();\n  let arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = getWindow();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = getWindow();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = getWindow();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = getWindow();\n  const document = getDocument();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = getDocument();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = getDocument();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = getWindow();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = getWindow();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, trigger, val, value, width };\n","/**\n * @description DOM 操作\n * @author wangfupeng\n */\n\nimport $, { append, html, val, on, focus, is, parents, find } from 'dom7'\n\nif (append) $.fn.append = append\nif (html) $.fn.html = html\nif (val) $.fn.val = val\nif (on) $.fn.on = on\nif (focus) $.fn.focus = focus\nif (is) $.fn.is = is\nif (parents) $.fn.parents = parents\nif (find) $.fn.find = find\n\nexport { Dom7Array } from 'dom7'\nexport default $\n\n// COMPAT: This is required to prevent TypeScript aliases from doing some very\n// weird things for Slate's types with the same name as globals. (2019/11/27)\n// https://github.com/microsoft/TypeScript/issues/35002\nimport DOMNode = globalThis.Node\nimport DOMComment = globalThis.Comment\nimport DOMElement = globalThis.Element\nimport DOMText = globalThis.Text\nimport DOMRange = globalThis.Range\nimport DOMSelection = globalThis.Selection\nimport DOMStaticRange = globalThis.StaticRange\nexport { DOMNode, DOMComment, DOMElement, DOMText, DOMRange, DOMSelection, DOMStaticRange }\n","/**\n * @description 工具函数\n * @author wangfupeng\n */\n\nimport { nanoid } from 'nanoid'\n\n/**\n * 获取随机数字符串\n * @param prefix 前缀\n * @returns 随机数字符串\n */\nexport function genRandomStr(prefix: string = 'r'): string {\n  return `${prefix}-${nanoid()}`\n}\n\n// export function replaceSymbols(str: string) {\n//   return str.replace(/</g, '&lt;').replace(/>/g, '&gt;')\n// }\n","import { urlAlphabet } from './url-alphabet/index.js'\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nlet customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nlet customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nlet nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","/**\n * @description insert formula menu\n * @author wangfupeng\n */\n\nimport { IModalMenu } from '@wangeditor/editor'\nimport {\n  DomEditor,\n  IDomEditor,\n  SlateNode,\n  SlateRange,\n  t,\n  genModalTextareaElems,\n  genModalButtonElems,\n} from '@wangeditor/editor'\nimport { SIGMA_SVG } from '../../constants/icon-svg'\nimport $, { Dom7Array, DOMElement } from '../../utils/dom'\nimport { genRandomStr } from '../../utils/util'\nimport { FormulaElement } from '../custom-types'\n\n/**\n * 生成唯一的 DOM ID\n */\nfunction genDomID(): string {\n  return genRandomStr('w-e-insert-formula')\n}\n\nclass InsertFormulaMenu implements IModalMenu {\n  readonly title = t('formula.insert')\n  readonly iconSvg = SIGMA_SVG\n  readonly tag = 'button'\n  readonly showModal = true // 点击 button 时显示 modal\n  readonly modalWidth = 300\n  private $content: Dom7Array | null = null\n  private readonly textareaId = genDomID()\n  private readonly buttonId = genDomID()\n\n  getValue(editor: IDomEditor): string | boolean {\n    // 插入菜单，不需要 value\n    return ''\n  }\n\n  isActive(editor: IDomEditor): boolean {\n    // 任何时候，都不用激活 menu\n    return false\n  }\n\n  exec(editor: IDomEditor, value: string | boolean) {\n    // 点击菜单时，弹出 modal 之前，不需要执行其他代码\n    // 此处空着即可\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    const { selection } = editor\n    if (selection == null) return true\n    if (SlateRange.isExpanded(selection)) return true // 选区非折叠，禁用\n\n    const selectedElems = DomEditor.getSelectedElems(editor)\n\n    const hasVoidElem = selectedElems.some(elem => editor.isVoid(elem))\n    if (hasVoidElem) return true // 选中了 void 元素，禁用\n\n    const hasPreElem = selectedElems.some(elem => DomEditor.getNodeType(elem) === 'pre')\n    if (hasPreElem) return true // 选中了 pre 原则，禁用\n\n    return false\n  }\n\n  getModalPositionNode(editor: IDomEditor): SlateNode | null {\n    return null // modal 依据选区定位\n  }\n\n  getModalContentElem(editor: IDomEditor): DOMElement {\n    const { textareaId, buttonId } = this\n\n    const [textareaContainerElem, textareaElem] = genModalTextareaElems(\n      t('formula.formula'),\n      textareaId,\n      t('formula.placeholder')\n    )\n    const $textarea = $(textareaElem)\n    const [buttonContainerElem] = genModalButtonElems(buttonId, t('formula.ok'))\n\n    if (this.$content == null) {\n      // 第一次渲染\n      const $content = $('<div></div>')\n\n      // 绑定事件（第一次渲染时绑定，不要重复绑定）\n      $content.on('click', `#${buttonId}`, e => {\n        e.preventDefault()\n        const value = $content.find(`#${textareaId}`).val().trim()\n        this.insertFormula(editor, value)\n        editor.hidePanelOrModal() // 隐藏 modal\n      })\n\n      // 记录属性，重要\n      this.$content = $content\n    }\n\n    const $content = this.$content\n    $content.html('') // 先清空内容\n\n    // append textarea and button\n    $content.append(textareaContainerElem)\n    $content.append(buttonContainerElem)\n\n    // 设置 input val\n    $textarea.val('')\n\n    // focus 一个 input（异步，此时 DOM 尚未渲染）\n    setTimeout(() => {\n      $textarea.focus()\n    })\n\n    return $content[0]\n  }\n\n  private insertFormula(editor: IDomEditor, value: string) {\n    if (!value) return\n\n    // 还原选区\n    editor.restoreSelection()\n\n    if (this.isDisabled(editor)) return\n\n    const formulaElem: FormulaElement = {\n      type: 'formula',\n      value,\n      children: [{ text: '' }], // void node 需要有一个空 text\n    }\n    editor.insertNode(formulaElem)\n  }\n}\n\nexport default InsertFormulaMenu\n","/**\n * @description icon svg\n * @author wangfupeng\n */\n\n/**\n * 【注意】svg 字符串的长度 ，否则会导致代码体积过大\n * 尽量选择 https://www.iconfont.cn/collections/detail?spm=a313x.7781069.0.da5a778a4&cid=20293\n * 找不到再从 iconfont.com 搜索\n */\n\n// 公式\nexport const SIGMA_SVG = `<svg viewBox=\"0 0 1024 1024\"><path d=\"M941.6 734.72L985.984 640H1024l-64 384H0v-74.24l331.552-391.2L0 227.008V0h980L1024 256h-34.368l-18.72-38.88C935.584 143.744 909.024 128 832 128H169.984l353.056 353.056L225.632 832H768c116 0 146.656-41.568 173.6-97.28z\"></path></svg>`\n\n// 编辑\nexport const PENCIL_SVG =\n  '<svg viewBox=\"0 0 1024 1024\"><path d=\"M864 0a160 160 0 0 1 128 256l-64 64-224-224 64-64c26.752-20.096 59.968-32 96-32zM64 736l-64 288 288-64 592-592-224-224L64 736z m651.584-372.416l-448 448-55.168-55.168 448-448 55.168 55.168z\"></path></svg>'\n","/**\n * @description edit formula menu\n * @author wangfupeng\n */\n\nimport { IModalMenu } from '@wangeditor/editor'\nimport {\n  DomEditor,\n  IDomEditor,\n  SlateNode,\n  SlateTransforms,\n  SlateRange,\n  t,\n  genModalTextareaElems,\n  genModalButtonElems,\n} from '@wangeditor/editor'\nimport { PENCIL_SVG } from '../../constants/icon-svg'\nimport $, { Dom7Array, DOMElement } from '../../utils/dom'\nimport { genRandomStr } from '../../utils/util'\nimport { FormulaElement } from '../custom-types'\n\n/**\n * 生成唯一的 DOM ID\n */\nfunction genDomID(): string {\n  return genRandomStr('w-e-insert-formula')\n}\n\nclass EditFormulaMenu implements IModalMenu {\n  readonly title = t('formula.edit')\n  readonly iconSvg = PENCIL_SVG\n  readonly tag = 'button'\n  readonly showModal = true // 点击 button 时显示 modal\n  readonly modalWidth = 300\n  private $content: Dom7Array | null = null\n  private readonly textareaId = genDomID()\n  private readonly buttonId = genDomID()\n\n  private getSelectedElem(editor: IDomEditor): FormulaElement | null {\n    const node = DomEditor.getSelectedNodeByType(editor, 'formula')\n    if (node == null) return null\n    return node as FormulaElement\n  }\n\n  /**\n   * 获取公式 value\n   * @param editor editor\n   */\n  getValue(editor: IDomEditor): string | boolean {\n    const formulaElem = this.getSelectedElem(editor)\n    if (formulaElem) {\n      return formulaElem.value || ''\n    }\n    return ''\n  }\n\n  isActive(editor: IDomEditor): boolean {\n    // 无需 active\n    return false\n  }\n\n  exec(editor: IDomEditor, value: string | boolean) {\n    // 点击菜单时，弹出 modal 之前，不需要执行其他代码\n    // 此处空着即可\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    const { selection } = editor\n    if (selection == null) return true\n    if (SlateRange.isExpanded(selection)) return true // 选区非折叠，禁用\n\n    // 未匹配到 formula node 则禁用\n    const formulaElem = this.getSelectedElem(editor)\n    if (formulaElem == null) return true\n\n    return false\n  }\n\n  // modal 定位\n  getModalPositionNode(editor: IDomEditor): SlateNode | null {\n    return this.getSelectedElem(editor)\n  }\n\n  getModalContentElem(editor: IDomEditor): DOMElement {\n    const { textareaId, buttonId } = this\n\n    const [textareaContainerElem, textareaElem] = genModalTextareaElems(\n      t('formula.formula'),\n      textareaId,\n      t('formula.placeholder')\n    )\n    const $textarea = $(textareaElem)\n    const [buttonContainerElem] = genModalButtonElems(buttonId, t('formula.ok'))\n\n    if (this.$content == null) {\n      // 第一次渲染\n      const $content = $('<div></div>')\n\n      // 绑定事件（第一次渲染时绑定，不要重复绑定）\n      $content.on('click', `#${buttonId}`, e => {\n        e.preventDefault()\n        const value = $content.find(`#${textareaId}`).val().trim()\n        this.updateFormula(editor, value)\n        editor.hidePanelOrModal() // 隐藏 modal\n      })\n\n      // 记录属性，重要\n      this.$content = $content\n    }\n\n    const $content = this.$content\n    $content.html('') // 先清空内容\n\n    // append textarea and button\n    $content.append(textareaContainerElem)\n    $content.append(buttonContainerElem)\n\n    // 设置 input val\n    const value = this.getValue(editor)\n    $textarea.val(value)\n\n    // focus 一个 input（异步，此时 DOM 尚未渲染）\n    setTimeout(() => {\n      $textarea.focus()\n    })\n\n    return $content[0]\n  }\n\n  private updateFormula(editor: IDomEditor, value: string) {\n    if (!value) return\n\n    // 还原选区\n    editor.restoreSelection()\n\n    if (this.isDisabled(editor)) return\n\n    const selectedElem = this.getSelectedElem(editor)\n    if (selectedElem == null) return\n\n    const path = DomEditor.findPath(editor, selectedElem)\n    const props: Partial<FormulaElement> = { value }\n    SlateTransforms.setNodes(editor, props, { at: path })\n  }\n}\n\nexport default EditFormulaMenu\n","/**\n * @description src entry\n * @author wangfupeng\n */\n\n// 全局注册自定义组件，用于渲染公式\nimport './register-custom-elem'\n\nimport module from './module/index'\n\nexport default module\n","/**\n * @description formula module entry\n * @author wangfupeng\n */\n\nimport './local' // 多语言\n\nimport { IModuleConf } from '@wangeditor/editor'\nimport withFormula from './plugin'\nimport renderElemConf from './render-elem'\nimport elemToHtmlConf from './elem-to-html'\nimport parseHtmlConf from './parse-elem-html'\nimport { insertFormulaMenuConf, editFormulaMenuConf } from './menu/index'\n\nconst module: Partial<IModuleConf> = {\n  editorPlugin: withFormula,\n  renderElems: [renderElemConf],\n  elemsToHtml: [elemToHtmlConf],\n  parseElemsHtml: [parseHtmlConf],\n  menus: [insertFormulaMenuConf, editFormulaMenuConf],\n}\n\nexport default module\n","/**\n * @description formula plugin\n * @author wangfupeng\n */\n\nimport { DomEditor, IDomEditor } from '@wangeditor/editor'\n\nfunction withFormula<T extends IDomEditor>(editor: T) {\n  const { isInline, isVoid } = editor\n  const newEditor = editor\n\n  // 重写 isInline\n  newEditor.isInline = elem => {\n    const type = DomEditor.getNodeType(elem)\n    if (type === 'formula') {\n      return true\n    }\n\n    return isInline(elem)\n  }\n\n  // 重写 isVoid\n  newEditor.isVoid = elem => {\n    const type = DomEditor.getNodeType(elem)\n    if (type === 'formula') {\n      return true\n    }\n\n    return isVoid(elem)\n  }\n\n  return newEditor\n}\n\nexport default withFormula\n","/**\n * @description elem to html\n * @author wangfupeng\n */\n\nimport { SlateElement } from '@wangeditor/editor'\nimport { FormulaElement } from './custom-types'\n\n// 生成 html 的函数\nfunction formulaToHtml(elem: SlateElement, childrenHtml: string): string {\n  const { value = '' } = elem as FormulaElement\n  return `<span data-w-e-type=\"formula\" data-w-e-is-void data-w-e-is-inline data-value=\"${value}\"></span>`\n}\n\n// 配置\nconst conf = {\n  type: 'formula', // 节点 type ，重要！！！\n  elemToHtml: formulaToHtml,\n}\n\nexport default conf\n","/**\n * @description parse elem html\n * @author wangfupeng\n */\n\nimport { DOMElement } from '../utils/dom'\nimport { IDomEditor, SlateDescendant, SlateElement } from '@wangeditor/editor'\nimport { FormulaElement } from './custom-types'\n\nfunction parseHtml(\n  elem: DOMElement,\n  children: SlateDescendant[],\n  editor: IDomEditor\n): SlateElement {\n  const value = elem.getAttribute('data-value') || ''\n  return {\n    type: 'formula',\n    value,\n    children: [{ text: '' }], // void node 必须有一个空白 text\n  } as FormulaElement\n}\n\nconst parseHtmlConf = {\n  selector: 'span[data-w-e-type=\"formula\"]',\n  parseElemHtml: parseHtml,\n}\n\nexport default parseHtmlConf\n","/**\n * @description formula menu entry\n * @author wangfupeng\n */\n\nimport InsertFormulaMenu from './InsertFormula'\nimport EditFormulaMenu from './EditFormula'\n\nexport const insertFormulaMenuConf = {\n  key: 'insertFormula', // menu key ，唯一。注册之后，可配置到工具栏\n  factory() {\n    return new InsertFormulaMenu()\n  },\n}\n\nexport const editFormulaMenuConf = {\n  key: 'editFormula', // menu key ，唯一。注册之后，可配置到工具栏\n  factory() {\n    return new EditFormulaMenu()\n  },\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}